(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();var Ju={exports:{}},Gs={};var ny;function C2(){if(ny)return Gs;ny=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:t,type:s,key:u,ref:o!==void 0?o:null,props:c}}return Gs.Fragment=n,Gs.jsx=a,Gs.jsxs=a,Gs}var iy;function M2(){return iy||(iy=1,Ju.exports=C2()),Ju.exports}var x=M2(),Wu={exports:{}},ue={};var ay;function R2(){if(ay)return ue;ay=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function S(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function D(R,H,Y){this.props=R,this.context=H,this.refs=M,this.updater=Y||T}D.prototype.isReactComponent={},D.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},D.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function j(){}j.prototype=D.prototype;function C(R,H,Y){this.props=R,this.context=H,this.refs=M,this.updater=Y||T}var B=C.prototype=new j;B.constructor=C,E(B,D.prototype),B.isPureReactComponent=!0;var P=Array.isArray;function Q(){}var X={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function ae(R,H,Y){var J=Y.ref;return{$$typeof:t,type:R,key:H,ref:J!==void 0?J:null,props:Y}}function ie(R,H){return ae(R.type,H,R.props)}function Ue(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function ce(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Y){return H[Y]})}var ge=/\/+/g;function Ae(R,H){return typeof R=="object"&&R!==null&&R.key!=null?ce(""+R.key):H.toString(36)}function fe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Q,Q):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function V(R,H,Y,J,de){var ye=typeof R;(ye==="undefined"||ye==="boolean")&&(R=null);var Ce=!1;if(R===null)Ce=!0;else switch(ye){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(R.$$typeof){case t:case n:Ce=!0;break;case g:return Ce=R._init,V(Ce(R._payload),H,Y,J,de)}}if(Ce)return de=de(R),Ce=J===""?"."+Ae(R,0):J,P(de)?(Y="",Ce!=null&&(Y=Ce.replace(ge,"$&/")+"/"),V(de,H,Y,"",function(Wa){return Wa})):de!=null&&(Ue(de)&&(de=ie(de,Y+(de.key==null||R&&R.key===de.key?"":(""+de.key).replace(ge,"$&/")+"/")+Ce)),H.push(de)),1;Ce=0;var yt=J===""?".":J+":";if(P(R))for(var Fe=0;Fe<R.length;Fe++)J=R[Fe],ye=yt+Ae(J,Fe),Ce+=V(J,H,Y,ye,de);else if(Fe=S(R),typeof Fe=="function")for(R=Fe.call(R),Fe=0;!(J=R.next()).done;)J=J.value,ye=yt+Ae(J,Fe++),Ce+=V(J,H,Y,ye,de);else if(ye==="object"){if(typeof R.then=="function")return V(fe(R),H,Y,J,de);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function G(R,H,Y){if(R==null)return R;var J=[],de=0;return V(R,J,"","",function(ye){return H.call(Y,ye,de++)}),J}function F(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(Y){(R._status===0||R._status===-1)&&(R._status=1,R._result=Y)},function(Y){(R._status===0||R._status===-1)&&(R._status=2,R._result=Y)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var oe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},pe={map:G,forEach:function(R,H,Y){G(R,function(){H.apply(this,arguments)},Y)},count:function(R){var H=0;return G(R,function(){H++}),H},toArray:function(R){return G(R,function(H){return H})||[]},only:function(R){if(!Ue(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ue.Activity=y,ue.Children=pe,ue.Component=D,ue.Fragment=a,ue.Profiler=o,ue.PureComponent=C,ue.StrictMode=s,ue.Suspense=p,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ue.__COMPILER_RUNTIME={__proto__:null,c:function(R){return X.H.useMemoCache(R)}},ue.cache=function(R){return function(){return R.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(R,H,Y){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var J=E({},R.props),de=R.key;if(H!=null)for(ye in H.key!==void 0&&(de=""+H.key),H)!K.call(H,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&H.ref===void 0||(J[ye]=H[ye]);var ye=arguments.length-2;if(ye===1)J.children=Y;else if(1<ye){for(var Ce=Array(ye),yt=0;yt<ye;yt++)Ce[yt]=arguments[yt+2];J.children=Ce}return ae(R.type,de,J)},ue.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},ue.createElement=function(R,H,Y){var J,de={},ye=null;if(H!=null)for(J in H.key!==void 0&&(ye=""+H.key),H)K.call(H,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(de[J]=H[J]);var Ce=arguments.length-2;if(Ce===1)de.children=Y;else if(1<Ce){for(var yt=Array(Ce),Fe=0;Fe<Ce;Fe++)yt[Fe]=arguments[Fe+2];de.children=yt}if(R&&R.defaultProps)for(J in Ce=R.defaultProps,Ce)de[J]===void 0&&(de[J]=Ce[J]);return ae(R,ye,de)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(R){return{$$typeof:d,render:R}},ue.isValidElement=Ue,ue.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:F}},ue.memo=function(R,H){return{$$typeof:m,type:R,compare:H===void 0?null:H}},ue.startTransition=function(R){var H=X.T,Y={};X.T=Y;try{var J=R(),de=X.S;de!==null&&de(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Q,oe)}catch(ye){oe(ye)}finally{H!==null&&Y.types!==null&&(H.types=Y.types),X.T=H}},ue.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ue.use=function(R){return X.H.use(R)},ue.useActionState=function(R,H,Y){return X.H.useActionState(R,H,Y)},ue.useCallback=function(R,H){return X.H.useCallback(R,H)},ue.useContext=function(R){return X.H.useContext(R)},ue.useDebugValue=function(){},ue.useDeferredValue=function(R,H){return X.H.useDeferredValue(R,H)},ue.useEffect=function(R,H){return X.H.useEffect(R,H)},ue.useEffectEvent=function(R){return X.H.useEffectEvent(R)},ue.useId=function(){return X.H.useId()},ue.useImperativeHandle=function(R,H,Y){return X.H.useImperativeHandle(R,H,Y)},ue.useInsertionEffect=function(R,H){return X.H.useInsertionEffect(R,H)},ue.useLayoutEffect=function(R,H){return X.H.useLayoutEffect(R,H)},ue.useMemo=function(R,H){return X.H.useMemo(R,H)},ue.useOptimistic=function(R,H){return X.H.useOptimistic(R,H)},ue.useReducer=function(R,H,Y){return X.H.useReducer(R,H,Y)},ue.useRef=function(R){return X.H.useRef(R)},ue.useState=function(R){return X.H.useState(R)},ue.useSyncExternalStore=function(R,H,Y){return X.H.useSyncExternalStore(R,H,Y)},ue.useTransition=function(){return X.H.useTransition()},ue.version="19.2.4",ue}var sy;function ud(){return sy||(sy=1,Wu.exports=R2()),Wu.exports}var w=ud(),ef={exports:{}},Ys={},tf={exports:{}},nf={};var ry;function z2(){return ry||(ry=1,(function(t){function n(V,G){var F=V.length;V.push(G);e:for(;0<F;){var oe=F-1>>>1,pe=V[oe];if(0<o(pe,G))V[oe]=G,V[F]=pe,F=oe;else break e}}function a(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var G=V[0],F=V.pop();if(F!==G){V[0]=F;e:for(var oe=0,pe=V.length,R=pe>>>1;oe<R;){var H=2*(oe+1)-1,Y=V[H],J=H+1,de=V[J];if(0>o(Y,F))J<pe&&0>o(de,Y)?(V[oe]=de,V[J]=F,oe=J):(V[oe]=Y,V[H]=F,oe=H);else if(J<pe&&0>o(de,F))V[oe]=de,V[J]=F,oe=J;else break e}}return G}function o(V,G){var F=V.sortIndex-G.sortIndex;return F!==0?F:V.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var p=[],m=[],g=1,y=null,b=3,S=!1,T=!1,E=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function B(V){for(var G=a(m);G!==null;){if(G.callback===null)s(m);else if(G.startTime<=V)s(m),G.sortIndex=G.expirationTime,n(p,G);else break;G=a(m)}}function P(V){if(E=!1,B(V),!T)if(a(p)!==null)T=!0,Q||(Q=!0,ce());else{var G=a(m);G!==null&&fe(P,G.startTime-V)}}var Q=!1,X=-1,K=5,ae=-1;function ie(){return M?!0:!(t.unstable_now()-ae<K)}function Ue(){if(M=!1,Q){var V=t.unstable_now();ae=V;var G=!0;try{e:{T=!1,E&&(E=!1,j(X),X=-1),S=!0;var F=b;try{t:{for(B(V),y=a(p);y!==null&&!(y.expirationTime>V&&ie());){var oe=y.callback;if(typeof oe=="function"){y.callback=null,b=y.priorityLevel;var pe=oe(y.expirationTime<=V);if(V=t.unstable_now(),typeof pe=="function"){y.callback=pe,B(V),G=!0;break t}y===a(p)&&s(p),B(V)}else s(p);y=a(p)}if(y!==null)G=!0;else{var R=a(m);R!==null&&fe(P,R.startTime-V),G=!1}}break e}finally{y=null,b=F,S=!1}G=void 0}}finally{G?ce():Q=!1}}}var ce;if(typeof C=="function")ce=function(){C(Ue)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ae=ge.port2;ge.port1.onmessage=Ue,ce=function(){Ae.postMessage(null)}}else ce=function(){D(Ue,0)};function fe(V,G){X=D(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(V){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var F=b;b=G;try{return V()}finally{b=F}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=b;b=V;try{return G()}finally{b=F}},t.unstable_scheduleCallback=function(V,G,F){var oe=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?oe+F:oe):F=oe,V){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=F+pe,V={id:g++,callback:G,priorityLevel:V,startTime:F,expirationTime:pe,sortIndex:-1},F>oe?(V.sortIndex=F,n(m,V),a(p)===null&&V===a(m)&&(E?(j(X),X=-1):E=!0,fe(P,F-oe))):(V.sortIndex=pe,n(p,V),T||S||(T=!0,Q||(Q=!0,ce()))),V},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(V){var G=b;return function(){var F=b;b=G;try{return V.apply(this,arguments)}finally{b=F}}}})(nf)),nf}var oy;function D2(){return oy||(oy=1,tf.exports=z2()),tf.exports}var af={exports:{}},gt={};var ly;function O2(){if(ly)return gt;ly=1;var t=ud();function n(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gt.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(p,m,null,g)},gt.flushSync=function(p){var m=u.T,g=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=m,s.p=g,s.d.f()}},gt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},gt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:S}):g==="script"&&s.d.X(p,{crossOrigin:y,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},gt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin);s.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gt.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=d(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},gt.requestFormReset=function(p){s.d.r(p)},gt.unstable_batchedUpdates=function(p,m){return p(m)},gt.useFormState=function(p,m,g){return u.H.useFormState(p,m,g)},gt.useFormStatus=function(){return u.H.useHostTransitionStatus()},gt.version="19.2.4",gt}var cy;function j2(){if(cy)return af.exports;cy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),af.exports=O2(),af.exports}var uy;function k2(){if(uy)return Ys;uy=1;var t=D2(),n=ud(),a=j2();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,r=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(r=i.return),e=i.return;while(e)}return i.tag===3?r:null}function u(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function m(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var r=e,l=i;;){var f=r.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){r=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===r)return p(f),e;if(h===l)return p(f),i;h=h.sibling}throw Error(s(188))}if(r.return!==l.return)r=f,l=h;else{for(var v=!1,_=f.child;_;){if(_===r){v=!0,r=f,l=h;break}if(_===l){v=!0,l=f,r=h;break}_=_.sibling}if(!v){for(_=h.child;_;){if(_===r){v=!0,r=h,l=f;break}if(_===l){v=!0,l=h,r=f;break}_=_.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),C=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),Ue=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=Ue&&e[Ue]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case D:return"Profiler";case M:return"StrictMode";case P:return"Suspense";case Q:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case C:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case B:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return i=e.displayName||null,i!==null?i:Ae(e.type)||"Memo";case K:i=e._payload,e=e._init;try{return Ae(e(i))}catch{}}return null}var fe=Array.isArray,V=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},oe=[],pe=-1;function R(e){return{current:e}}function H(e){0>pe||(e.current=oe[pe],oe[pe]=null,pe--)}function Y(e,i){pe++,oe[pe]=e.current,e.current=i}var J=R(null),de=R(null),ye=R(null),Ce=R(null);function yt(e,i){switch(Y(ye,i),Y(de,e),Y(J,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Eg(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Eg(i),e=Ag(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(J),Y(J,e)}function Fe(){H(J),H(de),H(ye)}function Wa(e){e.memoizedState!==null&&Y(Ce,e);var i=J.current,r=Ag(i,e.type);i!==r&&(Y(de,e),Y(J,r))}function _r(e){de.current===e&&(H(J),H(de)),Ce.current===e&&(H(Ce),$s._currentValue=F)}var kl,th;function xi(e){if(kl===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);kl=i&&i[1]||"",th=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kl+e+th}var Nl=!1;function Ll(e,i){if(!e||Nl)return"";Nl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(U){var L=U}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(U){L=U}e.call(Z.prototype)}}else{try{throw Error()}catch(U){L=U}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(U){if(U&&L&&typeof U.stack=="string")return[U.stack,L.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),v=h[0],_=h[1];if(v&&_){var A=v.split(`
`),N=_.split(`
`);for(f=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;f<N.length&&!N[f].includes("DetermineComponentFrameRoot");)f++;if(l===A.length||f===N.length)for(l=A.length-1,f=N.length-1;1<=l&&0<=f&&A[l]!==N[f];)f--;for(;1<=l&&0<=f;l--,f--)if(A[l]!==N[f]){if(l!==1||f!==1)do if(l--,f--,0>f||A[l]!==N[f]){var $=`
`+A[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=f);break}}}finally{Nl=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?xi(r):""}function ax(e,i){switch(e.tag){case 26:case 27:case 5:return xi(e.type);case 16:return xi("Lazy");case 13:return e.child!==i&&i!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Ll(e.type,!1);case 11:return Ll(e.type.render,!1);case 1:return Ll(e.type,!0);case 31:return xi("Activity");default:return""}}function nh(e){try{var i="",r=null;do i+=ax(e,r),r=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ul=Object.prototype.hasOwnProperty,Vl=t.unstable_scheduleCallback,Bl=t.unstable_cancelCallback,sx=t.unstable_shouldYield,rx=t.unstable_requestPaint,Dt=t.unstable_now,ox=t.unstable_getCurrentPriorityLevel,ih=t.unstable_ImmediatePriority,ah=t.unstable_UserBlockingPriority,wr=t.unstable_NormalPriority,lx=t.unstable_LowPriority,sh=t.unstable_IdlePriority,cx=t.log,ux=t.unstable_setDisableYieldValue,es=null,Ot=null;function $n(e){if(typeof cx=="function"&&ux(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(es,e)}catch{}}var jt=Math.clz32?Math.clz32:hx,fx=Math.log,dx=Math.LN2;function hx(e){return e>>>=0,e===0?32:31-(fx(e)/dx|0)|0}var Tr=256,Er=262144,Ar=4194304;function Si(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cr(e,i,r){var l=e.pendingLanes;if(l===0)return 0;var f=0,h=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~h,l!==0?f=Si(l):(v&=_,v!==0?f=Si(v):r||(r=_&~e,r!==0&&(f=Si(r))))):(_=l&~h,_!==0?f=Si(_):v!==0?f=Si(v):r||(r=l&~e,r!==0&&(f=Si(r)))),f===0?0:i!==0&&i!==f&&(i&h)===0&&(h=f&-f,r=i&-i,h>=r||h===32&&(r&4194048)!==0)?i:f}function ts(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function px(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rh(){var e=Ar;return Ar<<=1,(Ar&62914560)===0&&(Ar=4194304),e}function Hl(e){for(var i=[],r=0;31>r;r++)i.push(e);return i}function ns(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mx(e,i,r,l,f,h){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,N=e.hiddenUpdates;for(r=v&~r;0<r;){var $=31-jt(r),Z=1<<$;_[$]=0,A[$]=-1;var L=N[$];if(L!==null)for(N[$]=null,$=0;$<L.length;$++){var U=L[$];U!==null&&(U.lane&=-536870913)}r&=~Z}l!==0&&oh(e,l,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(v&~i))}function oh(e,i,r){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-jt(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function lh(e,i){var r=e.entangledLanes|=i;for(e=e.entanglements;r;){var l=31-jt(r),f=1<<l;f&i|e[l]&i&&(e[l]|=i),r&=~f}}function ch(e,i){var r=i&-i;return r=(r&42)!==0?1:Pl(r),(r&(e.suspendedLanes|i))!==0?0:r}function Pl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $l(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uh(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Xg(e.type))}function fh(e,i){var r=G.p;try{return G.p=e,i()}finally{G.p=r}}var In=Math.random().toString(36).slice(2),ct="__reactFiber$"+In,_t="__reactProps$"+In,Ki="__reactContainer$"+In,Il="__reactEvents$"+In,gx="__reactListeners$"+In,yx="__reactHandles$"+In,dh="__reactResources$"+In,is="__reactMarker$"+In;function Zl(e){delete e[ct],delete e[_t],delete e[Il],delete e[gx],delete e[yx]}function Qi(e){var i=e[ct];if(i)return i;for(var r=e.parentNode;r;){if(i=r[Ki]||r[ct]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(e=jg(e);e!==null;){if(r=e[ct])return r;e=jg(e)}return i}e=r,r=e.parentNode}return null}function Ji(e){if(e=e[ct]||e[Ki]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function as(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Wi(e){var i=e[dh];return i||(i=e[dh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(e){e[is]=!0}var hh=new Set,ph={};function _i(e,i){ea(e,i),ea(e+"Capture",i)}function ea(e,i){for(ph[e]=i,e=0;e<i.length;e++)hh.add(i[e])}var vx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mh={},gh={};function bx(e){return Ul.call(gh,e)?!0:Ul.call(mh,e)?!1:vx.test(e)?gh[e]=!0:(mh[e]=!0,!1)}function Mr(e,i,r){if(bx(i))if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+r)}}function Rr(e,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+r)}}function bn(e,i,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(i,r,""+l)}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yh(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xx(e,i,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,h=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){r=""+v,h.call(this,v)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ql(e){if(!e._valueTracker){var i=yh(e)?"checked":"value";e._valueTracker=xx(e,i,""+e[i])}}function vh(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return e&&(l=yh(e)?e.checked?"true":"false":e.value),e=l,e!==r?(i.setValue(e),!0):!1}function zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sx=/[\n"\\]/g;function It(e){return e.replace(Sx,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Gl(e,i,r,l,f,h,v,_){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$t(i)):e.value!==""+$t(i)&&(e.value=""+$t(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Yl(e,v,$t(i)):r!=null?Yl(e,v,$t(r)):l!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+$t(_):e.removeAttribute("name")}function bh(e,i,r,l,f,h,v,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),i!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){ql(e);return}r=r!=null?""+$t(r):"",i=i!=null?""+$t(i):r,_||i===e.value||(e.value=i),e.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),ql(e)}function Yl(e,i,r){i==="number"&&zr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ta(e,i,r,l){if(e=e.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=i.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&l&&(e[r].defaultSelected=!0)}else{for(r=""+$t(r),i=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function xh(e,i,r){if(i!=null&&(i=""+$t(i),i!==e.value&&(e.value=i),r==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=r!=null?""+$t(r):""}function Sh(e,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(s(92));if(fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=$t(i),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),ql(e)}function na(e,i){if(i){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=i;return}}e.textContent=i}var _x=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _h(e,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,r):typeof r!="number"||r===0||_x.has(i)?i==="float"?e.cssFloat=r:e[i]=(""+r).trim():e[i]=r+"px"}function wh(e,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&r[f]!==l&&_h(e,f,l)}else for(var h in i)i.hasOwnProperty(h)&&_h(e,h,i[h])}function Fl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(e){return Tx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xn(){}var Xl=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ia=null,aa=null;function Th(e){var i=Ji(e);if(i&&(e=i.stateNode)){var r=e[_t]||null;e:switch(e=i.stateNode,i.type){case"input":if(Gl(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+It(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==e&&l.form===e.form){var f=l[_t]||null;if(!f)throw Error(s(90));Gl(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===e.form&&vh(l)}break e;case"textarea":xh(e,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&ta(e,!!r.multiple,i,!1)}}}var Ql=!1;function Eh(e,i,r){if(Ql)return e(i,r);Ql=!0;try{var l=e(i);return l}finally{if(Ql=!1,(ia!==null||aa!==null)&&(bo(),ia&&(i=ia,e=aa,aa=ia=null,Th(i),e)))for(i=0;i<e.length;i++)Th(e[i])}}function ss(e,i){var r=e.stateNode;if(r===null)return null;var l=r[_t]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=!1;if(Sn)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{Jl=!1}var Zn=null,Wl=null,Or=null;function Ah(){if(Or)return Or;var e,i=Wl,r=i.length,l,f="value"in Zn?Zn.value:Zn.textContent,h=f.length;for(e=0;e<r&&i[e]===f[e];e++);var v=r-e;for(l=1;l<=v&&i[r-l]===f[h-l];l++);return Or=f.slice(e,1<l?1-l:void 0)}function jr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function kr(){return!0}function Ch(){return!1}function wt(e){function i(r,l,f,h,v){this._reactName=r,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?kr:Ch,this.isPropagationStopped=Ch,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),i}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nr=wt(wi),os=y({},wi,{view:0,detail:0}),Ex=wt(os),ec,tc,ls,Lr=y({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(ec=e.screenX-ls.screenX,tc=e.screenY-ls.screenY):tc=ec=0,ls=e),ec)},movementY:function(e){return"movementY"in e?e.movementY:tc}}),Mh=wt(Lr),Ax=y({},Lr,{dataTransfer:0}),Cx=wt(Ax),Mx=y({},os,{relatedTarget:0}),nc=wt(Mx),Rx=y({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=wt(Rx),Dx=y({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ox=wt(Dx),jx=y({},wi,{data:0}),Rh=wt(jx),kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ux(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Lx[e])?!!i[e]:!1}function ic(){return Ux}var Vx=y({},os,{key:function(e){if(e.key){var i=kx[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bx=wt(Vx),Hx=y({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=wt(Hx),Px=y({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),$x=wt(Px),Ix=y({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zx=wt(Ix),qx=y({},Lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gx=wt(qx),Yx=y({},wi,{newState:0,oldState:0}),Fx=wt(Yx),Xx=[9,13,27,32],ac=Sn&&"CompositionEvent"in window,cs=null;Sn&&"documentMode"in document&&(cs=document.documentMode);var Kx=Sn&&"TextEvent"in window&&!cs,Dh=Sn&&(!ac||cs&&8<cs&&11>=cs),Oh=" ",jh=!1;function kh(e,i){switch(e){case"keyup":return Xx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function Qx(e,i){switch(e){case"compositionend":return Nh(i);case"keypress":return i.which!==32?null:(jh=!0,Oh);case"textInput":return e=i.data,e===Oh&&jh?null:e;default:return null}}function Jx(e,i){if(sa)return e==="compositionend"||!ac&&kh(e,i)?(e=Ah(),Or=Wl=Zn=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Dh&&i.locale!=="ko"?null:i.data;default:return null}}var Wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Wx[e.type]:i==="textarea"}function Uh(e,i,r,l){ia?aa?aa.push(l):aa=[l]:ia=l,i=Ao(i,"onChange"),0<i.length&&(r=new Nr("onChange","change",null,r,l),e.push({event:r,listeners:i}))}var us=null,fs=null;function eS(e){bg(e,0)}function Ur(e){var i=as(e);if(vh(i))return e}function Vh(e,i){if(e==="change")return i}var Bh=!1;if(Sn){var sc;if(Sn){var rc="oninput"in document;if(!rc){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),rc=typeof Hh.oninput=="function"}sc=rc}else sc=!1;Bh=sc&&(!document.documentMode||9<document.documentMode)}function Ph(){us&&(us.detachEvent("onpropertychange",$h),fs=us=null)}function $h(e){if(e.propertyName==="value"&&Ur(fs)){var i=[];Uh(i,fs,e,Kl(e)),Eh(eS,i)}}function tS(e,i,r){e==="focusin"?(Ph(),us=i,fs=r,us.attachEvent("onpropertychange",$h)):e==="focusout"&&Ph()}function nS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ur(fs)}function iS(e,i){if(e==="click")return Ur(i)}function aS(e,i){if(e==="input"||e==="change")return Ur(i)}function sS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var kt=typeof Object.is=="function"?Object.is:sS;function ds(e,i){if(kt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var r=Object.keys(e),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var f=r[l];if(!Ul.call(i,f)||!kt(e[f],i[f]))return!1}return!0}function Ih(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zh(e,i){var r=Ih(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=i&&l>=i)return{node:r,offset:i-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ih(r)}}function qh(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?qh(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Gh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=zr(e.document);i instanceof e.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)e=i.contentWindow;else break;i=zr(e.document)}return i}function oc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var rS=Sn&&"documentMode"in document&&11>=document.documentMode,ra=null,lc=null,hs=null,cc=!1;function Yh(e,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cc||ra==null||ra!==zr(l)||(l=ra,"selectionStart"in l&&oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hs&&ds(hs,l)||(hs=l,l=Ao(lc,"onSelect"),0<l.length&&(i=new Nr("onSelect","select",null,i,r),e.push({event:i,listeners:l}),i.target=ra)))}function Ti(e,i){var r={};return r[e.toLowerCase()]=i.toLowerCase(),r["Webkit"+e]="webkit"+i,r["Moz"+e]="moz"+i,r}var oa={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},uc={},Fh={};Sn&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function Ei(e){if(uc[e])return uc[e];if(!oa[e])return e;var i=oa[e],r;for(r in i)if(i.hasOwnProperty(r)&&r in Fh)return uc[e]=i[r];return e}var Xh=Ei("animationend"),Kh=Ei("animationiteration"),Qh=Ei("animationstart"),oS=Ei("transitionrun"),lS=Ei("transitionstart"),cS=Ei("transitioncancel"),Jh=Ei("transitionend"),Wh=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function nn(e,i){Wh.set(e,i),_i(i,[e])}var Vr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zt=[],la=0,dc=0;function Br(){for(var e=la,i=dc=la=0;i<e;){var r=Zt[i];Zt[i++]=null;var l=Zt[i];Zt[i++]=null;var f=Zt[i];Zt[i++]=null;var h=Zt[i];if(Zt[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}h!==0&&ep(r,f,h)}}function Hr(e,i,r,l){Zt[la++]=e,Zt[la++]=i,Zt[la++]=r,Zt[la++]=l,dc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function hc(e,i,r,l){return Hr(e,i,r,l),Pr(e)}function Ai(e,i){return Hr(e,null,null,i),Pr(e)}function ep(e,i,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var f=!1,h=e.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&i!==null&&(f=31-jt(r),e=h.hiddenUpdates,l=e[f],l===null?e[f]=[i]:l.push(i),i.lane=r|536870912),h):null}function Pr(e){if(50<Ns)throw Ns=0,_u=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ca={};function uS(e,i,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,i,r,l){return new uS(e,i,r,l)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,i){var r=e.alternate;return r===null?(r=Nt(e.tag,i,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=i,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,i=e.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function tp(e,i){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,i=r.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function $r(e,i,r,l,f,h){var v=0;if(l=e,typeof e=="function")pc(e)&&(v=1);else if(typeof e=="string")v=m2(e,r,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=Nt(31,r,i,f),e.elementType=ae,e.lanes=h,e;case E:return Ci(r.children,f,h,i);case M:v=8,f|=24;break;case D:return e=Nt(12,r,i,f|2),e.elementType=D,e.lanes=h,e;case P:return e=Nt(13,r,i,f),e.elementType=P,e.lanes=h,e;case Q:return e=Nt(19,r,i,f),e.elementType=Q,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:v=10;break e;case j:v=9;break e;case B:v=11;break e;case X:v=14;break e;case K:v=16,l=null;break e}v=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Nt(v,r,i,f),i.elementType=e,i.type=l,i.lanes=h,i}function Ci(e,i,r,l){return e=Nt(7,e,l,i),e.lanes=r,e}function mc(e,i,r){return e=Nt(6,e,null,i),e.lanes=r,e}function np(e){var i=Nt(18,null,null,0);return i.stateNode=e,i}function gc(e,i,r){return i=Nt(4,e.children!==null?e.children:[],e.key,i),i.lanes=r,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ip=new WeakMap;function qt(e,i){if(typeof e=="object"&&e!==null){var r=ip.get(e);return r!==void 0?r:(i={value:e,source:i,stack:nh(i)},ip.set(e,i),i)}return{value:e,source:i,stack:nh(i)}}var ua=[],fa=0,Ir=null,ps=0,Gt=[],Yt=0,qn=null,un=1,fn="";function wn(e,i){ua[fa++]=ps,ua[fa++]=Ir,Ir=e,ps=i}function ap(e,i,r){Gt[Yt++]=un,Gt[Yt++]=fn,Gt[Yt++]=qn,qn=e;var l=un;e=fn;var f=32-jt(l)-1;l&=~(1<<f),r+=1;var h=32-jt(i)+f;if(30<h){var v=f-f%5;h=(l&(1<<v)-1).toString(32),l>>=v,f-=v,un=1<<32-jt(i)+f|r<<f|l,fn=h+e}else un=1<<h|r<<f|l,fn=e}function yc(e){e.return!==null&&(wn(e,1),ap(e,1,0))}function vc(e){for(;e===Ir;)Ir=ua[--fa],ua[fa]=null,ps=ua[--fa],ua[fa]=null;for(;e===qn;)qn=Gt[--Yt],Gt[Yt]=null,fn=Gt[--Yt],Gt[Yt]=null,un=Gt[--Yt],Gt[Yt]=null}function sp(e,i){Gt[Yt++]=un,Gt[Yt++]=fn,Gt[Yt++]=qn,un=i.id,fn=i.overflow,qn=e}var ut=null,Ve=null,_e=!1,Gn=null,Ft=!1,bc=Error(s(519));function Yn(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ms(qt(i,e)),bc}function rp(e){var i=e.stateNode,r=e.type,l=e.memoizedProps;switch(i[ct]=e,i[_t]=l,r){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(r=0;r<Us.length;r++)be(Us[r],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":be("invalid",i),bh(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":be("invalid",i);break;case"textarea":be("invalid",i),Sh(i,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||wg(i.textContent,r)?(l.popover!=null&&(be("beforetoggle",i),be("toggle",i)),l.onScroll!=null&&be("scroll",i),l.onScrollEnd!=null&&be("scrollend",i),l.onClick!=null&&(i.onclick=xn),i=!0):i=!1,i||Yn(e,!0)}function op(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:ut=ut.return}}function da(e){if(e!==ut)return!1;if(!_e)return op(e),_e=!0,!1;var i=e.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Uu(e.type,e.memoizedProps)),r=!r),r&&Ve&&Yn(e),op(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ve=Og(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ve=Og(e)}else i===27?(i=Ve,oi(e.type)?(e=$u,$u=null,Ve=e):Ve=i):Ve=ut?Kt(e.stateNode.nextSibling):null;return!0}function Mi(){Ve=ut=null,_e=!1}function xc(){var e=Gn;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Gn=null),e}function ms(e){Gn===null?Gn=[e]:Gn.push(e)}var Sc=R(null),Ri=null,Tn=null;function Fn(e,i,r){Y(Sc,i._currentValue),i._currentValue=r}function En(e){e._currentValue=Sc.current,H(Sc)}function _c(e,i,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===r)break;e=e.return}}function wc(e,i,r,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=f;for(var A=0;A<i.length;A++)if(_.context===i[A]){h.lanes|=r,_=h.alternate,_!==null&&(_.lanes|=r),_c(h.return,r,e),l||(v=null);break e}h=_.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=r,h=v.alternate,h!==null&&(h.lanes|=r),_c(v,r,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ha(e,i,r,l){e=null;for(var f=i,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var _=f.type;kt(f.pendingProps.value,v.value)||(e!==null?e.push(_):e=[_])}}else if(f===Ce.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push($s):e=[$s])}f=f.return}e!==null&&wc(i,e,r,l),i.flags|=262144}function Zr(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zi(e){Ri=e,Tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return lp(Ri,e)}function qr(e,i){return Ri===null&&zi(e),lp(e,i)}function lp(e,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Tn===null){if(e===null)throw Error(s(308));Tn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Tn=Tn.next=i;return r}var fS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(r){return r()})}},dS=t.unstable_scheduleCallback,hS=t.unstable_NormalPriority,We={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tc(){return{controller:new fS,data:new Map,refCount:0}}function gs(e){e.refCount--,e.refCount===0&&dS(hS,function(){e.controller.abort()})}var ys=null,Ec=0,pa=0,ma=null;function pS(e,i){if(ys===null){var r=ys=[];Ec=0,pa=Mu(),ma={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Ec++,i.then(cp,cp),i}function cp(){if(--Ec===0&&ys!==null){ma!==null&&(ma.status="fulfilled");var e=ys;ys=null,pa=0,ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function mS(e,i){var r=[],l={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),l}var up=V.S;V.S=function(e,i){Ym=Dt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&pS(e,i),up!==null&&up(e,i)};var Di=R(null);function Ac(){var e=Di.current;return e!==null?e:ke.pooledCache}function Gr(e,i){i===null?Y(Di,Di.current):Y(Di,i.pool)}function fp(){var e=Ac();return e===null?null:{parent:We._currentValue,pool:e}}var ga=Error(s(460)),Cc=Error(s(474)),Yr=Error(s(542)),Fr={then:function(){}};function dp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hp(e,i,r){switch(r=e[r],r===void 0?e.push(i):r!==i&&(i.then(xn,xn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,mp(e),e;default:if(typeof i.status=="string")i.then(xn,xn);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,mp(e),e}throw ji=i,ga}}function Oi(e){try{var i=e._init;return i(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ji=r,ga):r}}var ji=null;function pp(){if(ji===null)throw Error(s(459));var e=ji;return ji=null,e}function mp(e){if(e===ga||e===Yr)throw Error(s(483))}var ya=null,vs=0;function Xr(e){var i=vs;return vs+=1,ya===null&&(ya=[]),hp(ya,e,i)}function bs(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Kr(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function gp(e){function i(O,z){if(e){var k=O.deletions;k===null?(O.deletions=[z],O.flags|=16):k.push(z)}}function r(O,z){if(!e)return null;for(;z!==null;)i(O,z),z=z.sibling;return null}function l(O){for(var z=new Map;O!==null;)O.key!==null?z.set(O.key,O):z.set(O.index,O),O=O.sibling;return z}function f(O,z){return O=_n(O,z),O.index=0,O.sibling=null,O}function h(O,z,k){return O.index=k,e?(k=O.alternate,k!==null?(k=k.index,k<z?(O.flags|=67108866,z):k):(O.flags|=67108866,z)):(O.flags|=1048576,z)}function v(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function _(O,z,k,I){return z===null||z.tag!==6?(z=mc(k,O.mode,I),z.return=O,z):(z=f(z,k),z.return=O,z)}function A(O,z,k,I){var se=k.type;return se===E?$(O,z,k.props.children,I,k.key):z!==null&&(z.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===K&&Oi(se)===z.type)?(z=f(z,k.props),bs(z,k),z.return=O,z):(z=$r(k.type,k.key,k.props,null,O.mode,I),bs(z,k),z.return=O,z)}function N(O,z,k,I){return z===null||z.tag!==4||z.stateNode.containerInfo!==k.containerInfo||z.stateNode.implementation!==k.implementation?(z=gc(k,O.mode,I),z.return=O,z):(z=f(z,k.children||[]),z.return=O,z)}function $(O,z,k,I,se){return z===null||z.tag!==7?(z=Ci(k,O.mode,I,se),z.return=O,z):(z=f(z,k),z.return=O,z)}function Z(O,z,k){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=mc(""+z,O.mode,k),z.return=O,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return k=$r(z.type,z.key,z.props,null,O.mode,k),bs(k,z),k.return=O,k;case T:return z=gc(z,O.mode,k),z.return=O,z;case K:return z=Oi(z),Z(O,z,k)}if(fe(z)||ce(z))return z=Ci(z,O.mode,k,null),z.return=O,z;if(typeof z.then=="function")return Z(O,Xr(z),k);if(z.$$typeof===C)return Z(O,qr(O,z),k);Kr(O,z)}return null}function L(O,z,k,I){var se=z!==null?z.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return se!==null?null:_(O,z,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return k.key===se?A(O,z,k,I):null;case T:return k.key===se?N(O,z,k,I):null;case K:return k=Oi(k),L(O,z,k,I)}if(fe(k)||ce(k))return se!==null?null:$(O,z,k,I,null);if(typeof k.then=="function")return L(O,z,Xr(k),I);if(k.$$typeof===C)return L(O,z,qr(O,k),I);Kr(O,k)}return null}function U(O,z,k,I,se){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return O=O.get(k)||null,_(z,O,""+I,se);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case S:return O=O.get(I.key===null?k:I.key)||null,A(z,O,I,se);case T:return O=O.get(I.key===null?k:I.key)||null,N(z,O,I,se);case K:return I=Oi(I),U(O,z,k,I,se)}if(fe(I)||ce(I))return O=O.get(k)||null,$(z,O,I,se,null);if(typeof I.then=="function")return U(O,z,k,Xr(I),se);if(I.$$typeof===C)return U(O,z,k,qr(z,I),se);Kr(z,I)}return null}function W(O,z,k,I){for(var se=null,we=null,ne=z,me=z=0,Se=null;ne!==null&&me<k.length;me++){ne.index>me?(Se=ne,ne=null):Se=ne.sibling;var Te=L(O,ne,k[me],I);if(Te===null){ne===null&&(ne=Se);break}e&&ne&&Te.alternate===null&&i(O,ne),z=h(Te,z,me),we===null?se=Te:we.sibling=Te,we=Te,ne=Se}if(me===k.length)return r(O,ne),_e&&wn(O,me),se;if(ne===null){for(;me<k.length;me++)ne=Z(O,k[me],I),ne!==null&&(z=h(ne,z,me),we===null?se=ne:we.sibling=ne,we=ne);return _e&&wn(O,me),se}for(ne=l(ne);me<k.length;me++)Se=U(ne,O,me,k[me],I),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?me:Se.key),z=h(Se,z,me),we===null?se=Se:we.sibling=Se,we=Se);return e&&ne.forEach(function(di){return i(O,di)}),_e&&wn(O,me),se}function le(O,z,k,I){if(k==null)throw Error(s(151));for(var se=null,we=null,ne=z,me=z=0,Se=null,Te=k.next();ne!==null&&!Te.done;me++,Te=k.next()){ne.index>me?(Se=ne,ne=null):Se=ne.sibling;var di=L(O,ne,Te.value,I);if(di===null){ne===null&&(ne=Se);break}e&&ne&&di.alternate===null&&i(O,ne),z=h(di,z,me),we===null?se=di:we.sibling=di,we=di,ne=Se}if(Te.done)return r(O,ne),_e&&wn(O,me),se;if(ne===null){for(;!Te.done;me++,Te=k.next())Te=Z(O,Te.value,I),Te!==null&&(z=h(Te,z,me),we===null?se=Te:we.sibling=Te,we=Te);return _e&&wn(O,me),se}for(ne=l(ne);!Te.done;me++,Te=k.next())Te=U(ne,O,me,Te.value,I),Te!==null&&(e&&Te.alternate!==null&&ne.delete(Te.key===null?me:Te.key),z=h(Te,z,me),we===null?se=Te:we.sibling=Te,we=Te);return e&&ne.forEach(function(A2){return i(O,A2)}),_e&&wn(O,me),se}function je(O,z,k,I){if(typeof k=="object"&&k!==null&&k.type===E&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case S:e:{for(var se=k.key;z!==null;){if(z.key===se){if(se=k.type,se===E){if(z.tag===7){r(O,z.sibling),I=f(z,k.props.children),I.return=O,O=I;break e}}else if(z.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===K&&Oi(se)===z.type){r(O,z.sibling),I=f(z,k.props),bs(I,k),I.return=O,O=I;break e}r(O,z);break}else i(O,z);z=z.sibling}k.type===E?(I=Ci(k.props.children,O.mode,I,k.key),I.return=O,O=I):(I=$r(k.type,k.key,k.props,null,O.mode,I),bs(I,k),I.return=O,O=I)}return v(O);case T:e:{for(se=k.key;z!==null;){if(z.key===se)if(z.tag===4&&z.stateNode.containerInfo===k.containerInfo&&z.stateNode.implementation===k.implementation){r(O,z.sibling),I=f(z,k.children||[]),I.return=O,O=I;break e}else{r(O,z);break}else i(O,z);z=z.sibling}I=gc(k,O.mode,I),I.return=O,O=I}return v(O);case K:return k=Oi(k),je(O,z,k,I)}if(fe(k))return W(O,z,k,I);if(ce(k)){if(se=ce(k),typeof se!="function")throw Error(s(150));return k=se.call(k),le(O,z,k,I)}if(typeof k.then=="function")return je(O,z,Xr(k),I);if(k.$$typeof===C)return je(O,z,qr(O,k),I);Kr(O,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,z!==null&&z.tag===6?(r(O,z.sibling),I=f(z,k),I.return=O,O=I):(r(O,z),I=mc(k,O.mode,I),I.return=O,O=I),v(O)):r(O,z)}return function(O,z,k,I){try{vs=0;var se=je(O,z,k,I);return ya=null,se}catch(ne){if(ne===ga||ne===Yr)throw ne;var we=Nt(29,ne,null,O.mode);return we.lanes=I,we.return=O,we}}}var ki=gp(!0),yp=gp(!1),Xn=!1;function Mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,i,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Pr(e),ep(e,null,r),i}return Hr(e,l,i,r),Pr(e)}function xs(e,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,r|=l,i.lanes=r,lh(e,r)}}function zc(e,i){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var f=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,r=r.next}while(r!==null);h===null?f=h=i:h=h.next=i}else f=h=i;r={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=i:e.next=i,r.lastBaseUpdate=i}var Dc=!1;function Ss(){if(Dc){var e=ma;if(e!==null)throw e}}function _s(e,i,r,l){Dc=!1;var f=e.updateQueue;Xn=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var A=_,N=A.next;A.next=null,v===null?h=N:v.next=N,v=A;var $=e.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==v&&(_===null?$.firstBaseUpdate=N:_.next=N,$.lastBaseUpdate=A))}if(h!==null){var Z=f.baseState;v=0,$=N=A=null,_=h;do{var L=_.lane&-536870913,U=L!==_.lane;if(U?(xe&L)===L:(l&L)===L){L!==0&&L===pa&&(Dc=!0),$!==null&&($=$.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var W=e,le=_;L=i;var je=r;switch(le.tag){case 1:if(W=le.payload,typeof W=="function"){Z=W.call(je,Z,L);break e}Z=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=le.payload,L=typeof W=="function"?W.call(je,Z,L):W,L==null)break e;Z=y({},Z,L);break e;case 2:Xn=!0}}L=_.callback,L!==null&&(e.flags|=64,U&&(e.flags|=8192),U=f.callbacks,U===null?f.callbacks=[L]:U.push(L))}else U={lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(N=$=U,A=Z):$=$.next=U,v|=L;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;U=_,_=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);$===null&&(A=Z),f.baseState=A,f.firstBaseUpdate=N,f.lastBaseUpdate=$,h===null&&(f.shared.lanes=0),ni|=v,e.lanes=v,e.memoizedState=Z}}function vp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function bp(e,i){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)vp(r[e],i)}var va=R(null),Qr=R(0);function xp(e,i){e=kn,Y(Qr,e),Y(va,i),kn=e|i.baseLanes}function Oc(){Y(Qr,kn),Y(va,va.current)}function jc(){kn=Qr.current,H(va),H(Qr)}var Lt=R(null),Xt=null;function Jn(e){var i=e.alternate;Y(Xe,Xe.current&1),Y(Lt,e),Xt===null&&(i===null||va.current!==null||i.memoizedState!==null)&&(Xt=e)}function kc(e){Y(Xe,Xe.current),Y(Lt,e),Xt===null&&(Xt=e)}function Sp(e){e.tag===22?(Y(Xe,Xe.current),Y(Lt,e),Xt===null&&(Xt=e)):Wn()}function Wn(){Y(Xe,Xe.current),Y(Lt,Lt.current)}function Ut(e){H(Lt),Xt===e&&(Xt=null),H(Xe)}var Xe=R(0);function Jr(e){for(var i=e;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Hu(r)||Pu(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var An=0,he=null,De=null,et=null,Wr=!1,ba=!1,Ni=!1,eo=0,ws=0,xa=null,gS=0;function qe(){throw Error(s(321))}function Nc(e,i){if(i===null)return!1;for(var r=0;r<i.length&&r<e.length;r++)if(!kt(e[r],i[r]))return!1;return!0}function Lc(e,i,r,l,f,h){return An=h,he=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=e===null||e.memoizedState===null?am:Qc,Ni=!1,h=r(l,f),Ni=!1,ba&&(h=wp(i,r,l,f)),_p(e),h}function _p(e){V.H=As;var i=De!==null&&De.next!==null;if(An=0,et=De=he=null,Wr=!1,ws=0,xa=null,i)throw Error(s(300));e===null||tt||(e=e.dependencies,e!==null&&Zr(e)&&(tt=!0))}function wp(e,i,r,l){he=e;var f=0;do{if(ba&&(xa=null),ws=0,ba=!1,25<=f)throw Error(s(301));if(f+=1,et=De=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}V.H=sm,h=i(r,l)}while(ba);return h}function yS(){var e=V.H,i=e.useState()[0];return i=typeof i.then=="function"?Ts(i):i,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(he.flags|=1024),i}function Uc(){var e=eo!==0;return eo=0,e}function Vc(e,i,r){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~r}function Bc(e){if(Wr){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Wr=!1}An=0,et=De=he=null,ba=!1,ws=eo=0,xa=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?he.memoizedState=et=e:et=et.next=e,et}function Ke(){if(De===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var i=et===null?he.memoizedState:et.next;if(i!==null)et=i,De=e;else{if(e===null)throw he.alternate===null?Error(s(467)):Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},et===null?he.memoizedState=et=e:et=et.next=e}return et}function to(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(e){var i=ws;return ws+=1,xa===null&&(xa=[]),e=hp(xa,e,i),i=he,(et===null?i.memoizedState:et.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?am:Qc),e}function no(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ts(e);if(e.$$typeof===C)return ft(e)}throw Error(s(438,String(e)))}function Hc(e){var i=null,r=he.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=to(),he.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(e),l=0;l<e;l++)r[l]=ie;return i.index++,r}function Cn(e,i){return typeof i=="function"?i(e):i}function io(e){var i=Ke();return Pc(i,De,e)}function Pc(e,i,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var f=e.baseQueue,h=l.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}i.baseQueue=f=h,l.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{i=f.next;var _=v=null,A=null,N=i,$=!1;do{var Z=N.lane&-536870913;if(Z!==N.lane?(xe&Z)===Z:(An&Z)===Z){var L=N.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Z===pa&&($=!0);else if((An&L)===L){N=N.next,L===pa&&($=!0);continue}else Z={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},A===null?(_=A=Z,v=h):A=A.next=Z,he.lanes|=L,ni|=L;Z=N.action,Ni&&r(h,Z),h=N.hasEagerState?N.eagerState:r(h,Z)}else L={lane:Z,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},A===null?(_=A=L,v=h):A=A.next=L,he.lanes|=Z,ni|=Z;N=N.next}while(N!==null&&N!==i);if(A===null?v=h:A.next=_,!kt(h,e.memoizedState)&&(tt=!0,$&&(r=ma,r!==null)))throw r;e.memoizedState=h,e.baseState=v,e.baseQueue=A,l.lastRenderedState=h}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function $c(e){var i=Ke(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,f=r.pending,h=i.memoizedState;if(f!==null){r.pending=null;var v=f=f.next;do h=e(h,v.action),v=v.next;while(v!==f);kt(h,i.memoizedState)||(tt=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),r.lastRenderedState=h}return[h,l]}function Tp(e,i,r){var l=he,f=Ke(),h=_e;if(h){if(r===void 0)throw Error(s(407));r=r()}else r=i();var v=!kt((De||f).memoizedState,r);if(v&&(f.memoizedState=r,tt=!0),f=f.queue,qc(Cp.bind(null,l,f,e),[e]),f.getSnapshot!==i||v||et!==null&&et.memoizedState.tag&1){if(l.flags|=2048,Sa(9,{destroy:void 0},Ap.bind(null,l,f,r,i),null),ke===null)throw Error(s(349));h||(An&127)!==0||Ep(l,i,r)}return r}function Ep(e,i,r){e.flags|=16384,e={getSnapshot:i,value:r},i=he.updateQueue,i===null?(i=to(),he.updateQueue=i,i.stores=[e]):(r=i.stores,r===null?i.stores=[e]:r.push(e))}function Ap(e,i,r,l){i.value=r,i.getSnapshot=l,Mp(i)&&Rp(e)}function Cp(e,i,r){return r(function(){Mp(i)&&Rp(e)})}function Mp(e){var i=e.getSnapshot;e=e.value;try{var r=i();return!kt(e,r)}catch{return!0}}function Rp(e){var i=Ai(e,2);i!==null&&Mt(i,e,2)}function Ic(e){var i=vt();if(typeof e=="function"){var r=e;if(e=r(),Ni){$n(!0);try{r()}finally{$n(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},i}function zp(e,i,r,l){return e.baseState=r,Pc(e,De,typeof l=="function"?l:Cn)}function vS(e,i,r,l,f){if(ro(e))throw Error(s(485));if(e=i.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};V.T!==null?r(!0):h.isTransition=!1,l(h),r=i.pending,r===null?(h.next=i.pending=h,Dp(i,h)):(h.next=r.next,i.pending=r.next=h)}}function Dp(e,i){var r=i.action,l=i.payload,f=e.state;if(i.isTransition){var h=V.T,v={};V.T=v;try{var _=r(f,l),A=V.S;A!==null&&A(v,_),Op(e,i,_)}catch(N){Zc(e,i,N)}finally{h!==null&&v.types!==null&&(h.types=v.types),V.T=h}}else try{h=r(f,l),Op(e,i,h)}catch(N){Zc(e,i,N)}}function Op(e,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){jp(e,i,l)},function(l){return Zc(e,i,l)}):jp(e,i,r)}function jp(e,i,r){i.status="fulfilled",i.value=r,kp(i),e.state=r,i=e.pending,i!==null&&(r=i.next,r===i?e.pending=null:(r=r.next,i.next=r,Dp(e,r)))}function Zc(e,i,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,kp(i),i=i.next;while(i!==l)}e.action=null}function kp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Np(e,i){return i}function Lp(e,i){if(_e){var r=ke.formState;if(r!==null){e:{var l=he;if(_e){if(Ve){t:{for(var f=Ve,h=Ft;f.nodeType!==8;){if(!h){f=null;break t}if(f=Kt(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Ve=Kt(f.nextSibling),l=f.data==="F!";break e}}Yn(l)}l=!1}l&&(i=r[0])}}return r=vt(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:i},r.queue=l,r=tm.bind(null,he,l),l.dispatch=r,l=Ic(!1),h=Kc.bind(null,he,!1,l.queue),l=vt(),f={state:i,dispatch:null,action:e,pending:null},l.queue=f,r=vS.bind(null,he,f,h,r),f.dispatch=r,l.memoizedState=e,[i,r,!1]}function Up(e){var i=Ke();return Vp(i,De,e)}function Vp(e,i,r){if(i=Pc(e,i,Np)[0],e=io(Cn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ts(i)}catch(v){throw v===ga?Yr:v}else l=i;i=Ke();var f=i.queue,h=f.dispatch;return r!==i.memoizedState&&(he.flags|=2048,Sa(9,{destroy:void 0},bS.bind(null,f,r),null)),[l,h,e]}function bS(e,i){e.action=i}function Bp(e){var i=Ke(),r=De;if(r!==null)return Vp(i,r,e);Ke(),i=i.memoizedState,r=Ke();var l=r.queue.dispatch;return r.memoizedState=e,[i,l,!1]}function Sa(e,i,r,l){return e={tag:e,create:r,deps:l,inst:i,next:null},i=he.updateQueue,i===null&&(i=to(),he.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,i.lastEffect=e),e}function Hp(){return Ke().memoizedState}function ao(e,i,r,l){var f=vt();he.flags|=e,f.memoizedState=Sa(1|i,{destroy:void 0},r,l===void 0?null:l)}function so(e,i,r,l){var f=Ke();l=l===void 0?null:l;var h=f.memoizedState.inst;De!==null&&l!==null&&Nc(l,De.memoizedState.deps)?f.memoizedState=Sa(i,h,r,l):(he.flags|=e,f.memoizedState=Sa(1|i,h,r,l))}function Pp(e,i){ao(8390656,8,e,i)}function qc(e,i){so(2048,8,e,i)}function xS(e){he.flags|=4;var i=he.updateQueue;if(i===null)i=to(),he.updateQueue=i,i.events=[e];else{var r=i.events;r===null?i.events=[e]:r.push(e)}}function $p(e){var i=Ke().memoizedState;return xS({ref:i,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ip(e,i){return so(4,2,e,i)}function Zp(e,i){return so(4,4,e,i)}function qp(e,i){if(typeof i=="function"){e=e();var r=i(e);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Gp(e,i,r){r=r!=null?r.concat([e]):null,so(4,4,qp.bind(null,i,e),r)}function Gc(){}function Yp(e,i){var r=Ke();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&Nc(i,l[1])?l[0]:(r.memoizedState=[e,i],e)}function Fp(e,i){var r=Ke();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&Nc(i,l[1]))return l[0];if(l=e(),Ni){$n(!0);try{e()}finally{$n(!1)}}return r.memoizedState=[l,i],l}function Yc(e,i,r){return r===void 0||(An&1073741824)!==0&&(xe&261930)===0?e.memoizedState=i:(e.memoizedState=r,e=Xm(),he.lanes|=e,ni|=e,r)}function Xp(e,i,r,l){return kt(r,i)?r:va.current!==null?(e=Yc(e,r,l),kt(e,i)||(tt=!0),e):(An&42)===0||(An&1073741824)!==0&&(xe&261930)===0?(tt=!0,e.memoizedState=r):(e=Xm(),he.lanes|=e,ni|=e,i)}function Kp(e,i,r,l,f){var h=G.p;G.p=h!==0&&8>h?h:8;var v=V.T,_={};V.T=_,Kc(e,!1,i,r);try{var A=f(),N=V.S;if(N!==null&&N(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var $=mS(A,l);Es(e,i,$,Ht(e))}else Es(e,i,l,Ht(e))}catch(Z){Es(e,i,{then:function(){},status:"rejected",reason:Z},Ht())}finally{G.p=h,v!==null&&_.types!==null&&(v.types=_.types),V.T=v}}function SS(){}function Fc(e,i,r,l){if(e.tag!==5)throw Error(s(476));var f=Qp(e).queue;Kp(e,f,i,F,r===null?SS:function(){return Jp(e),r(l)})}function Qp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:F},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:r},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Jp(e){var i=Qp(e);i.next===null&&(i=e.alternate.memoizedState),Es(e,i.next.queue,{},Ht())}function Xc(){return ft($s)}function Wp(){return Ke().memoizedState}function em(){return Ke().memoizedState}function _S(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var r=Ht();e=Kn(r);var l=Qn(i,e,r);l!==null&&(Mt(l,i,r),xs(l,i,r)),i={cache:Tc()},e.payload=i;return}i=i.return}}function wS(e,i,r){var l=Ht();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ro(e)?nm(i,r):(r=hc(e,i,r,l),r!==null&&(Mt(r,e,l),im(r,i,l)))}function tm(e,i,r){var l=Ht();Es(e,i,r,l)}function Es(e,i,r,l){var f={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ro(e))nm(i,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var v=i.lastRenderedState,_=h(v,r);if(f.hasEagerState=!0,f.eagerState=_,kt(_,v))return Hr(e,i,f,0),ke===null&&Br(),!1}catch{}if(r=hc(e,i,f,l),r!==null)return Mt(r,e,l),im(r,i,l),!0}return!1}function Kc(e,i,r,l){if(l={lane:2,revertLane:Mu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ro(e)){if(i)throw Error(s(479))}else i=hc(e,r,l,2),i!==null&&Mt(i,e,2)}function ro(e){var i=e.alternate;return e===he||i!==null&&i===he}function nm(e,i){ba=Wr=!0;var r=e.pending;r===null?i.next=i:(i.next=r.next,r.next=i),e.pending=i}function im(e,i,r){if((r&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,r|=l,i.lanes=r,lh(e,r)}}var As={readContext:ft,use:no,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};As.useEffectEvent=qe;var am={readContext:ft,use:no,useCallback:function(e,i){return vt().memoizedState=[e,i===void 0?null:i],e},useContext:ft,useEffect:Pp,useImperativeHandle:function(e,i,r){r=r!=null?r.concat([e]):null,ao(4194308,4,qp.bind(null,i,e),r)},useLayoutEffect:function(e,i){return ao(4194308,4,e,i)},useInsertionEffect:function(e,i){ao(4,2,e,i)},useMemo:function(e,i){var r=vt();i=i===void 0?null:i;var l=e();if(Ni){$n(!0);try{e()}finally{$n(!1)}}return r.memoizedState=[l,i],l},useReducer:function(e,i,r){var l=vt();if(r!==void 0){var f=r(i);if(Ni){$n(!0);try{r(i)}finally{$n(!1)}}}else f=i;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=wS.bind(null,he,e),[l.memoizedState,e]},useRef:function(e){var i=vt();return e={current:e},i.memoizedState=e},useState:function(e){e=Ic(e);var i=e.queue,r=tm.bind(null,he,i);return i.dispatch=r,[e.memoizedState,r]},useDebugValue:Gc,useDeferredValue:function(e,i){var r=vt();return Yc(r,e,i)},useTransition:function(){var e=Ic(!1);return e=Kp.bind(null,he,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,r){var l=he,f=vt();if(_e){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),ke===null)throw Error(s(349));(xe&127)!==0||Ep(l,i,r)}f.memoizedState=r;var h={value:r,getSnapshot:i};return f.queue=h,Pp(Cp.bind(null,l,h,e),[e]),l.flags|=2048,Sa(9,{destroy:void 0},Ap.bind(null,l,h,r,i),null),r},useId:function(){var e=vt(),i=ke.identifierPrefix;if(_e){var r=fn,l=un;r=(l&~(1<<32-jt(l)-1)).toString(32)+r,i="_"+i+"R_"+r,r=eo++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=gS++,i="_"+i+"r_"+r.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Xc,useFormState:Lp,useActionState:Lp,useOptimistic:function(e){var i=vt();i.memoizedState=i.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Kc.bind(null,he,!0,r),r.dispatch=i,[e,i]},useMemoCache:Hc,useCacheRefresh:function(){return vt().memoizedState=_S.bind(null,he)},useEffectEvent:function(e){var i=vt(),r={impl:e};return i.memoizedState=r,function(){if((Ee&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Qc={readContext:ft,use:no,useCallback:Yp,useContext:ft,useEffect:qc,useImperativeHandle:Gp,useInsertionEffect:Ip,useLayoutEffect:Zp,useMemo:Fp,useReducer:io,useRef:Hp,useState:function(){return io(Cn)},useDebugValue:Gc,useDeferredValue:function(e,i){var r=Ke();return Xp(r,De.memoizedState,e,i)},useTransition:function(){var e=io(Cn)[0],i=Ke().memoizedState;return[typeof e=="boolean"?e:Ts(e),i]},useSyncExternalStore:Tp,useId:Wp,useHostTransitionStatus:Xc,useFormState:Up,useActionState:Up,useOptimistic:function(e,i){var r=Ke();return zp(r,De,e,i)},useMemoCache:Hc,useCacheRefresh:em};Qc.useEffectEvent=$p;var sm={readContext:ft,use:no,useCallback:Yp,useContext:ft,useEffect:qc,useImperativeHandle:Gp,useInsertionEffect:Ip,useLayoutEffect:Zp,useMemo:Fp,useReducer:$c,useRef:Hp,useState:function(){return $c(Cn)},useDebugValue:Gc,useDeferredValue:function(e,i){var r=Ke();return De===null?Yc(r,e,i):Xp(r,De.memoizedState,e,i)},useTransition:function(){var e=$c(Cn)[0],i=Ke().memoizedState;return[typeof e=="boolean"?e:Ts(e),i]},useSyncExternalStore:Tp,useId:Wp,useHostTransitionStatus:Xc,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,i){var r=Ke();return De!==null?zp(r,De,e,i):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Hc,useCacheRefresh:em};sm.useEffectEvent=$p;function Jc(e,i,r,l){i=e.memoizedState,r=r(l,i),r=r==null?i:y({},i,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wc={enqueueSetState:function(e,i,r){e=e._reactInternals;var l=Ht(),f=Kn(l);f.payload=i,r!=null&&(f.callback=r),i=Qn(e,f,l),i!==null&&(Mt(i,e,l),xs(i,e,l))},enqueueReplaceState:function(e,i,r){e=e._reactInternals;var l=Ht(),f=Kn(l);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Qn(e,f,l),i!==null&&(Mt(i,e,l),xs(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var r=Ht(),l=Kn(r);l.tag=2,i!=null&&(l.callback=i),i=Qn(e,l,r),i!==null&&(Mt(i,e,r),xs(i,e,r))}};function rm(e,i,r,l,f,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,v):i.prototype&&i.prototype.isPureReactComponent?!ds(r,l)||!ds(f,h):!0}function om(e,i,r,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==e&&Wc.enqueueReplaceState(i,i.state,null)}function Li(e,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(e=e.defaultProps){r===i&&(r=y({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function lm(e){Vr(e)}function cm(e){console.error(e)}function um(e){Vr(e)}function oo(e,i){try{var r=e.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function fm(e,i,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function eu(e,i,r){return r=Kn(r),r.tag=3,r.payload={element:null},r.callback=function(){oo(e,i)},r}function dm(e){return e=Kn(e),e.tag=3,e}function hm(e,i,r,l){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;e.payload=function(){return f(h)},e.callback=function(){fm(i,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){fm(i,r,l),typeof f!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function TS(e,i,r,l,f){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&ha(i,r,f,!0),r=Lt.current,r!==null){switch(r.tag){case 31:case 13:return Xt===null?xo():r.alternate===null&&Ge===0&&(Ge=3),r.flags&=-257,r.flags|=65536,r.lanes=f,l===Fr?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),Eu(e,l,f)),!1;case 22:return r.flags|=65536,l===Fr?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),Eu(e,l,f)),!1}throw Error(s(435,r.tag))}return Eu(e,l,f),xo(),!1}if(_e)return i=Lt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==bc&&(e=Error(s(422),{cause:l}),ms(qt(e,r)))):(l!==bc&&(i=Error(s(423),{cause:l}),ms(qt(i,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=qt(l,r),f=eu(e.stateNode,l,f),zc(e,f),Ge!==4&&(Ge=2)),!1;var h=Error(s(520),{cause:l});if(h=qt(h,r),ks===null?ks=[h]:ks.push(h),Ge!==4&&(Ge=2),i===null)return!0;l=qt(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=eu(r.stateNode,l,e),zc(r,e),!1;case 1:if(i=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ii===null||!ii.has(h))))return r.flags|=65536,f&=-f,r.lanes|=f,f=dm(f),hm(f,e,r,l),zc(r,f),!1}r=r.return}while(r!==null);return!1}var tu=Error(s(461)),tt=!1;function dt(e,i,r,l){i.child=e===null?yp(i,null,r,l):ki(i,e.child,r,l)}function pm(e,i,r,l,f){r=r.render;var h=i.ref;if("ref"in l){var v={};for(var _ in l)_!=="ref"&&(v[_]=l[_])}else v=l;return zi(i),l=Lc(e,i,r,v,h,f),_=Uc(),e!==null&&!tt?(Vc(e,i,f),Mn(e,i,f)):(_e&&_&&yc(i),i.flags|=1,dt(e,i,l,f),i.child)}function mm(e,i,r,l,f){if(e===null){var h=r.type;return typeof h=="function"&&!pc(h)&&h.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=h,gm(e,i,h,l,f)):(e=$r(r.type,null,l,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(h=e.child,!cu(e,f)){var v=h.memoizedProps;if(r=r.compare,r=r!==null?r:ds,r(v,l)&&e.ref===i.ref)return Mn(e,i,f)}return i.flags|=1,e=_n(h,l),e.ref=i.ref,e.return=i,i.child=e}function gm(e,i,r,l,f){if(e!==null){var h=e.memoizedProps;if(ds(h,l)&&e.ref===i.ref)if(tt=!1,i.pendingProps=l=h,cu(e,f))(e.flags&131072)!==0&&(tt=!0);else return i.lanes=e.lanes,Mn(e,i,f)}return nu(e,i,r,l,f)}function ym(e,i,r,l){var f=l.children,h=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(l=i.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~h}else l=0,i.child=null;return vm(e,i,h,r,l)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gr(i,h!==null?h.cachePool:null),h!==null?xp(i,h):Oc(),Sp(i);else return l=i.lanes=536870912,vm(e,i,h!==null?h.baseLanes|r:r,r,l)}else h!==null?(Gr(i,h.cachePool),xp(i,h),Wn(),i.memoizedState=null):(e!==null&&Gr(i,null),Oc(),Wn());return dt(e,i,f,r),i.child}function Cs(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function vm(e,i,r,l,f){var h=Ac();return h=h===null?null:{parent:We._currentValue,pool:h},i.memoizedState={baseLanes:r,cachePool:h},e!==null&&Gr(i,null),Oc(),Sp(i),e!==null&&ha(e,i,l,!0),i.childLanes=f,null}function lo(e,i){return i=uo({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function bm(e,i,r){return ki(i,e.child,null,r),e=lo(i,i.pendingProps),e.flags|=2,Ut(i),i.memoizedState=null,e}function ES(e,i,r){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(_e){if(l.mode==="hidden")return e=lo(i,l),i.lanes=536870912,Cs(null,e);if(kc(i),(e=Ve)?(e=Dg(e,Ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:qn!==null?{id:un,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},r=np(e),r.return=i,i.child=r,ut=i,Ve=null)):e=null,e===null)throw Yn(i);return i.lanes=536870912,null}return lo(i,l)}var h=e.memoizedState;if(h!==null){var v=h.dehydrated;if(kc(i),f)if(i.flags&256)i.flags&=-257,i=bm(e,i,r);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(tt||ha(e,i,r,!1),f=(r&e.childLanes)!==0,tt||f){if(l=ke,l!==null&&(v=ch(l,r),v!==0&&v!==h.retryLane))throw h.retryLane=v,Ai(e,v),Mt(l,e,v),tu;xo(),i=bm(e,i,r)}else e=h.treeContext,Ve=Kt(v.nextSibling),ut=i,_e=!0,Gn=null,Ft=!1,e!==null&&sp(i,e),i=lo(i,l),i.flags|=4096;return i}return e=_n(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function co(e,i){var r=i.ref;if(r===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(i.flags|=4194816)}}function nu(e,i,r,l,f){return zi(i),r=Lc(e,i,r,l,void 0,f),l=Uc(),e!==null&&!tt?(Vc(e,i,f),Mn(e,i,f)):(_e&&l&&yc(i),i.flags|=1,dt(e,i,r,f),i.child)}function xm(e,i,r,l,f,h){return zi(i),i.updateQueue=null,r=wp(i,l,r,f),_p(e),l=Uc(),e!==null&&!tt?(Vc(e,i,h),Mn(e,i,h)):(_e&&l&&yc(i),i.flags|=1,dt(e,i,r,h),i.child)}function Sm(e,i,r,l,f){if(zi(i),i.stateNode===null){var h=ca,v=r.contextType;typeof v=="object"&&v!==null&&(h=ft(v)),h=new r(l,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Wc,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=l,h.state=i.memoizedState,h.refs={},Mc(i),v=r.contextType,h.context=typeof v=="object"&&v!==null?ft(v):ca,h.state=i.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Jc(i,r,v,l),h.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Wc.enqueueReplaceState(h,h.state,null),_s(i,l,h,f),Ss(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){h=i.stateNode;var _=i.memoizedProps,A=Li(r,_);h.props=A;var N=h.context,$=r.contextType;v=ca,typeof $=="object"&&$!==null&&(v=ft($));var Z=r.getDerivedStateFromProps;$=typeof Z=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,$||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||N!==v)&&om(i,h,l,v),Xn=!1;var L=i.memoizedState;h.state=L,_s(i,l,h,f),Ss(),N=i.memoizedState,_||L!==N||Xn?(typeof Z=="function"&&(Jc(i,r,Z,l),N=i.memoizedState),(A=Xn||rm(i,r,A,l,L,N,v))?($||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=N),h.props=l,h.state=N,h.context=v,l=A):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{h=i.stateNode,Rc(e,i),v=i.memoizedProps,$=Li(r,v),h.props=$,Z=i.pendingProps,L=h.context,N=r.contextType,A=ca,typeof N=="object"&&N!==null&&(A=ft(N)),_=r.getDerivedStateFromProps,(N=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==Z||L!==A)&&om(i,h,l,A),Xn=!1,L=i.memoizedState,h.state=L,_s(i,l,h,f),Ss();var U=i.memoizedState;v!==Z||L!==U||Xn||e!==null&&e.dependencies!==null&&Zr(e.dependencies)?(typeof _=="function"&&(Jc(i,r,_,l),U=i.memoizedState),($=Xn||rm(i,r,$,l,L,U,A)||e!==null&&e.dependencies!==null&&Zr(e.dependencies))?(N||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,U,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,U,A)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=U),h.props=l,h.state=U,h.context=A,l=$):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(i.flags|=1024),l=!1)}return h=l,co(e,i),l=(i.flags&128)!==0,h||l?(h=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,e!==null&&l?(i.child=ki(i,e.child,null,f),i.child=ki(i,null,r,f)):dt(e,i,r,f),i.memoizedState=h.state,e=i.child):e=Mn(e,i,f),e}function _m(e,i,r,l){return Mi(),i.flags|=256,dt(e,i,r,l),i.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function au(e){return{baseLanes:e,cachePool:fp()}}function su(e,i,r){return e=e!==null?e.childLanes&~r:0,i&&(e|=Bt),e}function wm(e,i,r){var l=i.pendingProps,f=!1,h=(i.flags&128)!==0,v;if((v=h)||(v=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(_e){if(f?Jn(i):Wn(),(e=Ve)?(e=Dg(e,Ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:qn!==null?{id:un,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},r=np(e),r.return=i,i.child=r,ut=i,Ve=null)):e=null,e===null)throw Yn(i);return Pu(e)?i.lanes=32:i.lanes=536870912,null}var _=l.children;return l=l.fallback,f?(Wn(),f=i.mode,_=uo({mode:"hidden",children:_},f),l=Ci(l,f,r,null),_.return=i,l.return=i,_.sibling=l,i.child=_,l=i.child,l.memoizedState=au(r),l.childLanes=su(e,v,r),i.memoizedState=iu,Cs(null,l)):(Jn(i),ru(i,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(h)i.flags&256?(Jn(i),i.flags&=-257,i=ou(e,i,r)):i.memoizedState!==null?(Wn(),i.child=e.child,i.flags|=128,i=null):(Wn(),_=l.fallback,f=i.mode,l=uo({mode:"visible",children:l.children},f),_=Ci(_,f,r,null),_.flags|=2,l.return=i,_.return=i,l.sibling=_,i.child=l,ki(i,e.child,null,r),l=i.child,l.memoizedState=au(r),l.childLanes=su(e,v,r),i.memoizedState=iu,i=Cs(null,l));else if(Jn(i),Pu(_)){if(v=_.nextSibling&&_.nextSibling.dataset,v)var N=v.dgst;v=N,l=Error(s(419)),l.stack="",l.digest=v,ms({value:l,source:null,stack:null}),i=ou(e,i,r)}else if(tt||ha(e,i,r,!1),v=(r&e.childLanes)!==0,tt||v){if(v=ke,v!==null&&(l=ch(v,r),l!==0&&l!==A.retryLane))throw A.retryLane=l,Ai(e,l),Mt(v,e,l),tu;Hu(_)||xo(),i=ou(e,i,r)}else Hu(_)?(i.flags|=192,i.child=e.child,i=null):(e=A.treeContext,Ve=Kt(_.nextSibling),ut=i,_e=!0,Gn=null,Ft=!1,e!==null&&sp(i,e),i=ru(i,l.children),i.flags|=4096);return i}return f?(Wn(),_=l.fallback,f=i.mode,A=e.child,N=A.sibling,l=_n(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,N!==null?_=_n(N,_):(_=Ci(_,f,r,null),_.flags|=2),_.return=i,l.return=i,l.sibling=_,i.child=l,Cs(null,l),l=i.child,_=e.child.memoizedState,_===null?_=au(r):(f=_.cachePool,f!==null?(A=We._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=fp(),_={baseLanes:_.baseLanes|r,cachePool:f}),l.memoizedState=_,l.childLanes=su(e,v,r),i.memoizedState=iu,Cs(e.child,l)):(Jn(i),r=e.child,e=r.sibling,r=_n(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=r,i.memoizedState=null,r)}function ru(e,i){return i=uo({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function uo(e,i){return e=Nt(22,e,null,i),e.lanes=0,e}function ou(e,i,r){return ki(i,e.child,null,r),e=ru(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Tm(e,i,r){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),_c(e.return,i,r)}function lu(e,i,r,l,f,h){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:f,treeForkCount:h}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=f,v.treeForkCount=h)}function Em(e,i,r){var l=i.pendingProps,f=l.revealOrder,h=l.tail;l=l.children;var v=Xe.current,_=(v&2)!==0;if(_?(v=v&1|2,i.flags|=128):v&=1,Y(Xe,v),dt(e,i,l,r),l=_e?ps:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tm(e,r,i);else if(e.tag===19)Tm(e,r,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=i.child,f=null;r!==null;)e=r.alternate,e!==null&&Jr(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),lu(i,!1,f,r,h,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Jr(e)===null){i.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}lu(i,!0,r,null,h,l);break;case"together":lu(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Mn(e,i,r){if(e!==null&&(i.dependencies=e.dependencies),ni|=i.lanes,(r&i.childLanes)===0)if(e!==null){if(ha(e,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,r=_n(e,e.pendingProps),i.child=r,r.return=i;e.sibling!==null;)e=e.sibling,r=r.sibling=_n(e,e.pendingProps),r.return=i;r.sibling=null}return i.child}function cu(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Zr(e)))}function AS(e,i,r){switch(i.tag){case 3:yt(i,i.stateNode.containerInfo),Fn(i,We,e.memoizedState.cache),Mi();break;case 27:case 5:Wa(i);break;case 4:yt(i,i.stateNode.containerInfo);break;case 10:Fn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,kc(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Jn(i),i.flags|=128,null):(r&i.child.childLanes)!==0?wm(e,i,r):(Jn(i),e=Mn(e,i,r),e!==null?e.sibling:null);Jn(i);break;case 19:var f=(e.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(ha(e,i,r,!1),l=(r&i.childLanes)!==0),f){if(l)return Em(e,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Y(Xe,Xe.current),l)break;return null;case 22:return i.lanes=0,ym(e,i,r,i.pendingProps);case 24:Fn(i,We,e.memoizedState.cache)}return Mn(e,i,r)}function Am(e,i,r){if(e!==null)if(e.memoizedProps!==i.pendingProps)tt=!0;else{if(!cu(e,r)&&(i.flags&128)===0)return tt=!1,AS(e,i,r);tt=(e.flags&131072)!==0}else tt=!1,_e&&(i.flags&1048576)!==0&&ap(i,ps,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(e=Oi(i.elementType),i.type=e,typeof e=="function")pc(e)?(l=Li(e,l),i.tag=1,i=Sm(null,i,e,l,r)):(i.tag=0,i=nu(null,i,e,l,r));else{if(e!=null){var f=e.$$typeof;if(f===B){i.tag=11,i=pm(null,i,e,l,r);break e}else if(f===X){i.tag=14,i=mm(null,i,e,l,r);break e}}throw i=Ae(e)||e,Error(s(306,i,""))}}return i;case 0:return nu(e,i,i.type,i.pendingProps,r);case 1:return l=i.type,f=Li(l,i.pendingProps),Sm(e,i,l,f,r);case 3:e:{if(yt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var h=i.memoizedState;f=h.element,Rc(e,i),_s(i,l,null,r);var v=i.memoizedState;if(l=v.cache,Fn(i,We,l),l!==h.cache&&wc(i,[We],r,!0),Ss(),l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=_m(e,i,l,r);break e}else if(l!==f){f=qt(Error(s(424)),i),ms(f),i=_m(e,i,l,r);break e}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ve=Kt(e.firstChild),ut=i,_e=!0,Gn=null,Ft=!0,r=yp(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mi(),l===f){i=Mn(e,i,r);break e}dt(e,i,l,r)}i=i.child}return i;case 26:return co(e,i),e===null?(r=Ug(i.type,null,i.pendingProps,null))?i.memoizedState=r:_e||(r=i.type,e=i.pendingProps,l=Co(ye.current).createElement(r),l[ct]=i,l[_t]=e,ht(l,r,e),rt(l),i.stateNode=l):i.memoizedState=Ug(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Wa(i),e===null&&_e&&(l=i.stateNode=kg(i.type,i.pendingProps,ye.current),ut=i,Ft=!0,f=Ve,oi(i.type)?($u=f,Ve=Kt(l.firstChild)):Ve=f),dt(e,i,i.pendingProps.children,r),co(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&_e&&((f=l=Ve)&&(l=n2(l,i.type,i.pendingProps,Ft),l!==null?(i.stateNode=l,ut=i,Ve=Kt(l.firstChild),Ft=!1,f=!0):f=!1),f||Yn(i)),Wa(i),f=i.type,h=i.pendingProps,v=e!==null?e.memoizedProps:null,l=h.children,Uu(f,h)?l=null:v!==null&&Uu(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=Lc(e,i,yS,null,null,r),$s._currentValue=f),co(e,i),dt(e,i,l,r),i.child;case 6:return e===null&&_e&&((e=r=Ve)&&(r=i2(r,i.pendingProps,Ft),r!==null?(i.stateNode=r,ut=i,Ve=null,e=!0):e=!1),e||Yn(i)),null;case 13:return wm(e,i,r);case 4:return yt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ki(i,null,l,r):dt(e,i,l,r),i.child;case 11:return pm(e,i,i.type,i.pendingProps,r);case 7:return dt(e,i,i.pendingProps,r),i.child;case 8:return dt(e,i,i.pendingProps.children,r),i.child;case 12:return dt(e,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,Fn(i,i.type,l.value),dt(e,i,l.children,r),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,zi(i),f=ft(f),l=l(f),i.flags|=1,dt(e,i,l,r),i.child;case 14:return mm(e,i,i.type,i.pendingProps,r);case 15:return gm(e,i,i.type,i.pendingProps,r);case 19:return Em(e,i,r);case 31:return ES(e,i,r);case 22:return ym(e,i,r,i.pendingProps);case 24:return zi(i),l=ft(We),e===null?(f=Ac(),f===null&&(f=ke,h=Tc(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=r),f=h),i.memoizedState={parent:l,cache:f},Mc(i),Fn(i,We,f)):((e.lanes&r)!==0&&(Rc(e,i),_s(i,null,null,r),Ss()),f=e.memoizedState,h=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Fn(i,We,l)):(l=h.cache,Fn(i,We,l),l!==f.cache&&wc(i,[We],r,!0))),dt(e,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Rn(e){e.flags|=4}function uu(e,i,r,l,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Wm())e.flags|=8192;else throw ji=Fr,Cc}else e.flags&=-16777217}function Cm(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$g(i))if(Wm())e.flags|=8192;else throw ji=Fr,Cc}function fo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?rh():536870912,e.lanes|=i,Ea|=i)}function Ms(e,i){if(!_e)switch(e.tailMode){case"hidden":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Be(e){var i=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(i)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=r,i}function CS(e,i,r){var l=i.pendingProps;switch(vc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(i),null;case 1:return Be(i),null;case 3:return r=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),En(We),Fe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(da(i)?Rn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xc())),Be(i),null;case 26:var f=i.type,h=i.memoizedState;return e===null?(Rn(i),h!==null?(Be(i),Cm(i,h)):(Be(i),uu(i,f,null,l,r))):h?h!==e.memoizedState?(Rn(i),Be(i),Cm(i,h)):(Be(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Rn(i),Be(i),uu(i,f,e,l,r)),null;case 27:if(_r(i),r=ye.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Rn(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Be(i),null}e=J.current,da(i)?rp(i):(e=kg(f,l,r),i.stateNode=e,Rn(i))}return Be(i),null;case 5:if(_r(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Rn(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Be(i),null}if(h=J.current,da(i))rp(i);else{var v=Co(ye.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}h[ct]=i,h[_t]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=h;e:switch(ht(h,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Rn(i)}}return Be(i),uu(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,r),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Rn(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=ye.current,da(i)){if(e=i.stateNode,r=i.memoizedProps,l=null,f=ut,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[ct]=i,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||wg(e.nodeValue,r)),e||Yn(i,!0)}else e=Co(e).createTextNode(l),e[ct]=i,i.stateNode=e}return Be(i),null;case 31:if(r=i.memoizedState,e===null||e.memoizedState!==null){if(l=da(i),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ct]=i}else Mi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),e=!1}else r=xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return i.flags&256?(Ut(i),i):(Ut(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Be(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=da(i),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ct]=i}else Mi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),f=!1}else f=xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ut(i),i):(Ut(i),null)}return Ut(i),(i.flags&128)!==0?(i.lanes=r,i):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)),r!==e&&r&&(i.child.flags|=8192),fo(i,i.updateQueue),Be(i),null);case 4:return Fe(),e===null&&Ou(i.stateNode.containerInfo),Be(i),null;case 10:return En(i.type),Be(i),null;case 19:if(H(Xe),l=i.memoizedState,l===null)return Be(i),null;if(f=(i.flags&128)!==0,h=l.rendering,h===null)if(f)Ms(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(h=Jr(e),h!==null){for(i.flags|=128,Ms(l,!1),e=h.updateQueue,i.updateQueue=e,fo(i,e),i.subtreeFlags=0,e=r,r=i.child;r!==null;)tp(r,e),r=r.sibling;return Y(Xe,Xe.current&1|2),_e&&wn(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&Dt()>yo&&(i.flags|=128,f=!0,Ms(l,!1),i.lanes=4194304)}else{if(!f)if(e=Jr(h),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,fo(i,e),Ms(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!_e)return Be(i),null}else 2*Dt()-l.renderingStartTime>yo&&r!==536870912&&(i.flags|=128,f=!0,Ms(l,!1),i.lanes=4194304);l.isBackwards?(h.sibling=i.child,i.child=h):(e=l.last,e!==null?e.sibling=h:i.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dt(),e.sibling=null,r=Xe.current,Y(Xe,f?r&1|2:r&1),_e&&wn(i,l.treeForkCount),e):(Be(i),null);case 22:case 23:return Ut(i),jc(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(Be(i),i.subtreeFlags&6&&(i.flags|=8192)):Be(i),r=i.updateQueue,r!==null&&fo(i,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),e!==null&&H(Di),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),En(We),Be(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function MS(e,i){switch(vc(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return En(We),Fe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return _r(i),null;case 31:if(i.memoizedState!==null){if(Ut(i),i.alternate===null)throw Error(s(340));Mi()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Ut(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Mi()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return H(Xe),null;case 4:return Fe(),null;case 10:return En(i.type),null;case 22:case 23:return Ut(i),jc(),e!==null&&H(Di),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return En(We),null;case 25:return null;default:return null}}function Mm(e,i){switch(vc(i),i.tag){case 3:En(We),Fe();break;case 26:case 27:case 5:_r(i);break;case 4:Fe();break;case 31:i.memoizedState!==null&&Ut(i);break;case 13:Ut(i);break;case 19:H(Xe);break;case 10:En(i.type);break;case 22:case 23:Ut(i),jc(),e!==null&&H(Di);break;case 24:En(We)}}function Rs(e,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var f=l.next;r=f;do{if((r.tag&e)===e){l=void 0;var h=r.create,v=r.inst;l=h(),v.destroy=l}r=r.next}while(r!==f)}}catch(_){Re(i,i.return,_)}}function ei(e,i,r){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&e)===e){var v=l.inst,_=v.destroy;if(_!==void 0){v.destroy=void 0,f=i;var A=r,N=_;try{N()}catch($){Re(f,A,$)}}}l=l.next}while(l!==h)}}catch($){Re(i,i.return,$)}}function Rm(e){var i=e.updateQueue;if(i!==null){var r=e.stateNode;try{bp(i,r)}catch(l){Re(e,e.return,l)}}}function zm(e,i,r){r.props=Li(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Re(e,i,l)}}function zs(e,i){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(f){Re(e,i,f)}}function dn(e,i){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(f){Re(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Re(e,i,f)}else r.current=null}function Dm(e){var i=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(f){Re(e,e.return,f)}}function fu(e,i,r){try{var l=e.stateNode;KS(l,e.type,r,i),l[_t]=i}catch(f){Re(e,e.return,f)}}function Om(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&oi(e.type)||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hu(e,i,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(e),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=xn));else if(l!==4&&(l===27&&oi(e.type)&&(r=e.stateNode,i=null),e=e.child,e!==null))for(hu(e,i,r),e=e.sibling;e!==null;)hu(e,i,r),e=e.sibling}function ho(e,i,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?r.insertBefore(e,i):r.appendChild(e);else if(l!==4&&(l===27&&oi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ho(e,i,r),e=e.sibling;e!==null;)ho(e,i,r),e=e.sibling}function jm(e){var i=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);ht(i,l,r),i[ct]=e,i[_t]=r}catch(h){Re(e,e.return,h)}}var zn=!1,nt=!1,pu=!1,km=typeof WeakSet=="function"?WeakSet:Set,ot=null;function RS(e,i){if(e=e.containerInfo,Nu=ko,e=Gh(e),oc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var v=0,_=-1,A=-1,N=0,$=0,Z=e,L=null;t:for(;;){for(var U;Z!==r||f!==0&&Z.nodeType!==3||(_=v+f),Z!==h||l!==0&&Z.nodeType!==3||(A=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(U=Z.firstChild)!==null;)L=Z,Z=U;for(;;){if(Z===e)break t;if(L===r&&++N===f&&(_=v),L===h&&++$===l&&(A=v),(U=Z.nextSibling)!==null)break;Z=L,L=Z.parentNode}Z=U}r=_===-1||A===-1?null:{start:_,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lu={focusedElem:e,selectionRange:r},ko=!1,ot=i;ot!==null;)if(i=ot,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ot=e;else for(;ot!==null;){switch(i=ot,h=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=i,f=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var W=Li(r.type,f);e=l.getSnapshotBeforeUpdate(W,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(le){Re(r,r.return,le)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,r=e.nodeType,r===9)Bu(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ot=e;break}ot=i.return}}function Nm(e,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:On(e,r),l&4&&Rs(5,r);break;case 1:if(On(e,r),l&4)if(e=r.stateNode,i===null)try{e.componentDidMount()}catch(v){Re(r,r.return,v)}else{var f=Li(r.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Re(r,r.return,v)}}l&64&&Rm(r),l&512&&zs(r,r.return);break;case 3:if(On(e,r),l&64&&(e=r.updateQueue,e!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{bp(e,i)}catch(v){Re(r,r.return,v)}}break;case 27:i===null&&l&4&&jm(r);case 26:case 5:On(e,r),i===null&&l&4&&Dm(r),l&512&&zs(r,r.return);break;case 12:On(e,r);break;case 31:On(e,r),l&4&&Vm(e,r);break;case 13:On(e,r),l&4&&Bm(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=VS.bind(null,r),a2(e,r))));break;case 22:if(l=r.memoizedState!==null||zn,!l){i=i!==null&&i.memoizedState!==null||nt,f=zn;var h=nt;zn=l,(nt=i)&&!h?jn(e,r,(r.subtreeFlags&8772)!==0):On(e,r),zn=f,nt=h}break;case 30:break;default:On(e,r)}}function Lm(e){var i=e.alternate;i!==null&&(e.alternate=null,Lm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Zl(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Tt=!1;function Dn(e,i,r){for(r=r.child;r!==null;)Um(e,i,r),r=r.sibling}function Um(e,i,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(es,r)}catch{}switch(r.tag){case 26:nt||dn(r,i),Dn(e,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:nt||dn(r,i);var l=He,f=Tt;oi(r.type)&&(He=r.stateNode,Tt=!1),Dn(e,i,r),Bs(r.stateNode),He=l,Tt=f;break;case 5:nt||dn(r,i);case 6:if(l=He,f=Tt,He=null,Dn(e,i,r),He=l,Tt=f,He!==null)if(Tt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(r.stateNode)}catch(h){Re(r,i,h)}else try{He.removeChild(r.stateNode)}catch(h){Re(r,i,h)}break;case 18:He!==null&&(Tt?(e=He,Rg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ja(e)):Rg(He,r.stateNode));break;case 4:l=He,f=Tt,He=r.stateNode.containerInfo,Tt=!0,Dn(e,i,r),He=l,Tt=f;break;case 0:case 11:case 14:case 15:ei(2,r,i),nt||ei(4,r,i),Dn(e,i,r);break;case 1:nt||(dn(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&zm(r,i,l)),Dn(e,i,r);break;case 21:Dn(e,i,r);break;case 22:nt=(l=nt)||r.memoizedState!==null,Dn(e,i,r),nt=l;break;default:Dn(e,i,r)}}function Vm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(r){Re(i,i.return,r)}}}function Bm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(r){Re(i,i.return,r)}}function zS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new km),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new km),i;default:throw Error(s(435,e.tag))}}function po(e,i){var r=zS(e);i.forEach(function(l){if(!r.has(l)){r.add(l);var f=BS.bind(null,e,l);l.then(f,f)}})}function Et(e,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var f=r[l],h=e,v=i,_=v;e:for(;_!==null;){switch(_.tag){case 27:if(oi(_.type)){He=_.stateNode,Tt=!1;break e}break;case 5:He=_.stateNode,Tt=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,Tt=!0;break e}_=_.return}if(He===null)throw Error(s(160));Um(h,v,f),He=null,Tt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Hm(i,e),i=i.sibling}var an=null;function Hm(e,i){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Et(i,e),At(e),l&4&&(ei(3,e,e.return),Rs(3,e),ei(5,e,e.return));break;case 1:Et(i,e),At(e),l&512&&(nt||r===null||dn(r,r.return)),l&64&&zn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var f=an;if(Et(i,e),At(e),l&512&&(nt||r===null||dn(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[is]||h[ct]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),ht(h,l,r),h[ct]=e,rt(h),l=h;break e;case"link":var v=Hg("link","href",f).get(l+(r.href||""));if(v){for(var _=0;_<v.length;_++)if(h=v[_],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(_,1);break t}}h=f.createElement(l),ht(h,l,r),f.head.appendChild(h);break;case"meta":if(v=Hg("meta","content",f).get(l+(r.content||""))){for(_=0;_<v.length;_++)if(h=v[_],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(_,1);break t}}h=f.createElement(l),ht(h,l,r),f.head.appendChild(h);break;default:throw Error(s(468,l))}h[ct]=e,rt(h),l=h}e.stateNode=l}else Pg(f,e.type,e.stateNode);else e.stateNode=Bg(f,l,e.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?Pg(f,e.type,e.stateNode):Bg(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&fu(e,e.memoizedProps,r.memoizedProps)}break;case 27:Et(i,e),At(e),l&512&&(nt||r===null||dn(r,r.return)),r!==null&&l&4&&fu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Et(i,e),At(e),l&512&&(nt||r===null||dn(r,r.return)),e.flags&32){f=e.stateNode;try{na(f,"")}catch(W){Re(e,e.return,W)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,fu(e,f,r!==null?r.memoizedProps:f)),l&1024&&(pu=!0);break;case 6:if(Et(i,e),At(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(W){Re(e,e.return,W)}}break;case 3:if(zo=null,f=an,an=Mo(i.containerInfo),Et(i,e),an=f,At(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ja(i.containerInfo)}catch(W){Re(e,e.return,W)}pu&&(pu=!1,Pm(e));break;case 4:l=an,an=Mo(e.stateNode.containerInfo),Et(i,e),At(e),an=l;break;case 12:Et(i,e),At(e);break;case 31:Et(i,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,po(e,l)));break;case 13:Et(i,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(go=Dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,po(e,l)));break;case 22:f=e.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,N=zn,$=nt;if(zn=N||f,nt=$||A,Et(i,e),nt=$,zn=N,At(e),l&8192)e:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(r===null||A||zn||nt||Ui(e)),r=null,i=e;;){if(i.tag===5||i.tag===26){if(r===null){A=r=i;try{if(h=A.stateNode,f)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{_=A.stateNode;var Z=A.memoizedProps.style,L=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;_.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(W){Re(A,A.return,W)}}}else if(i.tag===6){if(r===null){A=i;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(W){Re(A,A.return,W)}}}else if(i.tag===18){if(r===null){A=i;try{var U=A.stateNode;f?zg(U,!0):zg(A.stateNode,!1)}catch(W){Re(A,A.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,po(e,r))));break;case 19:Et(i,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,po(e,l)));break;case 30:break;case 21:break;default:Et(i,e),At(e)}}function At(e){var i=e.flags;if(i&2){try{for(var r,l=e.return;l!==null;){if(Om(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,h=du(e);ho(e,h,f);break;case 5:var v=r.stateNode;r.flags&32&&(na(v,""),r.flags&=-33);var _=du(e);ho(e,_,v);break;case 3:case 4:var A=r.stateNode.containerInfo,N=du(e);hu(e,N,A);break;default:throw Error(s(161))}}catch($){Re(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Pm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Pm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function On(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Nm(e,i.alternate,i),i=i.sibling}function Ui(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ei(4,i,i.return),Ui(i);break;case 1:dn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&zm(i,i.return,r),Ui(i);break;case 27:Bs(i.stateNode);case 26:case 5:dn(i,i.return),Ui(i);break;case 22:i.memoizedState===null&&Ui(i);break;case 30:Ui(i);break;default:Ui(i)}e=e.sibling}}function jn(e,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=e,h=i,v=h.flags;switch(h.tag){case 0:case 11:case 15:jn(f,h,r),Rs(4,h);break;case 1:if(jn(f,h,r),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(N){Re(l,l.return,N)}if(l=h,f=l.updateQueue,f!==null){var _=l.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)vp(A[f],_)}catch(N){Re(l,l.return,N)}}r&&v&64&&Rm(h),zs(h,h.return);break;case 27:jm(h);case 26:case 5:jn(f,h,r),r&&l===null&&v&4&&Dm(h),zs(h,h.return);break;case 12:jn(f,h,r);break;case 31:jn(f,h,r),r&&v&4&&Vm(f,h);break;case 13:jn(f,h,r),r&&v&4&&Bm(f,h);break;case 22:h.memoizedState===null&&jn(f,h,r),zs(h,h.return);break;case 30:break;default:jn(f,h,r)}i=i.sibling}}function mu(e,i){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&gs(r))}function gu(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&gs(e))}function sn(e,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$m(e,i,r,l),i=i.sibling}function $m(e,i,r,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:sn(e,i,r,l),f&2048&&Rs(9,i);break;case 1:sn(e,i,r,l);break;case 3:sn(e,i,r,l),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&gs(e)));break;case 12:if(f&2048){sn(e,i,r,l),e=i.stateNode;try{var h=i.memoizedProps,v=h.id,_=h.onPostCommit;typeof _=="function"&&_(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Re(i,i.return,A)}}else sn(e,i,r,l);break;case 31:sn(e,i,r,l);break;case 13:sn(e,i,r,l);break;case 23:break;case 22:h=i.stateNode,v=i.alternate,i.memoizedState!==null?h._visibility&2?sn(e,i,r,l):Ds(e,i):h._visibility&2?sn(e,i,r,l):(h._visibility|=2,_a(e,i,r,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&mu(v,i);break;case 24:sn(e,i,r,l),f&2048&&gu(i.alternate,i);break;default:sn(e,i,r,l)}}function _a(e,i,r,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=e,v=i,_=r,A=l,N=v.flags;switch(v.tag){case 0:case 11:case 15:_a(h,v,_,A,f),Rs(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?_a(h,v,_,A,f):Ds(h,v):($._visibility|=2,_a(h,v,_,A,f)),f&&N&2048&&mu(v.alternate,v);break;case 24:_a(h,v,_,A,f),f&&N&2048&&gu(v.alternate,v);break;default:_a(h,v,_,A,f)}i=i.sibling}}function Ds(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=e,l=i,f=l.flags;switch(l.tag){case 22:Ds(r,l),f&2048&&mu(l.alternate,l);break;case 24:Ds(r,l),f&2048&&gu(l.alternate,l);break;default:Ds(r,l)}i=i.sibling}}var Os=8192;function wa(e,i,r){if(e.subtreeFlags&Os)for(e=e.child;e!==null;)Im(e,i,r),e=e.sibling}function Im(e,i,r){switch(e.tag){case 26:wa(e,i,r),e.flags&Os&&e.memoizedState!==null&&g2(r,an,e.memoizedState,e.memoizedProps);break;case 5:wa(e,i,r);break;case 3:case 4:var l=an;an=Mo(e.stateNode.containerInfo),wa(e,i,r),an=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Os,Os=16777216,wa(e,i,r),Os=l):wa(e,i,r));break;default:wa(e,i,r)}}function Zm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function js(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];ot=l,Gm(l,e)}Zm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qm(e),e=e.sibling}function qm(e){switch(e.tag){case 0:case 11:case 15:js(e),e.flags&2048&&ei(9,e,e.return);break;case 3:js(e);break;case 12:js(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,mo(e)):js(e);break;default:js(e)}}function mo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];ot=l,Gm(l,e)}Zm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ei(8,i,i.return),mo(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,mo(i));break;default:mo(i)}e=e.sibling}}function Gm(e,i){for(;ot!==null;){var r=ot;switch(r.tag){case 0:case 11:case 15:ei(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gs(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,ot=l;else e:for(r=e;ot!==null;){l=ot;var f=l.sibling,h=l.return;if(Lm(l),l===r){ot=null;break e}if(f!==null){f.return=h,ot=f;break e}ot=h}}}var DS={getCacheForType:function(e){var i=ft(We),r=i.data.get(e);return r===void 0&&(r=e(),i.data.set(e,r)),r},cacheSignal:function(){return ft(We).controller.signal}},OS=typeof WeakMap=="function"?WeakMap:Map,Ee=0,ke=null,ve=null,xe=0,Me=0,Vt=null,ti=!1,Ta=!1,yu=!1,kn=0,Ge=0,ni=0,Vi=0,vu=0,Bt=0,Ea=0,ks=null,Ct=null,bu=!1,go=0,Ym=0,yo=1/0,vo=null,ii=null,at=0,ai=null,Aa=null,Nn=0,xu=0,Su=null,Fm=null,Ns=0,_u=null;function Ht(){return(Ee&2)!==0&&xe!==0?xe&-xe:V.T!==null?Mu():uh()}function Xm(){if(Bt===0)if((xe&536870912)===0||_e){var e=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),Bt=e}else Bt=536870912;return e=Lt.current,e!==null&&(e.flags|=32),Bt}function Mt(e,i,r){(e===ke&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),si(e,xe,Bt,!1)),ns(e,r),((Ee&2)===0||e!==ke)&&(e===ke&&((Ee&2)===0&&(Vi|=r),Ge===4&&si(e,xe,Bt,!1)),hn(e))}function Km(e,i,r){if((Ee&6)!==0)throw Error(s(327));var l=!r&&(i&127)===0&&(i&e.expiredLanes)===0||ts(e,i),f=l?NS(e,i):Tu(e,i,!0),h=l;do{if(f===0){Ta&&!l&&si(e,i,0,!1);break}else{if(r=e.current.alternate,h&&!jS(r)){f=Tu(e,i,!1),h=!1;continue}if(f===2){if(h=i,e.errorRecoveryDisabledLanes&h)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var _=e;f=ks;var A=_.current.memoizedState.isDehydrated;if(A&&(Ca(_,v).flags|=256),v=Tu(_,v,!1),v!==2){if(yu&&!A){_.errorRecoveryDisabledLanes|=h,Vi|=h,f=4;break e}h=Ct,Ct=f,h!==null&&(Ct===null?Ct=h:Ct.push.apply(Ct,h))}f=v}if(h=!1,f!==2)continue}}if(f===1){Ca(e,0),si(e,i,0,!0);break}e:{switch(l=e,h=f,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:si(l,i,Bt,!ti);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=go+300-Dt(),10<f)){if(si(l,i,Bt,!ti),Cr(l,0,!0)!==0)break e;Nn=i,l.timeoutHandle=Cg(Qm.bind(null,l,r,Ct,vo,bu,i,Bt,Vi,Ea,ti,h,"Throttled",-0,0),f);break e}Qm(l,r,Ct,vo,bu,i,Bt,Vi,Ea,ti,h,null,-0,0)}}break}while(!0);hn(e)}function Qm(e,i,r,l,f,h,v,_,A,N,$,Z,L,U){if(e.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},Im(i,h,Z);var W=(h&62914560)===h?go-Dt():(h&4194048)===h?Ym-Dt():0;if(W=y2(Z,W),W!==null){Nn=h,e.cancelPendingCommit=W(sg.bind(null,e,i,h,r,l,f,v,_,A,$,Z,null,L,U)),si(e,h,v,!N);return}}sg(e,i,h,r,l,f,v,_,A)}function jS(e){for(var i=e;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var f=r[l],h=f.getSnapshot;f=f.value;try{if(!kt(h(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function si(e,i,r,l){i&=~vu,i&=~Vi,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var f=i;0<f;){var h=31-jt(f),v=1<<h;l[h]=-1,f&=~v}r!==0&&oh(e,r,i)}function bo(){return(Ee&6)===0?(Ls(0),!1):!0}function wu(){if(ve!==null){if(Me===0)var e=ve.return;else e=ve,Tn=Ri=null,Bc(e),ya=null,vs=0,e=ve;for(;e!==null;)Mm(e.alternate,e),e=e.return;ve=null}}function Ca(e,i){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,WS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Nn=0,wu(),ke=e,ve=r=_n(e.current,null),xe=i,Me=0,Vt=null,ti=!1,Ta=ts(e,i),yu=!1,Ea=Bt=vu=Vi=ni=Ge=0,Ct=ks=null,bu=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var f=31-jt(l),h=1<<f;i|=e[f],l&=~h}return kn=i,Br(),r}function Jm(e,i){he=null,V.H=As,i===ga||i===Yr?(i=pp(),Me=3):i===Cc?(i=pp(),Me=4):Me=i===tu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vt=i,ve===null&&(Ge=1,oo(e,qt(i,e.current)))}function Wm(){var e=Lt.current;return e===null?!0:(xe&4194048)===xe?Xt===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Xt:!1}function eg(){var e=V.H;return V.H=As,e===null?As:e}function tg(){var e=V.A;return V.A=DS,e}function xo(){Ge=4,ti||(xe&4194048)!==xe&&Lt.current!==null||(Ta=!0),(ni&134217727)===0&&(Vi&134217727)===0||ke===null||si(ke,xe,Bt,!1)}function Tu(e,i,r){var l=Ee;Ee|=2;var f=eg(),h=tg();(ke!==e||xe!==i)&&(vo=null,Ca(e,i)),i=!1;var v=Ge;e:do try{if(Me!==0&&ve!==null){var _=ve,A=Vt;switch(Me){case 8:wu(),v=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(i=!0);var N=Me;if(Me=0,Vt=null,Ma(e,_,A,N),r&&Ta){v=0;break e}break;default:N=Me,Me=0,Vt=null,Ma(e,_,A,N)}}kS(),v=Ge;break}catch($){Jm(e,$)}while(!0);return i&&e.shellSuspendCounter++,Tn=Ri=null,Ee=l,V.H=f,V.A=h,ve===null&&(ke=null,xe=0,Br()),v}function kS(){for(;ve!==null;)ng(ve)}function NS(e,i){var r=Ee;Ee|=2;var l=eg(),f=tg();ke!==e||xe!==i?(vo=null,yo=Dt()+500,Ca(e,i)):Ta=ts(e,i);e:do try{if(Me!==0&&ve!==null){i=ve;var h=Vt;t:switch(Me){case 1:Me=0,Vt=null,Ma(e,i,h,1);break;case 2:case 9:if(dp(h)){Me=0,Vt=null,ig(i);break}i=function(){Me!==2&&Me!==9||ke!==e||(Me=7),hn(e)},h.then(i,i);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:dp(h)?(Me=0,Vt=null,ig(i)):(Me=0,Vt=null,Ma(e,i,h,7));break;case 5:var v=null;switch(ve.tag){case 26:v=ve.memoizedState;case 5:case 27:var _=ve;if(v?$g(v):_.stateNode.complete){Me=0,Vt=null;var A=_.sibling;if(A!==null)ve=A;else{var N=_.return;N!==null?(ve=N,So(N)):ve=null}break t}}Me=0,Vt=null,Ma(e,i,h,5);break;case 6:Me=0,Vt=null,Ma(e,i,h,6);break;case 8:wu(),Ge=6;break e;default:throw Error(s(462))}}LS();break}catch($){Jm(e,$)}while(!0);return Tn=Ri=null,V.H=l,V.A=f,Ee=r,ve!==null?0:(ke=null,xe=0,Br(),Ge)}function LS(){for(;ve!==null&&!sx();)ng(ve)}function ng(e){var i=Am(e.alternate,e,kn);e.memoizedProps=e.pendingProps,i===null?So(e):ve=i}function ig(e){var i=e,r=i.alternate;switch(i.tag){case 15:case 0:i=xm(r,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=xm(r,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:Bc(i);default:Mm(r,i),i=ve=tp(i,kn),i=Am(r,i,kn)}e.memoizedProps=e.pendingProps,i===null?So(e):ve=i}function Ma(e,i,r,l){Tn=Ri=null,Bc(i),ya=null,vs=0;var f=i.return;try{if(TS(e,f,i,r,xe)){Ge=1,oo(e,qt(r,e.current)),ve=null;return}}catch(h){if(f!==null)throw ve=f,h;Ge=1,oo(e,qt(r,e.current)),ve=null;return}i.flags&32768?(_e||l===1?e=!0:Ta||(xe&536870912)!==0?e=!1:(ti=e=!0,(l===2||l===9||l===3||l===6)&&(l=Lt.current,l!==null&&l.tag===13&&(l.flags|=16384))),ag(i,e)):So(i)}function So(e){var i=e;do{if((i.flags&32768)!==0){ag(i,ti);return}e=i.return;var r=CS(i.alternate,i,kn);if(r!==null){ve=r;return}if(i=i.sibling,i!==null){ve=i;return}ve=i=e}while(i!==null);Ge===0&&(Ge=5)}function ag(e,i){do{var r=MS(e.alternate,e);if(r!==null){r.flags&=32767,ve=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(e=e.sibling,e!==null)){ve=e;return}ve=e=r}while(e!==null);Ge=6,ve=null}function sg(e,i,r,l,f,h,v,_,A){e.cancelPendingCommit=null;do _o();while(at!==0);if((Ee&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(h=i.lanes|i.childLanes,h|=dc,mx(e,r,h,v,_,A),e===ke&&(ve=ke=null,xe=0),Aa=i,ai=e,Nn=r,xu=h,Su=f,Fm=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,HS(wr,function(){return ug(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=V.T,V.T=null,f=G.p,G.p=2,v=Ee,Ee|=4;try{RS(e,i,r)}finally{Ee=v,G.p=f,V.T=l}}at=1,rg(),og(),lg()}}function rg(){if(at===1){at=0;var e=ai,i=Aa,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=V.T,V.T=null;var l=G.p;G.p=2;var f=Ee;Ee|=4;try{Hm(i,e);var h=Lu,v=Gh(e.containerInfo),_=h.focusedElem,A=h.selectionRange;if(v!==_&&_&&_.ownerDocument&&qh(_.ownerDocument.documentElement,_)){if(A!==null&&oc(_)){var N=A.start,$=A.end;if($===void 0&&($=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min($,_.value.length);else{var Z=_.ownerDocument||document,L=Z&&Z.defaultView||window;if(L.getSelection){var U=L.getSelection(),W=_.textContent.length,le=Math.min(A.start,W),je=A.end===void 0?le:Math.min(A.end,W);!U.extend&&le>je&&(v=je,je=le,le=v);var O=Zh(_,le),z=Zh(_,je);if(O&&z&&(U.rangeCount!==1||U.anchorNode!==O.node||U.anchorOffset!==O.offset||U.focusNode!==z.node||U.focusOffset!==z.offset)){var k=Z.createRange();k.setStart(O.node,O.offset),U.removeAllRanges(),le>je?(U.addRange(k),U.extend(z.node,z.offset)):(k.setEnd(z.node,z.offset),U.addRange(k))}}}}for(Z=[],U=_;U=U.parentNode;)U.nodeType===1&&Z.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Z.length;_++){var I=Z[_];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}ko=!!Nu,Lu=Nu=null}finally{Ee=f,G.p=l,V.T=r}}e.current=i,at=2}}function og(){if(at===2){at=0;var e=ai,i=Aa,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=V.T,V.T=null;var l=G.p;G.p=2;var f=Ee;Ee|=4;try{Nm(e,i.alternate,i)}finally{Ee=f,G.p=l,V.T=r}}at=3}}function lg(){if(at===4||at===3){at=0,rx();var e=ai,i=Aa,r=Nn,l=Fm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?at=5:(at=0,Aa=ai=null,cg(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ii=null),$l(r),i=i.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(es,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=V.T,f=G.p,G.p=2,V.T=null;try{for(var h=e.onRecoverableError,v=0;v<l.length;v++){var _=l[v];h(_.value,{componentStack:_.stack})}}finally{V.T=i,G.p=f}}(Nn&3)!==0&&_o(),hn(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===_u?Ns++:(Ns=0,_u=e):Ns=0,Ls(0)}}function cg(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,gs(i)))}function _o(){return rg(),og(),lg(),ug()}function ug(){if(at!==5)return!1;var e=ai,i=xu;xu=0;var r=$l(Nn),l=V.T,f=G.p;try{G.p=32>r?32:r,V.T=null,r=Su,Su=null;var h=ai,v=Nn;if(at=0,Aa=ai=null,Nn=0,(Ee&6)!==0)throw Error(s(331));var _=Ee;if(Ee|=4,qm(h.current),$m(h,h.current,v,r),Ee=_,Ls(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(es,h)}catch{}return!0}finally{G.p=f,V.T=l,cg(e,i)}}function fg(e,i,r){i=qt(r,i),i=eu(e.stateNode,i,2),e=Qn(e,i,2),e!==null&&(ns(e,2),hn(e))}function Re(e,i,r){if(e.tag===3)fg(e,e,r);else for(;i!==null;){if(i.tag===3){fg(i,e,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ii===null||!ii.has(l))){e=qt(r,e),r=dm(2),l=Qn(i,r,2),l!==null&&(hm(r,l,i,e),ns(l,2),hn(l));break}}i=i.return}}function Eu(e,i,r){var l=e.pingCache;if(l===null){l=e.pingCache=new OS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(r)||(yu=!0,f.add(r),e=US.bind(null,e,i,r),i.then(e,e))}function US(e,i,r){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ke===e&&(xe&r)===r&&(Ge===4||Ge===3&&(xe&62914560)===xe&&300>Dt()-go?(Ee&2)===0&&Ca(e,0):vu|=r,Ea===xe&&(Ea=0)),hn(e)}function dg(e,i){i===0&&(i=rh()),e=Ai(e,i),e!==null&&(ns(e,i),hn(e))}function VS(e){var i=e.memoizedState,r=0;i!==null&&(r=i.retryLane),dg(e,r)}function BS(e,i){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),dg(e,r)}function HS(e,i){return Vl(e,i)}var wo=null,Ra=null,Au=!1,To=!1,Cu=!1,ri=0;function hn(e){e!==Ra&&e.next===null&&(Ra===null?wo=Ra=e:Ra=Ra.next=e),To=!0,Au||(Au=!0,$S())}function Ls(e,i){if(!Cu&&To){Cu=!0;do for(var r=!1,l=wo;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var v=l.suspendedLanes,_=l.pingedLanes;h=(1<<31-jt(42|e)+1)-1,h&=f&~(v&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,gg(l,h))}else h=xe,h=Cr(l,l===ke?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ts(l,h)||(r=!0,gg(l,h));l=l.next}while(r);Cu=!1}}function PS(){hg()}function hg(){To=Au=!1;var e=0;ri!==0&&JS()&&(e=ri);for(var i=Dt(),r=null,l=wo;l!==null;){var f=l.next,h=pg(l,i);h===0?(l.next=null,r===null?wo=f:r.next=f,f===null&&(Ra=r)):(r=l,(e!==0||(h&3)!==0)&&(To=!0)),l=f}at!==0&&at!==5||Ls(e),ri!==0&&(ri=0)}function pg(e,i){for(var r=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var v=31-jt(h),_=1<<v,A=f[v];A===-1?((_&r)===0||(_&l)!==0)&&(f[v]=px(_,i)):A<=i&&(e.expiredLanes|=_),h&=~_}if(i=ke,r=xe,r=Cr(e,e===i?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===i&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Bl(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ts(e,r)){if(i=r&-r,i===e.callbackPriority)return i;switch(l!==null&&Bl(l),$l(r)){case 2:case 8:r=ah;break;case 32:r=wr;break;case 268435456:r=sh;break;default:r=wr}return l=mg.bind(null,e),r=Vl(r,l),e.callbackPriority=i,e.callbackNode=r,i}return l!==null&&l!==null&&Bl(l),e.callbackPriority=2,e.callbackNode=null,2}function mg(e,i){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(_o()&&e.callbackNode!==r)return null;var l=xe;return l=Cr(e,e===ke?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Km(e,l,i),pg(e,Dt()),e.callbackNode!=null&&e.callbackNode===r?mg.bind(null,e):null)}function gg(e,i){if(_o())return null;Km(e,i,!0)}function $S(){e2(function(){(Ee&6)!==0?Vl(ih,PS):hg()})}function Mu(){if(ri===0){var e=pa;e===0&&(e=Tr,Tr<<=1,(Tr&261888)===0&&(Tr=256)),ri=e}return ri}function yg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dr(""+e)}function vg(e,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,e.id&&r.setAttribute("form",e.id),i.parentNode.insertBefore(r,i),e=new FormData(e),r.parentNode.removeChild(r),e}function IS(e,i,r,l,f){if(i==="submit"&&r&&r.stateNode===f){var h=yg((f[_t]||null).action),v=l.submitter;v&&(i=(i=v[_t]||null)?yg(i.formAction):v.getAttribute("formAction"),i!==null&&(h=i,v=null));var _=new Nr("action","action",null,l,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ri!==0){var A=v?vg(f,v):new FormData(f);Fc(r,{pending:!0,data:A,method:f.method,action:h},null,A)}}else typeof h=="function"&&(_.preventDefault(),A=v?vg(f,v):new FormData(f),Fc(r,{pending:!0,data:A,method:f.method,action:h},h,A))},currentTarget:f}]})}}for(var Ru=0;Ru<fc.length;Ru++){var zu=fc[Ru],ZS=zu.toLowerCase(),qS=zu[0].toUpperCase()+zu.slice(1);nn(ZS,"on"+qS)}nn(Xh,"onAnimationEnd"),nn(Kh,"onAnimationIteration"),nn(Qh,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(oS,"onTransitionRun"),nn(lS,"onTransitionStart"),nn(cS,"onTransitionCancel"),nn(Jh,"onTransitionEnd"),ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Us));function bg(e,i){i=(i&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],f=l.event;l=l.listeners;e:{var h=void 0;if(i)for(var v=l.length-1;0<=v;v--){var _=l[v],A=_.instance,N=_.currentTarget;if(_=_.listener,A!==h&&f.isPropagationStopped())break e;h=_,f.currentTarget=N;try{h(f)}catch($){Vr($)}f.currentTarget=null,h=A}else for(v=0;v<l.length;v++){if(_=l[v],A=_.instance,N=_.currentTarget,_=_.listener,A!==h&&f.isPropagationStopped())break e;h=_,f.currentTarget=N;try{h(f)}catch($){Vr($)}f.currentTarget=null,h=A}}}}function be(e,i){var r=i[Il];r===void 0&&(r=i[Il]=new Set);var l=e+"__bubble";r.has(l)||(xg(i,e,2,!1),r.add(l))}function Du(e,i,r){var l=0;i&&(l|=4),xg(r,e,l,i)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Ou(e){if(!e[Eo]){e[Eo]=!0,hh.forEach(function(r){r!=="selectionchange"&&(GS.has(r)||Du(r,!1,e),Du(r,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Eo]||(i[Eo]=!0,Du("selectionchange",!1,i))}}function xg(e,i,r,l){switch(Xg(i)){case 2:var f=x2;break;case 8:f=S2;break;default:f=Yu}r=f.bind(null,i,r,e),f=void 0,!Jl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(i,r,{capture:!0,passive:f}):e.addEventListener(i,r,!0):f!==void 0?e.addEventListener(i,r,{passive:f}):e.addEventListener(i,r,!1)}function ju(e,i,r,l,f){var h=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var _=l.stateNode.containerInfo;if(_===f)break;if(v===4)for(v=l.return;v!==null;){var A=v.tag;if((A===3||A===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;_!==null;){if(v=Qi(_),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){l=h=v;continue e}_=_.parentNode}}l=l.return}Eh(function(){var N=h,$=Kl(r),Z=[];e:{var L=Wh.get(e);if(L!==void 0){var U=Nr,W=e;switch(e){case"keypress":if(jr(r)===0)break e;case"keydown":case"keyup":U=Bx;break;case"focusin":W="focus",U=nc;break;case"focusout":W="blur",U=nc;break;case"beforeblur":case"afterblur":U=nc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=$x;break;case Xh:case Kh:case Qh:U=zx;break;case Jh:U=Zx;break;case"scroll":case"scrollend":U=Ex;break;case"wheel":U=Gx;break;case"copy":case"cut":case"paste":U=Ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=zh;break;case"toggle":case"beforetoggle":U=Fx}var le=(i&4)!==0,je=!le&&(e==="scroll"||e==="scrollend"),O=le?L!==null?L+"Capture":null:L;le=[];for(var z=N,k;z!==null;){var I=z;if(k=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||k===null||O===null||(I=ss(z,O),I!=null&&le.push(Vs(z,I,k))),je)break;z=z.return}0<le.length&&(L=new U(L,W,null,r,$),Z.push({event:L,listeners:le}))}}if((i&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",L&&r!==Xl&&(W=r.relatedTarget||r.fromElement)&&(Qi(W)||W[Ki]))break e;if((U||L)&&(L=$.window===$?$:(L=$.ownerDocument)?L.defaultView||L.parentWindow:window,U?(W=r.relatedTarget||r.toElement,U=N,W=W?Qi(W):null,W!==null&&(je=c(W),le=W.tag,W!==je||le!==5&&le!==27&&le!==6)&&(W=null)):(U=null,W=N),U!==W)){if(le=Mh,I="onMouseLeave",O="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(le=zh,I="onPointerLeave",O="onPointerEnter",z="pointer"),je=U==null?L:as(U),k=W==null?L:as(W),L=new le(I,z+"leave",U,r,$),L.target=je,L.relatedTarget=k,I=null,Qi($)===N&&(le=new le(O,z+"enter",W,r,$),le.target=k,le.relatedTarget=je,I=le),je=I,U&&W)t:{for(le=YS,O=U,z=W,k=0,I=O;I;I=le(I))k++;I=0;for(var se=z;se;se=le(se))I++;for(;0<k-I;)O=le(O),k--;for(;0<I-k;)z=le(z),I--;for(;k--;){if(O===z||z!==null&&O===z.alternate){le=O;break t}O=le(O),z=le(z)}le=null}else le=null;U!==null&&Sg(Z,L,U,le,!1),W!==null&&je!==null&&Sg(Z,je,W,le,!0)}}e:{if(L=N?as(N):window,U=L.nodeName&&L.nodeName.toLowerCase(),U==="select"||U==="input"&&L.type==="file")var we=Vh;else if(Lh(L))if(Bh)we=aS;else{we=nS;var ne=tS}else U=L.nodeName,!U||U.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?N&&Fl(N.elementType)&&(we=Vh):we=iS;if(we&&(we=we(e,N))){Uh(Z,we,r,$);break e}ne&&ne(e,L,N),e==="focusout"&&N&&L.type==="number"&&N.memoizedProps.value!=null&&Yl(L,"number",L.value)}switch(ne=N?as(N):window,e){case"focusin":(Lh(ne)||ne.contentEditable==="true")&&(ra=ne,lc=N,hs=null);break;case"focusout":hs=lc=ra=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,Yh(Z,r,$);break;case"selectionchange":if(rS)break;case"keydown":case"keyup":Yh(Z,r,$)}var me;if(ac)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else sa?kh(e,r)&&(Se="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Se="onCompositionStart");Se&&(Dh&&r.locale!=="ko"&&(sa||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&sa&&(me=Ah()):(Zn=$,Wl="value"in Zn?Zn.value:Zn.textContent,sa=!0)),ne=Ao(N,Se),0<ne.length&&(Se=new Rh(Se,e,null,r,$),Z.push({event:Se,listeners:ne}),me?Se.data=me:(me=Nh(r),me!==null&&(Se.data=me)))),(me=Kx?Qx(e,r):Jx(e,r))&&(Se=Ao(N,"onBeforeInput"),0<Se.length&&(ne=new Rh("onBeforeInput","beforeinput",null,r,$),Z.push({event:ne,listeners:Se}),ne.data=me)),IS(Z,e,N,r,$)}bg(Z,i)})}function Vs(e,i,r){return{instance:e,listener:i,currentTarget:r}}function Ao(e,i){for(var r=i+"Capture",l=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=ss(e,r),f!=null&&l.unshift(Vs(e,f,h)),f=ss(e,i),f!=null&&l.push(Vs(e,f,h))),e.tag===3)return l;e=e.return}return[]}function YS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sg(e,i,r,l,f){for(var h=i._reactName,v=[];r!==null&&r!==l;){var _=r,A=_.alternate,N=_.stateNode;if(_=_.tag,A!==null&&A===l)break;_!==5&&_!==26&&_!==27||N===null||(A=N,f?(N=ss(r,h),N!=null&&v.unshift(Vs(r,N,A))):f||(N=ss(r,h),N!=null&&v.push(Vs(r,N,A)))),r=r.return}v.length!==0&&e.push({event:i,listeners:v})}var FS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function _g(e){return(typeof e=="string"?e:""+e).replace(FS,`
`).replace(XS,"")}function wg(e,i){return i=_g(i),_g(e)===i}function Oe(e,i,r,l,f,h){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||na(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&na(e,""+l);break;case"className":Rr(e,"class",l);break;case"tabIndex":Rr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(e,r,l);break;case"style":wh(e,l,h);break;case"data":if(i!=="object"){Rr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Dr(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(i!=="input"&&Oe(e,i,"name",f.name,f,null),Oe(e,i,"formEncType",f.formEncType,f,null),Oe(e,i,"formMethod",f.formMethod,f,null),Oe(e,i,"formTarget",f.formTarget,f,null)):(Oe(e,i,"encType",f.encType,f,null),Oe(e,i,"method",f.method,f,null),Oe(e,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Dr(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=xn);break;case"onScroll":l!=null&&be("scroll",e);break;case"onScrollEnd":l!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Dr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":be("beforetoggle",e),be("toggle",e),Mr(e,"popover",l);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Mr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=wx.get(r)||r,Mr(e,r,l))}}function ku(e,i,r,l,f,h){switch(r){case"style":wh(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?na(e,l):(typeof l=="number"||typeof l=="bigint")&&na(e,""+l);break;case"onScroll":l!=null&&be("scroll",e);break;case"onScrollEnd":l!=null&&be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ph.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),h=e[_t]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(i,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(i,l,f);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Mr(e,r,l)}}}function ht(e,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var l=!1,f=!1,h;for(h in r)if(r.hasOwnProperty(h)){var v=r[h];if(v!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Oe(e,i,h,v,r,null)}}f&&Oe(e,i,"srcSet",r.srcSet,r,null),l&&Oe(e,i,"src",r.src,r,null);return;case"input":be("invalid",e);var _=h=v=f=null,A=null,N=null;for(l in r)if(r.hasOwnProperty(l)){var $=r[l];if($!=null)switch(l){case"name":f=$;break;case"type":v=$;break;case"checked":A=$;break;case"defaultChecked":N=$;break;case"value":h=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Oe(e,i,l,$,r,null)}}bh(e,h,_,A,N,v,f,!1);return;case"select":be("invalid",e),l=v=h=null;for(f in r)if(r.hasOwnProperty(f)&&(_=r[f],_!=null))switch(f){case"value":h=_;break;case"defaultValue":v=_;break;case"multiple":l=_;default:Oe(e,i,f,_,r,null)}i=h,r=v,e.multiple=!!l,i!=null?ta(e,!!l,i,!1):r!=null&&ta(e,!!l,r,!0);return;case"textarea":be("invalid",e),h=f=l=null;for(v in r)if(r.hasOwnProperty(v)&&(_=r[v],_!=null))switch(v){case"value":l=_;break;case"defaultValue":f=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Oe(e,i,v,_,r,null)}Sh(e,l,f,h);return;case"option":for(A in r)r.hasOwnProperty(A)&&(l=r[A],l!=null)&&(A==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Oe(e,i,A,l,r,null));return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(l=0;l<Us.length;l++)be(Us[l],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Oe(e,i,N,l,r,null)}return;default:if(Fl(i)){for($ in r)r.hasOwnProperty($)&&(l=r[$],l!==void 0&&ku(e,i,$,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Oe(e,i,_,l,r,null))}function KS(e,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,_=null,A=null,N=null,$=null;for(U in r){var Z=r[U];if(r.hasOwnProperty(U)&&Z!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":A=Z;default:l.hasOwnProperty(U)||Oe(e,i,U,null,l,Z)}}for(var L in l){var U=l[L];if(Z=r[L],l.hasOwnProperty(L)&&(U!=null||Z!=null))switch(L){case"type":h=U;break;case"name":f=U;break;case"checked":N=U;break;case"defaultChecked":$=U;break;case"value":v=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:U!==Z&&Oe(e,i,L,U,l,Z)}}Gl(e,v,_,A,N,$,h,f);return;case"select":U=v=_=L=null;for(h in r)if(A=r[h],r.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":U=A;default:l.hasOwnProperty(h)||Oe(e,i,h,null,l,A)}for(f in l)if(h=l[f],A=r[f],l.hasOwnProperty(f)&&(h!=null||A!=null))switch(f){case"value":L=h;break;case"defaultValue":_=h;break;case"multiple":v=h;default:h!==A&&Oe(e,i,f,h,l,A)}i=_,r=v,l=U,L!=null?ta(e,!!r,L,!1):!!l!=!!r&&(i!=null?ta(e,!!r,i,!0):ta(e,!!r,r?[]:"",!1));return;case"textarea":U=L=null;for(_ in r)if(f=r[_],r.hasOwnProperty(_)&&f!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(e,i,_,null,l,f)}for(v in l)if(f=l[v],h=r[v],l.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":L=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&Oe(e,i,v,f,l,h)}xh(e,L,U);return;case"option":for(var W in r)L=r[W],r.hasOwnProperty(W)&&L!=null&&!l.hasOwnProperty(W)&&(W==="selected"?e.selected=!1:Oe(e,i,W,null,l,L));for(A in l)L=l[A],U=r[A],l.hasOwnProperty(A)&&L!==U&&(L!=null||U!=null)&&(A==="selected"?e.selected=L&&typeof L!="function"&&typeof L!="symbol":Oe(e,i,A,L,l,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in r)L=r[le],r.hasOwnProperty(le)&&L!=null&&!l.hasOwnProperty(le)&&Oe(e,i,le,null,l,L);for(N in l)if(L=l[N],U=r[N],l.hasOwnProperty(N)&&L!==U&&(L!=null||U!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,i));break;default:Oe(e,i,N,L,l,U)}return;default:if(Fl(i)){for(var je in r)L=r[je],r.hasOwnProperty(je)&&L!==void 0&&!l.hasOwnProperty(je)&&ku(e,i,je,void 0,l,L);for($ in l)L=l[$],U=r[$],!l.hasOwnProperty($)||L===U||L===void 0&&U===void 0||ku(e,i,$,L,l,U);return}}for(var O in r)L=r[O],r.hasOwnProperty(O)&&L!=null&&!l.hasOwnProperty(O)&&Oe(e,i,O,null,l,L);for(Z in l)L=l[Z],U=r[Z],!l.hasOwnProperty(Z)||L===U||L==null&&U==null||Oe(e,i,Z,L,l,U)}function Tg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var f=r[l],h=f.transferSize,v=f.initiatorType,_=f.duration;if(h&&_&&Tg(v)){for(v=0,_=f.responseEnd,l+=1;l<r.length;l++){var A=r[l],N=A.startTime;if(N>_)break;var $=A.transferSize,Z=A.initiatorType;$&&Tg(Z)&&(A=A.responseEnd,v+=$*(A<_?1:(_-N)/(A-N)))}if(--l,i+=8*(h+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nu=null,Lu=null;function Co(e){return e.nodeType===9?e:e.ownerDocument}function Eg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ag(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Uu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vu=null;function JS(){var e=window.event;return e&&e.type==="popstate"?e===Vu?!1:(Vu=e,!0):(Vu=null,!1)}var Cg=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(e){return Mg.resolve(null).then(e).catch(t2)}:Cg;function t2(e){setTimeout(function(){throw e})}function oi(e){return e==="head"}function Rg(e,i){var r=i,l=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(f),ja(i);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Bs(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Bs(r);for(var h=r.firstChild;h;){var v=h.nextSibling,_=h.nodeName;h[is]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=v}}else r==="body"&&Bs(e.ownerDocument.body);r=f}while(r);ja(i)}function zg(e,i){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Bu(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Bu(r),Zl(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function n2(e,i,r,l){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[is])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function i2(e,i,r){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Kt(e.nextSibling),e===null))return null;return e}function Dg(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Kt(e.nextSibling),e===null))return null;return e}function Hu(e){return e.data==="$?"||e.data==="$~"}function Pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function a2(e,i){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||r.readyState!=="loading")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Kt(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var $u=null;function Og(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(i===0)return Kt(e.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}e=e.nextSibling}return null}function jg(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return e;i--}else r!=="/$"&&r!=="/&"||i++}e=e.previousSibling}return null}function kg(e,i,r){switch(i=Co(r),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Bs(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Zl(e)}var Qt=new Map,Ng=new Set;function Mo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ln=G.d;G.d={f:s2,r:r2,D:o2,C:l2,L:c2,m:u2,X:d2,S:f2,M:h2};function s2(){var e=Ln.f(),i=bo();return e||i}function r2(e){var i=Ji(e);i!==null&&i.tag===5&&i.type==="form"?Jp(i):Ln.r(e)}var za=typeof document>"u"?null:document;function Lg(e,i,r){var l=za;if(l&&typeof i=="string"&&i){var f=It(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Ng.has(f)||(Ng.add(f),e={rel:e,crossOrigin:r,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),ht(i,"link",e),rt(i),l.head.appendChild(i)))}}function o2(e){Ln.D(e),Lg("dns-prefetch",e,null)}function l2(e,i){Ln.C(e,i),Lg("preconnect",e,i)}function c2(e,i,r){Ln.L(e,i,r);var l=za;if(l&&e&&i){var f='link[rel="preload"][as="'+It(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+It(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+It(r.imageSizes)+'"]')):f+='[href="'+It(e)+'"]';var h=f;switch(i){case"style":h=Da(e);break;case"script":h=Oa(e)}Qt.has(h)||(e=y({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:e,as:i},r),Qt.set(h,e),l.querySelector(f)!==null||i==="style"&&l.querySelector(Hs(h))||i==="script"&&l.querySelector(Ps(h))||(i=l.createElement("link"),ht(i,"link",e),rt(i),l.head.appendChild(i)))}}function u2(e,i){Ln.m(e,i);var r=za;if(r&&e){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(e)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Oa(e)}if(!Qt.has(h)&&(e=y({rel:"modulepreload",href:e},i),Qt.set(h,e),r.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ps(h)))return}l=r.createElement("link"),ht(l,"link",e),rt(l),r.head.appendChild(l)}}}function f2(e,i,r){Ln.S(e,i,r);var l=za;if(l&&e){var f=Wi(l).hoistableStyles,h=Da(e);i=i||"default";var v=f.get(h);if(!v){var _={loading:0,preload:null};if(v=l.querySelector(Hs(h)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":i},r),(r=Qt.get(h))&&Iu(e,r);var A=v=l.createElement("link");rt(A),ht(A,"link",e),A._p=new Promise(function(N,$){A.onload=N,A.onerror=$}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ro(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:_},f.set(h,v)}}}function d2(e,i){Ln.X(e,i);var r=za;if(r&&e){var l=Wi(r).hoistableScripts,f=Oa(e),h=l.get(f);h||(h=r.querySelector(Ps(f)),h||(e=y({src:e,async:!0},i),(i=Qt.get(f))&&Zu(e,i),h=r.createElement("script"),rt(h),ht(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function h2(e,i){Ln.M(e,i);var r=za;if(r&&e){var l=Wi(r).hoistableScripts,f=Oa(e),h=l.get(f);h||(h=r.querySelector(Ps(f)),h||(e=y({src:e,async:!0,type:"module"},i),(i=Qt.get(f))&&Zu(e,i),h=r.createElement("script"),rt(h),ht(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function Ug(e,i,r,l){var f=(f=ye.current)?Mo(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Da(r.href),r=Wi(f).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Da(r.href);var h=Wi(f).hoistableStyles,v=h.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,v),(h=f.querySelector(Hs(e)))&&!h._p&&(v.instance=h,v.state.loading=5),Qt.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qt.set(e,r),h||p2(f,e,r,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(r),r=Wi(f).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Da(e){return'href="'+It(e)+'"'}function Hs(e){return'link[rel="stylesheet"]['+e+"]"}function Vg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function p2(e,i,r,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ht(i,"link",r),rt(i),e.head.appendChild(i))}function Oa(e){return'[src="'+It(e)+'"]'}function Ps(e){return"script[async]"+e}function Bg(e,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+It(r.href)+'"]');if(l)return i.instance=l,rt(l),l;var f=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rt(l),ht(l,"style",f),Ro(l,r.precedence,e),i.instance=l;case"stylesheet":f=Da(r.href);var h=e.querySelector(Hs(f));if(h)return i.state.loading|=4,i.instance=h,rt(h),h;l=Vg(r),(f=Qt.get(f))&&Iu(l,f),h=(e.ownerDocument||e).createElement("link"),rt(h);var v=h;return v._p=new Promise(function(_,A){v.onload=_,v.onerror=A}),ht(h,"link",l),i.state.loading|=4,Ro(h,r.precedence,e),i.instance=h;case"script":return h=Oa(r.src),(f=e.querySelector(Ps(h)))?(i.instance=f,rt(f),f):(l=r,(f=Qt.get(h))&&(l=y({},r),Zu(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),rt(f),ht(f,"link",l),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ro(l,r.precedence,e));return i.instance}function Ro(e,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,v=0;v<l.length;v++){var _=l[v];if(_.dataset.precedence===i)h=_;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(e,i.firstChild))}function Iu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Zu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var zo=null;function Hg(e,i,r){if(zo===null){var l=new Map,f=zo=new Map;f.set(r,l)}else f=zo,l=f.get(r),l||(l=new Map,f.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var h=r[f];if(!(h[is]||h[ct]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(i)||"";v=e+v;var _=l.get(v);_?_.push(h):l.set(v,[h])}}return l}function Pg(e,i,r){e=e.ownerDocument||e,e.head.insertBefore(r,i==="title"?e.querySelector("head > title"):null)}function m2(e,i,r){if(r===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function $g(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function g2(e,i,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Da(l.href),h=i.querySelector(Hs(f));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Do.bind(e),i.then(e,e)),r.state.loading|=4,r.instance=h,rt(h);return}h=i.ownerDocument||i,l=Vg(l),(f=Qt.get(f))&&Iu(l,f),h=h.createElement("link"),rt(h);var v=h;v._p=new Promise(function(_,A){v.onload=_,v.onerror=A}),ht(h,"link",l),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Do.bind(e),i.addEventListener("load",r),i.addEventListener("error",r))}}var qu=0;function y2(e,i){return e.stylesheets&&e.count===0&&jo(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&jo(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+i);0<e.imgBytes&&qu===0&&(qu=62500*QS());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jo(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>qu?50:800)+i);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Do(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oo=null;function jo(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oo=new Map,i.forEach(v2,e),Oo=null,Do.call(e))}function v2(e,i){if(!(i.state.loading&4)){var r=Oo.get(e);if(r)var l=r.get(null);else{r=new Map,Oo.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),h=r.get(v)||l,h===l&&r.set(null,f),r.set(v,f),this.count++,l=Do.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var $s={$$typeof:C,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function b2(e,i,r,l,f,h,v,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.hiddenUpdates=Hl(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Ig(e,i,r,l,f,h,v,_,A,N,$,Z){return e=new b2(e,i,r,v,A,N,$,Z,_),i=1,h===!0&&(i|=24),h=Nt(3,null,null,i),e.current=h,h.stateNode=e,i=Tc(),i.refCount++,e.pooledCache=i,i.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:i},Mc(h),e}function Zg(e){return e?(e=ca,e):ca}function qg(e,i,r,l,f,h){f=Zg(f),l.context===null?l.context=f:l.pendingContext=f,l=Kn(i),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=Qn(e,l,i),r!==null&&(Mt(r,e,i),xs(r,e,i))}function Gg(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<i?r:i}}function Gu(e,i){Gg(e,i),(e=e.alternate)&&Gg(e,i)}function Yg(e){if(e.tag===13||e.tag===31){var i=Ai(e,67108864);i!==null&&Mt(i,e,67108864),Gu(e,67108864)}}function Fg(e){if(e.tag===13||e.tag===31){var i=Ht();i=Pl(i);var r=Ai(e,i);r!==null&&Mt(r,e,i),Gu(e,i)}}var ko=!0;function x2(e,i,r,l){var f=V.T;V.T=null;var h=G.p;try{G.p=2,Yu(e,i,r,l)}finally{G.p=h,V.T=f}}function S2(e,i,r,l){var f=V.T;V.T=null;var h=G.p;try{G.p=8,Yu(e,i,r,l)}finally{G.p=h,V.T=f}}function Yu(e,i,r,l){if(ko){var f=Fu(l);if(f===null)ju(e,i,l,No,r),Kg(e,l);else if(w2(f,e,i,r,l))l.stopPropagation();else if(Kg(e,l),i&4&&-1<_2.indexOf(e)){for(;f!==null;){var h=Ji(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Si(h.pendingLanes);if(v!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;v;){var A=1<<31-jt(v);_.entanglements[1]|=A,v&=~A}hn(h),(Ee&6)===0&&(yo=Dt()+500,Ls(0))}}break;case 31:case 13:_=Ai(h,2),_!==null&&Mt(_,h,2),bo(),Gu(h,2)}if(h=Fu(l),h===null&&ju(e,i,l,No,r),h===f)break;f=h}f!==null&&l.stopPropagation()}else ju(e,i,l,null,r)}}function Fu(e){return e=Kl(e),Xu(e)}var No=null;function Xu(e){if(No=null,e=Qi(e),e!==null){var i=c(e);if(i===null)e=null;else{var r=i.tag;if(r===13){if(e=u(i),e!==null)return e;e=null}else if(r===31){if(e=d(i),e!==null)return e;e=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return No=e,null}function Xg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ox()){case ih:return 2;case ah:return 8;case wr:case lx:return 32;case sh:return 268435456;default:return 32}default:return 32}}var Ku=!1,li=null,ci=null,ui=null,Is=new Map,Zs=new Map,fi=[],_2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kg(e,i){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Is.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(i.pointerId)}}function qs(e,i,r,l,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},i!==null&&(i=Ji(i),i!==null&&Yg(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function w2(e,i,r,l,f){switch(i){case"focusin":return li=qs(li,e,i,r,l,f),!0;case"dragenter":return ci=qs(ci,e,i,r,l,f),!0;case"mouseover":return ui=qs(ui,e,i,r,l,f),!0;case"pointerover":var h=f.pointerId;return Is.set(h,qs(Is.get(h)||null,e,i,r,l,f)),!0;case"gotpointercapture":return h=f.pointerId,Zs.set(h,qs(Zs.get(h)||null,e,i,r,l,f)),!0}return!1}function Qg(e){var i=Qi(e.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=u(r),i!==null){e.blockedOn=i,fh(e.priority,function(){Fg(r)});return}}else if(i===31){if(i=d(r),i!==null){e.blockedOn=i,fh(e.priority,function(){Fg(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lo(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var r=Fu(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Xl=l,r.target.dispatchEvent(l),Xl=null}else return i=Ji(r),i!==null&&Yg(i),e.blockedOn=r,!1;i.shift()}return!0}function Jg(e,i,r){Lo(e)&&r.delete(i)}function T2(){Ku=!1,li!==null&&Lo(li)&&(li=null),ci!==null&&Lo(ci)&&(ci=null),ui!==null&&Lo(ui)&&(ui=null),Is.forEach(Jg),Zs.forEach(Jg)}function Uo(e,i){e.blockedOn===i&&(e.blockedOn=null,Ku||(Ku=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,T2)))}var Vo=null;function Wg(e){Vo!==e&&(Vo=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vo===e&&(Vo=null);for(var i=0;i<e.length;i+=3){var r=e[i],l=e[i+1],f=e[i+2];if(typeof l!="function"){if(Xu(l||r)===null)continue;break}var h=Ji(r);h!==null&&(e.splice(i,3),i-=3,Fc(h,{pending:!0,data:f,method:r.method,action:l},l,f))}}))}function ja(e){function i(A){return Uo(A,e)}li!==null&&Uo(li,e),ci!==null&&Uo(ci,e),ui!==null&&Uo(ui,e),Is.forEach(i),Zs.forEach(i);for(var r=0;r<fi.length;r++){var l=fi[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<fi.length&&(r=fi[0],r.blockedOn===null);)Qg(r),r.blockedOn===null&&fi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var f=r[l],h=r[l+1],v=f[_t]||null;if(typeof h=="function")v||Wg(r);else if(v){var _=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[_t]||null)_=v.formAction;else if(Xu(f)!==null)continue}else _=v.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),Wg(r)}}}function ey(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Qu(e){this._internalRoot=e}Bo.prototype.render=Qu.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,l=Ht();qg(r,l,e,i,null,null)},Bo.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;qg(e.current,2,null,e,null,null),bo(),i[Ki]=null}};function Bo(e){this._internalRoot=e}Bo.prototype.unstable_scheduleHydration=function(e){if(e){var i=uh();e={blockedOn:null,target:e,priority:i};for(var r=0;r<fi.length&&i!==0&&i<fi[r].priority;r++);fi.splice(r,0,e),r===0&&Qg(e)}};var ty=n.version;if(ty!=="19.2.4")throw Error(s(527,ty,"19.2.4"));G.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var E2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{es=Ho.inject(E2),Ot=Ho}catch{}}return Ys.createRoot=function(e,i){if(!o(e))throw Error(s(299));var r=!1,l="",f=lm,h=cm,v=um;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Ig(e,1,!1,null,null,r,l,null,f,h,v,ey),e[Ki]=i.current,Ou(e),new Qu(i)},Ys.hydrateRoot=function(e,i,r){if(!o(e))throw Error(s(299));var l=!1,f="",h=lm,v=cm,_=um,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),i=Ig(e,1,!0,i,r??null,l,f,A,h,v,_,ey),i.context=Zg(null),r=i.current,l=Ht(),l=Pl(l),f=Kn(l),f.callback=null,Qn(r,f,l),r=l,i.current.lanes=r,ns(i,r),hn(i),e[Ki]=i.current,Ou(e),new Bo(i)},Ys.version="19.2.4",Ys}var fy;function N2(){if(fy)return ef.exports;fy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),ef.exports=k2(),ef.exports}var L2=N2();var dy="popstate";function U2(t={}){function n(s,o){let{pathname:c,search:u,hash:d}=s.location;return jf("",{pathname:c,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(s,o){return typeof o=="string"?o:ir(o)}return B2(n,a,null,t)}function Ie(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function yn(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function V2(){return Math.random().toString(36).substring(2,10)}function hy(t,n){return{usr:t.state,key:t.key,idx:n}}function jf(t,n,a=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Ga(n):n,state:a,key:n&&n.key||s||V2()}}function ir({pathname:t="/",search:n="",hash:a=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ga(t){let n={};if(t){let a=t.indexOf("#");a>=0&&(n.hash=t.substring(a),t=t.substring(0,a));let s=t.indexOf("?");s>=0&&(n.search=t.substring(s),t=t.substring(0,s)),t&&(n.pathname=t)}return n}function B2(t,n,a,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,d="POP",p=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function y(){d="POP";let M=g(),D=M==null?null:M-m;m=M,p&&p({action:d,location:E.location,delta:D})}function b(M,D){d="PUSH";let j=jf(E.location,M,D);m=g()+1;let C=hy(j,m),B=E.createHref(j);try{u.pushState(C,"",B)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(B)}c&&p&&p({action:d,location:E.location,delta:1})}function S(M,D){d="REPLACE";let j=jf(E.location,M,D);m=g();let C=hy(j,m),B=E.createHref(j);u.replaceState(C,"",B),c&&p&&p({action:d,location:E.location,delta:0})}function T(M){return H2(M)}let E={get action(){return d},get location(){return t(o,u)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(dy,y),p=M,()=>{o.removeEventListener(dy,y),p=null}},createHref(M){return n(o,M)},createURL:T,encodeLocation(M){let D=T(M);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:S,go(M){return u.go(M)}};return E}function H2(t,n=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(a,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:ir(t);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function uv(t,n,a="/"){return P2(t,n,a,!1)}function P2(t,n,a,s){let o=typeof n=="string"?Ga(n):n,c=Vn(o.pathname||"/",a);if(c==null)return null;let u=fv(t);$2(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let m=W2(c);d=Q2(u[p],m,s)}return d}function fv(t,n=[],a=[],s="",o=!1){let c=(u,d,p=o,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&p)return;Ie(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let y=Un([s,g.relativePath]),b=a.concat(g);u.children&&u.children.length>0&&(Ie(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),fv(u.children,n,b,y,p)),!(u.path==null&&!u.index)&&n.push({path:y,score:X2(y,u.index),routesMeta:b})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))c(u,d);else for(let p of dv(u.path))c(u,d,!0,p)}),n}function dv(t){let n=t.split("/");if(n.length===0)return[];let[a,...s]=n,o=a.endsWith("?"),c=a.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=dv(s.join("/")),d=[];return d.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&d.push(...u),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function $2(t){t.sort((n,a)=>n.score!==a.score?a.score-n.score:K2(n.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var I2=/^:[\w-]+$/,Z2=3,q2=2,G2=1,Y2=10,F2=-2,py=t=>t==="*";function X2(t,n){let a=t.split("/"),s=a.length;return a.some(py)&&(s+=F2),n&&(s+=q2),a.filter(o=>!py(o)).reduce((o,c)=>o+(I2.test(c)?Z2:c===""?G2:Y2),s)}function K2(t,n){return t.length===n.length&&t.slice(0,-1).every((s,o)=>s===n[o])?t[t.length-1]-n[n.length-1]:0}function Q2(t,n,a=!1){let{routesMeta:s}=t,o={},c="/",u=[];for(let d=0;d<s.length;++d){let p=s[d],m=d===s.length-1,g=c==="/"?n:n.slice(c.length)||"/",y=rl({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),b=p.route;if(!y&&m&&a&&!s[s.length-1].route.index&&(y=rl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Un([c,y.pathname]),pathnameBase:i_(Un([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=Un([c,y.pathnameBase]))}return u}function rl(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=J2(t.path,t.caseSensitive,t.end),o=n.match(a);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:y},b)=>{if(g==="*"){let T=d[b]||"";u=c.slice(0,c.length-T.length).replace(/(.)\/+$/,"$1")}const S=d[b];return y&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:u,pattern:t}}function J2(t,n=!1,a=!0){yn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),s]}function W2(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return yn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function Vn(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}var e_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function t_(t,n="/"){let{pathname:a,search:s="",hash:o=""}=typeof t=="string"?Ga(t):t,c;return a?(a=a.replace(/\/\/+/g,"/"),a.startsWith("/")?c=my(a.substring(1),"/"):c=my(a,n)):c=n,{pathname:c,search:a_(s),hash:s_(o)}}function my(t,n){let a=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function sf(t,n,a,s){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n_(t){return t.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function hv(t){let n=n_(t);return n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase)}function pv(t,n,a,s=!1){let o;typeof t=="string"?o=Ga(t):(o={...t},Ie(!o.pathname||!o.pathname.includes("?"),sf("?","pathname","search",o)),Ie(!o.pathname||!o.pathname.includes("#"),sf("#","pathname","hash",o)),Ie(!o.search||!o.search.includes("#"),sf("#","search","hash",o)));let c=t===""||o.pathname==="",u=c?"/":o.pathname,d;if(u==null)d=a;else{let y=n.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}d=y>=0?n[y]:"/"}let p=t_(o,d),m=u&&u!=="/"&&u.endsWith("/"),g=(c||u===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var Un=t=>t.join("/").replace(/\/\/+/g,"/"),i_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),a_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,r_=class{constructor(t,n,a,s=!1){this.status=t,this.statusText=n||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function o_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function l_(t){return t.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gv(t,n){let a=t;if(typeof a!="string"||!e_.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let s=a,o=!1;if(mv)try{let c=new URL(window.location.href),u=a.startsWith("//")?new URL(c.protocol+a):new URL(a),d=Vn(u.pathname,n);u.origin===c.origin&&d!=null?a=d+u.search+u.hash:o=!0}catch{yn(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yv=["POST","PUT","PATCH","DELETE"];new Set(yv);var c_=["GET",...yv];new Set(c_);var Ya=w.createContext(null);Ya.displayName="DataRouter";var _l=w.createContext(null);_l.displayName="DataRouterState";var u_=w.createContext(!1),vv=w.createContext({isTransitioning:!1});vv.displayName="ViewTransition";var f_=w.createContext(new Map);f_.displayName="Fetchers";var d_=w.createContext(null);d_.displayName="Await";var en=w.createContext(null);en.displayName="Navigation";var hr=w.createContext(null);hr.displayName="Location";var Pn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var fd=w.createContext(null);fd.displayName="RouteError";var bv="REACT_ROUTER_ERROR",h_="REDIRECT",p_="ROUTE_ERROR_RESPONSE";function m_(t){if(t.startsWith(`${bv}:${h_}:{`))try{let n=JSON.parse(t.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function g_(t){if(t.startsWith(`${bv}:${p_}:{`))try{let n=JSON.parse(t.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new r_(n.status,n.statusText,n.data)}catch{}}function y_(t,{relative:n}={}){Ie(pr(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=w.useContext(en),{hash:o,pathname:c,search:u}=mr(t,{relative:n}),d=c;return a!=="/"&&(d=c==="/"?a:Un([a,c])),s.createHref({pathname:d,search:u,hash:o})}function pr(){return w.useContext(hr)!=null}function gi(){return Ie(pr(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(hr).location}var xv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sv(t){w.useContext(en).static||w.useLayoutEffect(t)}function Fa(){let{isDataRoute:t}=w.useContext(Pn);return t?z_():v_()}function v_(){Ie(pr(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Ya),{basename:n,navigator:a}=w.useContext(en),{matches:s}=w.useContext(Pn),{pathname:o}=gi(),c=JSON.stringify(hv(s)),u=w.useRef(!1);return Sv(()=>{u.current=!0}),w.useCallback((p,m={})=>{if(yn(u.current,xv),!u.current)return;if(typeof p=="number"){a.go(p);return}let g=pv(p,JSON.parse(c),o,m.relative==="path");t==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Un([n,g.pathname])),(m.replace?a.replace:a.push)(g,m.state,m)},[n,a,c,o,t])}w.createContext(null);function mr(t,{relative:n}={}){let{matches:a}=w.useContext(Pn),{pathname:s}=gi(),o=JSON.stringify(hv(a));return w.useMemo(()=>pv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function b_(t,n){return _v(t,n)}function _v(t,n,a,s,o){Ie(pr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=w.useContext(en),{matches:u}=w.useContext(Pn),d=u[u.length-1],p=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let j=y&&y.path||"";Tv(m,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=gi(),S;if(n){let j=typeof n=="string"?Ga(n):n;Ie(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=b;let T=S.pathname||"/",E=T;if(g!=="/"){let j=g.replace(/^\//,"").split("/");E="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let M=uv(t,{pathname:E});yn(y||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),yn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=T_(M&&M.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Un([g,c.encodeLocation?c.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Un([g,c.encodeLocation?c.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,a,s,o);return n&&D?w.createElement(hr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},D):D}function x_(){let t=R_(),n=o_(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:c},"ErrorBoundary")," or"," ",w.createElement("code",{style:c},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},n),a?w.createElement("pre",{style:o},a):null,u)}var S_=w.createElement(x_,null),wv=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.onError?this.props.onError(t,n):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const a=g_(t.digest);a&&(t=a)}let n=t!==void 0?w.createElement(Pn.Provider,{value:this.props.routeContext},w.createElement(fd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(__,{error:t},n):n}};wv.contextType=u_;var rf=new WeakMap;function __({children:t,error:n}){let{basename:a}=w.useContext(en);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let s=m_(n.digest);if(s){let o=rf.get(n);if(o)throw o;let c=gv(s.location,a);if(mv&&!rf.get(n))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw rf.set(n,u),u}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return t}function w_({routeContext:t,match:n,children:a}){let s=w.useContext(Ya);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Pn.Provider,{value:t},a)}function T_(t,n=[],a=null,s=null,o=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(n.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let c=t,u=a?.errors;if(u!=null){let g=c.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Ie(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let d=!1,p=-1;if(a)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:b,errors:S}=a,T=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||T){d=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let m=a&&s?(g,y)=>{s(g,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:l_(a.matches),errorInfo:y})}:void 0;return c.reduceRight((g,y,b)=>{let S,T=!1,E=null,M=null;a&&(S=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||S_,d&&(p<0&&b===0?(Tv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,M=null):p===b&&(T=!0,M=y.route.hydrateFallbackElement||null)));let D=n.concat(c.slice(0,b+1)),j=()=>{let C;return S?C=E:T?C=M:y.route.Component?C=w.createElement(y.route.Component,null):y.route.element?C=y.route.element:C=g,w.createElement(w_,{match:y,routeContext:{outlet:g,matches:D,isDataRoute:a!=null},children:C})};return a&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?w.createElement(wv,{location:a.location,revalidation:a.revalidation,component:E,error:S,children:j(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:m}):j()},null)}function dd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E_(t){let n=w.useContext(Ya);return Ie(n,dd(t)),n}function A_(t){let n=w.useContext(_l);return Ie(n,dd(t)),n}function C_(t){let n=w.useContext(Pn);return Ie(n,dd(t)),n}function hd(t){let n=C_(t),a=n.matches[n.matches.length-1];return Ie(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function M_(){return hd("useRouteId")}function R_(){let t=w.useContext(fd),n=A_("useRouteError"),a=hd("useRouteError");return t!==void 0?t:n.errors?.[a]}function z_(){let{router:t}=E_("useNavigate"),n=hd("useNavigate"),a=w.useRef(!1);return Sv(()=>{a.current=!0}),w.useCallback(async(o,c={})=>{yn(a.current,xv),a.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:n,...c}))},[t,n])}var gy={};function Tv(t,n,a){!n&&!gy[t]&&(gy[t]=!0,yn(!1,a))}w.memo(D_);function D_({routes:t,future:n,state:a,onError:s}){return _v(t,void 0,a,s,n)}function La(t){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O_({basename:t="/",children:n=null,location:a,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){Ie(!pr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:d,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[d,o,c,u]);typeof a=="string"&&(a=Ga(a));let{pathname:m="/",search:g="",hash:y="",state:b=null,key:S="default"}=a,T=w.useMemo(()=>{let E=Vn(m,d);return E==null?null:{location:{pathname:E,search:g,hash:y,state:b,key:S},navigationType:s}},[d,m,g,y,b,S,s]);return yn(T!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:w.createElement(en.Provider,{value:p},w.createElement(hr.Provider,{children:n,value:T}))}function j_({children:t,location:n}){return b_(kf(t),n)}function kf(t,n=[]){let a=[];return w.Children.forEach(t,(s,o)=>{if(!w.isValidElement(s))return;let c=[...n,o];if(s.type===w.Fragment){a.push.apply(a,kf(s.props.children,c));return}Ie(s.type===La,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=kf(s.props.children,c)),a.push(u)}),a}var Qo="get",Jo="application/x-www-form-urlencoded";function wl(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function k_(t){return wl(t)&&t.tagName.toLowerCase()==="button"}function N_(t){return wl(t)&&t.tagName.toLowerCase()==="form"}function L_(t){return wl(t)&&t.tagName.toLowerCase()==="input"}function U_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V_(t,n){return t.button===0&&(!n||n==="_self")&&!U_(t)}var Po=null;function B_(){if(Po===null)try{new FormData(document.createElement("form"),0),Po=!1}catch{Po=!0}return Po}var H_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function of(t){return t!=null&&!H_.has(t)?(yn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jo}"`),null):t}function P_(t,n){let a,s,o,c,u;if(N_(t)){let d=t.getAttribute("action");s=d?Vn(d,n):null,a=t.getAttribute("method")||Qo,o=of(t.getAttribute("enctype"))||Jo,c=new FormData(t)}else if(k_(t)||L_(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||d.getAttribute("action");if(s=p?Vn(p,n):null,a=t.getAttribute("formmethod")||d.getAttribute("method")||Qo,o=of(t.getAttribute("formenctype"))||of(d.getAttribute("enctype"))||Jo,c=new FormData(d,t),!B_()){let{name:m,type:g,value:y}=t;if(g==="image"){let b=m?`${m}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else m&&c.append(m,y)}}else{if(wl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Qo,s=null,o=Jo,u=t}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pd(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function $_(t,n,a,s){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:n&&Vn(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function I_(t,n){if(t.id in n)return n[t.id];try{let a=await import(t.module);return n[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function q_(t,n,a){let s=await Promise.all(t.map(async o=>{let c=n.routes[o.route.id];if(c){let u=await I_(c,a);return u.links?u.links():[]}return[]}));return X_(s.flat(1).filter(Z_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yy(t,n,a,s,o,c){let u=(p,m)=>a[m]?p.route.id!==a[m].route.id:!0,d=(p,m)=>a[m].pathname!==p.pathname||a[m].route.path?.endsWith("*")&&a[m].params["*"]!==p.params["*"];return c==="assets"?n.filter((p,m)=>u(p,m)||d(p,m)):c==="data"?n.filter((p,m)=>{let g=s.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(u(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function G_(t,n,{includeHydrateFallback:a}={}){return Y_(t.map(s=>{let o=n.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Y_(t){return[...new Set(t)]}function F_(t){let n={},a=Object.keys(t).sort();for(let s of a)n[s]=t[s];return n}function X_(t,n){let a=new Set;return new Set(n),t.reduce((s,o)=>{let c=JSON.stringify(F_(o));return a.has(c)||(a.add(c),s.push({key:c,link:o})),s},[])}function Ev(){let t=w.useContext(Ya);return pd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function K_(){let t=w.useContext(_l);return pd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var md=w.createContext(void 0);md.displayName="FrameworkContext";function Av(){let t=w.useContext(md);return pd(t,"You must render this element inside a <HydratedRouter> element"),t}function Q_(t,n){let a=w.useContext(md),[s,o]=w.useState(!1),[c,u]=w.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=n,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let E=D=>{D.forEach(j=>{u(j.isIntersecting)})},M=new IntersectionObserver(E,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[t]),w.useEffect(()=>{if(s){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[s]);let S=()=>{o(!0)},T=()=>{o(!1),u(!1)};return a?t!=="intent"?[c,b,{}]:[c,b,{onFocus:Fs(d,S),onBlur:Fs(p,T),onMouseEnter:Fs(m,S),onMouseLeave:Fs(g,T),onTouchStart:Fs(y,S)}]:[!1,b,{}]}function Fs(t,n){return a=>{t&&t(a),a.defaultPrevented||n(a)}}function J_({page:t,...n}){let{router:a}=Ev(),s=w.useMemo(()=>uv(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?w.createElement(ew,{page:t,matches:s,...n}):null}function W_(t){let{manifest:n,routeModules:a}=Av(),[s,o]=w.useState([]);return w.useEffect(()=>{let c=!1;return q_(t,n,a).then(u=>{c||o(u)}),()=>{c=!0}},[t,n,a]),s}function ew({page:t,matches:n,...a}){let s=gi(),{future:o,manifest:c,routeModules:u}=Av(),{basename:d}=Ev(),{loaderData:p,matches:m}=K_(),g=w.useMemo(()=>yy(t,n,m,c,s,"data"),[t,n,m,c,s]),y=w.useMemo(()=>yy(t,n,m,c,s,"assets"),[t,n,m,c,s]),b=w.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let E=new Set,M=!1;if(n.forEach(j=>{let C=c.routes[j.route.id];!C||!C.hasLoader||(!g.some(B=>B.route.id===j.route.id)&&j.route.id in p&&u[j.route.id]?.shouldRevalidate||C.hasClientLoader?M=!0:E.add(j.route.id))}),E.size===0)return[];let D=$_(t,d,o.unstable_trailingSlashAwareDataRequests,"data");return M&&E.size>0&&D.searchParams.set("_routes",n.filter(j=>E.has(j.route.id)).map(j=>j.route.id).join(",")),[D.pathname+D.search]},[d,o.unstable_trailingSlashAwareDataRequests,p,s,c,g,n,t,u]),S=w.useMemo(()=>G_(y,c),[y,c]),T=W_(y);return w.createElement(w.Fragment,null,b.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...a})),S.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...a})),T.map(({key:E,link:M})=>w.createElement("link",{key:E,nonce:a.nonce,...M,crossOrigin:M.crossOrigin??a.crossOrigin})))}function tw(...t){return n=>{t.forEach(a=>{typeof a=="function"?a(n):a!=null&&(a.current=n)})}}var nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nw&&(window.__reactRouterVersion="7.13.0")}catch{}function iw({basename:t,children:n,unstable_useTransitions:a,window:s}){let o=w.useRef();o.current==null&&(o.current=U2({window:s,v5Compat:!0}));let c=o.current,[u,d]=w.useState({action:c.action,location:c.location}),p=w.useCallback(m=>{a===!1?d(m):w.startTransition(()=>d(m))},[a]);return w.useLayoutEffect(()=>c.listen(p),[c,p]),w.createElement(O_,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:a})}var Cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mv=w.forwardRef(function({onClick:n,discover:a="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:d,target:p,to:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b,...S},T){let{basename:E,unstable_useTransitions:M}=w.useContext(en),D=typeof m=="string"&&Cv.test(m),j=gv(m,E);m=j.to;let C=y_(m,{relative:o}),[B,P,Q]=Q_(s,S),X=ow(m,{replace:u,state:d,target:p,preventScrollReset:g,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:b,unstable_useTransitions:M});function K(ie){n&&n(ie),ie.defaultPrevented||X(ie)}let ae=w.createElement("a",{...S,...Q,href:j.absoluteURL||C,onClick:j.isExternal||c?n:K,ref:tw(T,P),target:p,"data-discover":!D&&a==="render"?"true":void 0});return B&&!D?w.createElement(w.Fragment,null,ae,w.createElement(J_,{page:C})):ae});Mv.displayName="Link";var aw=w.forwardRef(function({"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:d,children:p,...m},g){let y=mr(u,{relative:m.relative}),b=gi(),S=w.useContext(_l),{navigator:T,basename:E}=w.useContext(en),M=S!=null&&dw(y)&&d===!0,D=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,j=b.pathname,C=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(j=j.toLowerCase(),C=C?C.toLowerCase():null,D=D.toLowerCase()),C&&E&&(C=Vn(C,E)||C);const B=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let P=j===D||!o&&j.startsWith(D)&&j.charAt(B)==="/",Q=C!=null&&(C===D||!o&&C.startsWith(D)&&C.charAt(D.length)==="/"),X={isActive:P,isPending:Q,isTransitioning:M},K=P?n:void 0,ae;typeof s=="function"?ae=s(X):ae=[s,P?"active":null,Q?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ie=typeof c=="function"?c(X):c;return w.createElement(Mv,{...m,"aria-current":K,className:ae,ref:g,style:ie,to:u,viewTransition:d},typeof p=="function"?p(X):p)});aw.displayName="NavLink";var sw=w.forwardRef(({discover:t="render",fetcherKey:n,navigate:a,reloadDocument:s,replace:o,state:c,method:u=Qo,action:d,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b,...S},T)=>{let{unstable_useTransitions:E}=w.useContext(en),M=uw(),D=fw(d,{relative:m}),j=u.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&Cv.test(d),B=P=>{if(p&&p(P),P.defaultPrevented)return;P.preventDefault();let Q=P.nativeEvent.submitter,X=Q?.getAttribute("formmethod")||u,K=()=>M(Q||P.currentTarget,{fetcherKey:n,method:X,navigate:a,replace:o,state:c,relative:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b});E&&a!==!1?w.startTransition(()=>K()):K()};return w.createElement("form",{ref:T,method:j,action:D,onSubmit:s?p:B,...S,"data-discover":!C&&t==="render"?"true":void 0})});sw.displayName="Form";function rw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rv(t){let n=w.useContext(Ya);return Ie(n,rw(t)),n}function ow(t,{target:n,replace:a,state:s,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let m=Fa(),g=gi(),y=mr(t,{relative:c});return w.useCallback(b=>{if(V_(b,n)){b.preventDefault();let S=a!==void 0?a:ir(g)===ir(y),T=()=>m(t,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:d});p?w.startTransition(()=>T()):T()}},[g,m,y,a,s,n,t,o,c,u,d,p])}var lw=0,cw=()=>`__${String(++lw)}__`;function uw(){let{router:t}=Rv("useSubmit"),{basename:n}=w.useContext(en),a=M_(),s=t.fetch,o=t.navigate;return w.useCallback(async(c,u={})=>{let{action:d,method:p,encType:m,formData:g,body:y}=P_(c,n);if(u.navigate===!1){let b=u.fetcherKey||cw();await s(b,a,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||p,formEncType:u.encType||m,flushSync:u.flushSync})}else await o(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||p,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:a,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,o,n,a])}function fw(t,{relative:n}={}){let{basename:a}=w.useContext(en),s=w.useContext(Pn);Ie(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...mr(t||".",{relative:n})},u=gi();if(t==null){c.search=u.search;let d=new URLSearchParams(c.search),p=d.getAll("index");if(p.some(g=>g==="")){d.delete("index"),p.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();c.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:Un([a,c.pathname])),ir(c)}function dw(t,{relative:n}={}){let a=w.useContext(vv);Ie(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Rv("useViewTransitionState"),o=mr(t,{relative:n});if(!a.isTransitioning)return!1;let c=Vn(a.currentLocation.pathname,s)||a.currentLocation.pathname,u=Vn(a.nextLocation.pathname,s)||a.nextLocation.pathname;return rl(o.pathname,u)!=null||rl(o.pathname,c)!=null}class hw{constructor(){this._listeners=new Set,this._interactionTimestamps=[],this._sessionStart=Date.now(),this._context=this._detectInitialContext(),this._setupListeners()}_detectInitialContext(){return{performanceTier:this._detectPerformanceTier(),colorGamut:this._detectColorGamut(),motionPreference:this._detectMotionPreference(),hasHaptics:"vibrate"in navigator,hasSoundOutput:"AudioContext"in window||"webkitAudioContext"in window,screenSize:this._detectScreenSize(),inputMethod:this._detectInputMethod(),timeOfDay:this._detectTimeOfDay(),isLowPower:this._detectLowPower(),connectionQuality:this._detectConnectionQuality(),hasCompletedOnboarding:this._load("onboarding_complete",!1),sessionDuration:0,interactionVelocity:"normal",prefersDarkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,prefersHighContrast:window.matchMedia("(prefers-contrast: more)").matches,prefersLargeText:parseFloat(getComputedStyle(document.documentElement).fontSize)>16,screenReaderActive:window.matchMedia("(forced-colors: active)").matches}}_detectPerformanceTier(){const n=navigator.deviceMemory||4,a=navigator.hardwareConcurrency||2;let s=0;n>=8?s+=3:n>=4?s+=2:n>=2&&(s+=1),a>=8?s+=3:a>=4?s+=2:a>=2&&(s+=1);try{const c=document.createElement("canvas").getContext("webgl"),u=c?.getExtension("WEBGL_debug_renderer_info"),d=u?c.getParameter(u.UNMASKED_RENDERER_WEBGL):"";/nvidia|radeon|intel.*(iris|uhd)/i.test(d)&&(s+=2)}catch{}return this._detectLowPower()&&(s-=2),s>=6?"high":s>=4?"medium":s>=2?"low":"minimal"}_detectColorGamut(){return window.matchMedia("(color-gamut: p3)").matches?"p3":window.matchMedia("(color-gamut: srgb)").matches?"srgb":"limited"}_detectMotionPreference(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches||this._detectLowPower()?"reduced":"full"}_detectScreenSize(){const n=window.innerWidth;return n<640?"mobile":n<1024?"tablet":n<1536?"desktop":"large"}_detectInputMethod(){const n=window.matchMedia("(pointer: fine)").matches,a=window.matchMedia("(pointer: coarse)").matches;return n&&!a?"pointer":a&&!n?"touch":a&&n?"mixed":"keyboard"}_detectTimeOfDay(){const n=new Date().getHours();return n>=5&&n<12?"morning":n>=12&&n<17?"day":n>=17&&n<21?"evening":"night"}_detectLowPower(){return!!navigator.connection?.saveData}_detectConnectionQuality(){if(!navigator.onLine)return"offline";const n=navigator.connection;if(n){if(n.effectiveType==="4g")return"fast";if(n.effectiveType==="3g"||n.effectiveType==="2g")return"slow"}return"fast"}_load(n,a){try{const s=localStorage.getItem(`lymbic_${n}`);return s?JSON.parse(s):a}catch{return a}}_setupListeners(){window.addEventListener("resize",()=>{this.updateContext({screenSize:this._detectScreenSize()})}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a=>{this.updateContext({prefersDarkMode:a.matches})}),window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change",a=>{this.updateContext({motionPreference:a.matches?"reduced":"full"})}),window.addEventListener("online",()=>{this.updateContext({connectionQuality:this._detectConnectionQuality()})}),window.addEventListener("offline",()=>{this.updateContext({connectionQuality:"offline"})});const n=()=>{const a=Date.now();if(this._interactionTimestamps.push(a),this._interactionTimestamps.length>10&&this._interactionTimestamps.shift(),this._interactionTimestamps.length>=3){const s=[];for(let u=1;u<this._interactionTimestamps.length;u++)s.push(this._interactionTimestamps[u]-this._interactionTimestamps[u-1]);const o=s.reduce((u,d)=>u+d,0)/s.length,c=o<500?"fast":o>2e3?"slow":"normal";this._context.interactionVelocity!==c&&this.updateContext({interactionVelocity:c})}};document.addEventListener("click",n),document.addEventListener("touchstart",n),setInterval(()=>{this.updateContext({sessionDuration:Math.floor((Date.now()-this._sessionStart)/1e3),timeOfDay:this._detectTimeOfDay()})},6e4),"getBattery"in navigator&&navigator.getBattery().then(a=>{const s=()=>{a.level<.2&&!a.charging&&this.updateContext({isLowPower:!0,motionPreference:"reduced"})};s(),a.addEventListener("levelchange",s),a.addEventListener("chargingchange",s)})}updateContext(n){this._context={...this._context,...n},this._listeners.forEach(a=>a(this._context))}getContext(){return{...this._context}}subscribe(n){return this._listeners.add(n),()=>this._listeners.delete(n)}completeOnboarding(){localStorage.setItem("lymbic_onboarding_complete","true"),this.updateContext({hasCompletedOnboarding:!0})}}const mi=new hw,$o={neutral:{primaryHue:270,accentHue:280,saturation:60,luminanceShift:0,springStiffness:300,springDamping:30,animationScale:1,pulseRate:0,glowIntensity:.3,blurAmount:20,particleDensity:0,soundProfile:"none",hapticPattern:[]},success:{primaryHue:150,accentHue:270,saturation:75,luminanceShift:5,springStiffness:400,springDamping:25,animationScale:1.1,pulseRate:0,glowIntensity:.6,blurAmount:25,particleDensity:30,soundProfile:"bright",hapticPattern:[10,50,10]},error:{primaryHue:0,accentHue:270,saturation:80,luminanceShift:-5,springStiffness:600,springDamping:15,animationScale:1.05,pulseRate:2,glowIntensity:.5,blurAmount:15,particleDensity:0,soundProfile:"sharp",hapticPattern:[50,100,50,100,50]},warning:{primaryHue:45,accentHue:270,saturation:85,luminanceShift:0,springStiffness:350,springDamping:28,animationScale:1,pulseRate:1,glowIntensity:.4,blurAmount:18,particleDensity:0,soundProfile:"warm",hapticPattern:[30,80,30]},learning:{primaryHue:200,accentHue:270,saturation:70,luminanceShift:3,springStiffness:250,springDamping:35,animationScale:1,pulseRate:.5,glowIntensity:.45,blurAmount:22,particleDensity:10,soundProfile:"soft",hapticPattern:[5,30]},focus:{primaryHue:270,accentHue:290,saturation:50,luminanceShift:-3,springStiffness:200,springDamping:40,animationScale:.98,pulseRate:0,glowIntensity:.2,blurAmount:30,particleDensity:0,soundProfile:"none",hapticPattern:[]},celebration:{primaryHue:280,accentHue:45,saturation:90,luminanceShift:10,springStiffness:500,springDamping:20,animationScale:1.2,pulseRate:0,glowIntensity:.8,blurAmount:25,particleDensity:100,soundProfile:"bright",hapticPattern:[10,30,10,30,10,100,10]},encouragement:{primaryHue:260,accentHue:170,saturation:65,luminanceShift:5,springStiffness:280,springDamping:32,animationScale:1.05,pulseRate:.3,glowIntensity:.5,blurAmount:20,particleDensity:15,soundProfile:"warm",hapticPattern:[5,20,5]},urgency:{primaryHue:15,accentHue:270,saturation:85,luminanceShift:0,springStiffness:550,springDamping:18,animationScale:1,pulseRate:3,glowIntensity:.6,blurAmount:12,particleDensity:0,soundProfile:"sharp",hapticPattern:[100,50,100]}};class pw{constructor(){this._currentState="neutral",this._currentExpression={...$o.neutral},this._targetExpression={...$o.neutral},this._transitionProgress=1,this._listeners=new Set,this._animationFrame=null,this._ctx=mi.getContext(),mi.subscribe(n=>{this._ctx=n,this._adaptToContext()})}transitionTo(n,a={}){const{duration:s=400,immediate:o=!1}=a;if(!(this._currentState===n&&this._transitionProgress===1)){if(this._currentState=n,this._targetExpression=this._computeAdapted(n),o){this._currentExpression={...this._targetExpression},this._transitionProgress=1,this._notify();return}this._transitionProgress=0,this._animateTransition(s),this._triggerHaptic(n)}}_computeAdapted(n){const a={...$o[n]};return(this._ctx.performanceTier==="low"||this._ctx.performanceTier==="minimal")&&(a.particleDensity=Math.floor(a.particleDensity*.3),a.blurAmount=Math.min(a.blurAmount,10),a.glowIntensity*=.7),this._ctx.motionPreference==="reduced"?(a.animationScale=1,a.pulseRate=0,a.springStiffness=1e3,a.springDamping=100,a.particleDensity=0):this._ctx.motionPreference==="none"&&(a.animationScale=1,a.pulseRate=0,a.particleDensity=0),this._ctx.prefersHighContrast&&(a.saturation=Math.min(100,a.saturation*1.3),a.luminanceShift=a.luminanceShift>0?15:-15,a.glowIntensity=0),(this._ctx.timeOfDay==="night"||this._ctx.timeOfDay==="evening")&&(a.luminanceShift-=3,a.saturation*=.9),(!this._ctx.hasSoundOutput||this._ctx.isLowPower)&&(a.soundProfile="none"),a}_adaptToContext(){this._targetExpression=this._computeAdapted(this._currentState),this._transitionProgress===1&&(this._currentExpression={...this._targetExpression},this._notify())}_animateTransition(n){this._animationFrame&&cancelAnimationFrame(this._animationFrame);const a={...this._currentExpression},s=performance.now(),o=c=>{const u=c-s;this._transitionProgress=Math.min(1,u/n);const d=1-Math.pow(1-this._transitionProgress,3);this._currentExpression=this._interpolate(a,this._targetExpression,d),this._notify(),this._transitionProgress<1&&(this._animationFrame=requestAnimationFrame(o))};this._animationFrame=requestAnimationFrame(o)}_interpolate(n,a,s){const o=(u,d)=>u+(d-u)*s,c=(u,d)=>{let p=d-u;return p>180&&(p-=360),p<-180&&(p+=360),(u+p*s+360)%360};return{primaryHue:c(n.primaryHue,a.primaryHue),accentHue:c(n.accentHue,a.accentHue),saturation:o(n.saturation,a.saturation),luminanceShift:o(n.luminanceShift,a.luminanceShift),springStiffness:o(n.springStiffness,a.springStiffness),springDamping:o(n.springDamping,a.springDamping),animationScale:o(n.animationScale,a.animationScale),pulseRate:o(n.pulseRate,a.pulseRate),glowIntensity:o(n.glowIntensity,a.glowIntensity),blurAmount:o(n.blurAmount,a.blurAmount),particleDensity:Math.round(o(n.particleDensity,a.particleDensity)),soundProfile:s>.5?a.soundProfile:n.soundProfile,hapticPattern:a.hapticPattern}}_triggerHaptic(n){if(!this._ctx.hasHaptics||this._ctx.motionPreference!=="full")return;const a=$o[n].hapticPattern;a.length>0&&"vibrate"in navigator&&navigator.vibrate(a)}getExpression(){return{...this._currentExpression}}getState(){return this._currentState}subscribe(n){return this._listeners.add(n),n(this._currentExpression,this._currentState),()=>this._listeners.delete(n)}_notify(){this._listeners.forEach(n=>n(this._currentExpression,this._currentState))}toCSSProperties(){const n=this._currentExpression;return{"--emotion-primary-h":`${n.primaryHue}`,"--emotion-primary-s":`${n.saturation}%`,"--emotion-primary-l":`${50+n.luminanceShift}%`,"--emotion-accent-h":`${n.accentHue}`,"--emotion-glow-intensity":`${n.glowIntensity}`,"--emotion-blur":`${n.blurAmount}px`,"--emotion-scale":`${n.animationScale}`,"--emotion-pulse-rate":`${n.pulseRate}s`,"--emotion-spring-stiffness":`${n.springStiffness}`,"--emotion-spring-damping":`${n.springDamping}`}}}const mn=new pw;typeof window<"u"&&(window.__emotionalState=mn);class mw{constructor(){this._ctx=mi.getContext(),this._exp=mn.getExpression(),this._intensity="full",mi.subscribe(n=>{this._ctx=n,this._updateIntensity()}),mn.subscribe(n=>{this._exp=n}),this._updateIntensity()}_updateIntensity(){if(this._ctx.motionPreference==="none"){this._intensity="none";return}if(this._ctx.motionPreference==="reduced"){this._intensity="subtle";return}if(this._ctx.performanceTier==="minimal"||this._ctx.isLowPower){this._intensity="subtle";return}if(this._ctx.performanceTier==="low"){this._intensity="moderate";return}this._intensity="full"}spring(n={}){if(this._intensity==="none")return{duration:0};const a=n.stiffness??this._exp.springStiffness,s=n.damping??this._exp.springDamping,o=this._intensity==="subtle"?2:this._intensity==="moderate"?1.3:1;return{type:"spring",stiffness:a*o,damping:s*o,mass:n.mass??1,...n}}tween(n=.3,a="easeOut"){if(this._intensity==="none")return{duration:0};const s=this._intensity==="subtle"?.5:this._intensity==="moderate"?.7:1;return{type:"tween",duration:n*s,ease:a}}getPresets(){return this._intensity==="none"?this._instant():{buttonPress:this.spring({stiffness:600,damping:30}),buttonHover:this.spring({stiffness:400,damping:25}),cardHover:this.spring({stiffness:300,damping:30}),cardPress:this.spring({stiffness:500,damping:35}),toggle:this.spring({stiffness:500,damping:30}),layoutShift:this.spring({stiffness:250,damping:35}),pageTransition:this.tween(.4,"easeInOut"),modalEnter:this.spring({stiffness:300,damping:28}),modalExit:this.tween(.2,"easeIn"),success:this.spring({stiffness:400,damping:20}),error:this.spring({stiffness:600,damping:15}),shake:{type:"spring",stiffness:800,damping:10,mass:.5},pulse:{type:"tween",duration:this._exp.pulseRate||1,repeat:1/0,ease:"easeInOut"},listItem:this.spring({stiffness:300,damping:30}),fadeIn:this.tween(.3,"easeOut"),scaleIn:this.spring({stiffness:350,damping:28}),slideIn:this.spring({stiffness:280,damping:32})}}_instant(){const n={duration:0};return{buttonPress:n,buttonHover:n,cardHover:n,cardPress:n,toggle:n,layoutShift:n,pageTransition:n,modalEnter:n,modalExit:n,success:n,error:n,shake:n,pulse:n,listItem:n,fadeIn:n,scaleIn:n,slideIn:n}}stagger(n){if(this._intensity==="none")return{staggerChildren:0,delayChildren:0};const s=Math.min(.05,.5/n),o=this._intensity==="subtle"?.5:this._intensity==="moderate"?.7:1;return{staggerChildren:s*o,delayChildren:.1*o}}getIntensity(){return this._intensity}isEnabled(){return this._intensity!=="none"}}const gw=new mw;class yw{constructor(){this._ctx=mi.getContext(),this._exp=mn.getExpression(),this._listeners=new Set,this._tokens=this._generate(),mi.subscribe(n=>{this._ctx=n,this._regenerate()}),mn.subscribe(n=>{this._exp=n,this._regenerate()})}_generate(){return{colors:this._genColors(),spacing:this._genSpacing(),radii:this._genRadii(),shadows:this._genShadows(),blur:this._genBlur(),typography:this._genTypography()}}_genColors(){const{primaryHue:n,accentHue:a,saturation:s,luminanceShift:o,glowIntensity:c}=this._exp,u=this._ctx.prefersDarkMode,d=this._ctx.prefersHighContrast,p=50,m=u?8:95,g=d?Math.min(100,s*1.3):s,y=(b,S,T)=>{const E=`hsl(${b}, ${S}%, ${T}%)`;return this._ctx.colorGamut==="p3"?{p3:`color(display-p3 ${this._hslToP3(b,S,T)})`,srgb:E,css:E}:{srgb:E,css:E}};return{primary:y(n,g,p+o),primaryHover:y(n,g+5,p+o+5),primaryActive:y(n,g,p+o-5),accent:y(a,g+10,p+5),accentSubtle:y(a,g-20,p-10),surface:y(n,10,m),surfaceRaised:y(n,12,u?m+4:m-4),surfaceOverlay:y(n,15,u?m+8:m-8),textPrimary:y(0,0,u?95:10),textSecondary:y(n,5,u?75:30),textMuted:y(n,8,u?55:50),textInverse:y(0,0,u?10:95),success:y(150,70,p),error:y(0,75,p),warning:y(45,80,p),info:y(200,65,p),glow:y(n,g,p+20),shadow:y(n,30,u?0:20)}}_hslToP3(n,a,s){const o=(1-Math.abs(2*s/100-1))*(a/100),c=o*(1-Math.abs(n/60%2-1)),u=s/100-o/2;let d=0,p=0,m=0;return n<60?(d=o,p=c):n<120?(d=c,p=o):n<180?(p=o,m=c):n<240?(p=c,m=o):n<300?(d=c,m=o):(d=o,m=c),`${(d+u).toFixed(3)} ${(p+u).toFixed(3)} ${(m+u).toFixed(3)}`}_genSpacing(){const n=this._ctx.prefersLargeText?1.15:1,a=s=>({mobile:`${s*n*.875}rem`,tablet:`${s*n}rem`,desktop:`${s*n*1.125}rem`,css:`${s*n}rem`});return{xs:a(.25),sm:a(.5),md:a(1),lg:a(1.5),xl:a(2),xxl:a(3)}}_genRadii(){const n=this._ctx.prefersHighContrast?1.2:1;return{sm:`${.25*n}rem`,md:`${.5*n}rem`,lg:`${.75*n}rem`,xl:`${1*n}rem`,full:"9999px"}}_genShadows(){const{glowIntensity:n,primaryHue:a,saturation:s}=this._exp,o=this._ctx.prefersDarkMode,c=this._ctx.prefersHighContrast?.1:o?.5:.15,u=`hsla(${a}, ${s*.5}%, ${o?0:20}%, ${c})`,d=`hsla(${a}, ${s}%, 50%, ${n})`;return{sm:`0 1px 2px ${u}`,md:`0 4px 6px -1px ${u}, 0 2px 4px -2px ${u}`,lg:`0 10px 15px -3px ${u}, 0 4px 6px -4px ${u}`,glow:`0 0 20px ${d}, 0 0 40px ${d}`,inner:`inset 0 2px 4px ${u}`}}_genBlur(){const n=this._exp.blurAmount,a=this._ctx.performanceTier==="high"?1:.5;return{sm:`${n*.25*a}px`,md:`${n*.5*a}px`,lg:`${n*a}px`,xl:`${n*1.5*a}px`}}_genTypography(){const n=this._ctx.prefersLargeText?1.125:1;return{fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontFamilyMono:'"JetBrains Mono", "Fira Code", Consolas, monospace',fontSize:{xs:`${.75*n}rem`,sm:`${.875*n}rem`,base:`${1*n}rem`,lg:`${1.125*n}rem`,xl:`${1.25*n}rem`,"2xl":`${1.5*n}rem`,"3xl":`${1.875*n}rem`,"4xl":`${2.25*n}rem`},fontWeight:{normal:400,medium:500,semibold:600,bold:700},lineHeight:{tight:1.25,normal:1.5,relaxed:1.75}}}_regenerate(){this._tokens=this._generate(),this._listeners.forEach(n=>n(this._tokens))}getTokens(){return this._tokens}subscribe(n){return this._listeners.add(n),n(this._tokens),()=>this._listeners.delete(n)}toCSSProperties(){const n=this._tokens,a={};for(const[s,o]of Object.entries(n.colors))a[`--color-${s.replace(/([A-Z])/g,"-$1").toLowerCase()}`]=o.css;for(const[s,o]of Object.entries(n.spacing))a[`--space-${s}`]=o.css;for(const[s,o]of Object.entries(n.radii))a[`--radius-${s}`]=o;for(const[s,o]of Object.entries(n.shadows))a[`--shadow-${s}`]=o;for(const[s,o]of Object.entries(n.blur))a[`--blur-${s}`]=o;a["--font-family"]=n.typography.fontFamily,a["--font-family-mono"]=n.typography.fontFamilyMono;for(const[s,o]of Object.entries(n.typography.fontSize))a[`--font-size-${s}`]=o;return a}}const lf=new yw,vw=500;class bw{constructor(){this._buffer=[],this._isActive=!1,this._lastActivity=Date.now(),this._idleTimeout=null,this._listeners=new Set,this._pointerState={x:0,y:0,vx:0,vy:0,ax:0,ay:0,lastMove:0,isMoving:!1},this._keyboardState={keys:[],dwellTimes:[],flightTimes:[],lastKeyDown:0,lastKeyUp:0,burstLength:0,errorRate:0,totalKeys:0,backspaceCount:0},this._scrollState={position:0,velocity:0,direction:"none",lastScroll:0}}start(){this._isActive||(this._isActive=!0,document.addEventListener("mousemove",this._onPointer,{passive:!0}),document.addEventListener("touchmove",this._onTouch,{passive:!0}),document.addEventListener("keydown",this._onKeyDown,{passive:!0}),document.addEventListener("keyup",this._onKeyUp,{passive:!0}),document.addEventListener("scroll",this._onScroll,{passive:!0,capture:!0}),document.addEventListener("focusin",this._onFocus,{passive:!0}),this._idleCheckInterval=setInterval(()=>this._checkIdle(),2e3))}stop(){this._isActive=!1,document.removeEventListener("mousemove",this._onPointer),document.removeEventListener("touchmove",this._onTouch),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("scroll",this._onScroll,{capture:!0}),document.removeEventListener("focusin",this._onFocus),clearInterval(this._idleCheckInterval)}_push(n){this._buffer.push(n),this._buffer.length>vw&&this._buffer.shift(),this._lastActivity=Date.now()}_onPointer=n=>{const a=performance.now(),s=(a-this._pointerState.lastMove)/1e3;if(s>0){const o=(n.clientX-this._pointerState.x)/s,c=(n.clientY-this._pointerState.y)/s;this._pointerState.ax=(o-this._pointerState.vx)/s,this._pointerState.ay=(c-this._pointerState.vy)/s,this._pointerState.vx=o,this._pointerState.vy=c}this._pointerState.x=n.clientX,this._pointerState.y=n.clientY,this._pointerState.lastMove=a,this._pointerState.isMoving=!0,this._push({type:"pointer",timestamp:a,data:{x:n.clientX,y:n.clientY,vx:this._pointerState.vx,vy:this._pointerState.vy}})};_onTouch=n=>{if(n.touches.length!==1)return;const a=n.touches[0],s=performance.now();this._push({type:"pointer",timestamp:s,data:{x:a.clientX,y:a.clientY,vx:0,vy:0}})};_onKeyDown=n=>{const a=performance.now(),s=this._keyboardState;s.lastKeyUp>0&&(s.flightTimes.push(a-s.lastKeyUp),s.flightTimes.length>20&&s.flightTimes.shift()),s.lastKeyDown=a,s.totalKeys++,(n.key==="Backspace"||n.key==="Delete")&&s.backspaceCount++,s.errorRate=s.totalKeys>5?s.backspaceCount/s.totalKeys:0,s.flightTimes.length>0&&s.flightTimes[s.flightTimes.length-1]<200?s.burstLength++:s.burstLength=1,this._push({type:"keyboard",timestamp:a,data:{key:n.key,dwellTimes:[...s.dwellTimes.slice(-10)],flightTimes:[...s.flightTimes.slice(-10)],burstLength:s.burstLength,errorRate:s.errorRate}})};_onKeyUp=n=>{const a=performance.now(),s=this._keyboardState;s.lastKeyDown>0&&(s.dwellTimes.push(a-s.lastKeyDown),s.dwellTimes.length>20&&s.dwellTimes.shift()),s.lastKeyUp=a};_onScroll=()=>{const n=performance.now(),a=window.scrollY,s=(n-this._scrollState.lastScroll)/1e3;s>0&&(this._scrollState.velocity=(a-this._scrollState.position)/s),this._scrollState.direction=a>this._scrollState.position?"down":a<this._scrollState.position?"up":"none",this._scrollState.position=a,this._scrollState.lastScroll=n,this._push({type:"scroll",timestamp:n,data:{position:a,velocity:this._scrollState.velocity,direction:this._scrollState.direction}})};_onFocus=n=>{const a=n.target;this._push({type:"focus",timestamp:performance.now(),data:{tag:a?.tagName,id:a?.id,className:a?.className?.split?.(" ")?.[0]}})};_checkIdle(){const n=Date.now()-this._lastActivity;n>5e3&&this._push({type:"idle",timestamp:performance.now(),data:{duration:n}})}getRecent(n,a=20){return this._buffer.filter(s=>s.type===n).slice(-a)}getSummary(){const n=this._buffer.filter(u=>u.type==="pointer"),a=this._buffer.filter(u=>u.type==="keyboard"),s=this._buffer.filter(u=>u.type==="scroll"),o=this._buffer.filter(u=>u.type==="idle"),c=n.length>0?n.reduce((u,d)=>u+Math.sqrt((d.data.vx||0)**2+(d.data.vy||0)**2),0)/n.length:0;return{pointer:{...this._pointerState,avgSpeed:c,eventCount:n.length},keyboard:{avgDwell:vy(this._keyboardState.dwellTimes),avgFlight:vy(this._keyboardState.flightTimes),burstLength:this._keyboardState.burstLength,errorRate:this._keyboardState.errorRate,eventCount:a.length},scroll:{...this._scrollState,eventCount:s.length},idle:{totalIdleMs:o.reduce((u,d)=>u+(d.data.duration||0),0),idleCount:o.length},bufferSize:this._buffer.length}}subscribe(n){return this._listeners.add(n),()=>this._listeners.delete(n)}}function vy(t){return t.length===0?0:t.reduce((n,a)=>n+a,0)/t.length}const cf=new bw;class xw{constructor(){this._profile=this._defaultProfile(),this._listeners=new Set,this._intervalId=null,this._sessionStart=Date.now()}start(){cf.start(),this._intervalId=setInterval(()=>this._estimate(),500)}stop(){clearInterval(this._intervalId),cf.stop()}_defaultProfile(){return{focus:.5,cognitiveLoad:.3,confidence:.5,fatigue:0,intentClarity:.5,engagement:.5,isInFlowState:!1,recommendations:{uiComplexity:"standard",pacing:"normal",feedbackVerbosity:"normal"}}}_estimate(){const n=cf.getSummary(),a=(Date.now()-this._sessionStart)/1e3,s=n.idle.totalIdleMs/Math.max(1,a*1e3),o=n.pointer.avgSpeed<800?1:Math.max(0,1-(n.pointer.avgSpeed-800)/1e3),c=ka(1-s*2)*.4+o*.3+(n.keyboard.eventCount>0?.3:0),u=Math.min(1,n.keyboard.errorRate*3),d=n.keyboard.avgDwell>200?Math.min(1,(n.keyboard.avgDwell-200)/300):0,p=n.pointer.avgSpeed>1200?Math.min(1,(n.pointer.avgSpeed-1200)/800):0,m=ka(u*.4+d*.3+p*.3),g=n.keyboard.avgFlight>0&&n.keyboard.avgFlight<150?1:n.keyboard.avgFlight<300?.5:0,y=1-Math.min(1,n.keyboard.errorRate*4),b=ka(g*.35+y*.35+(1-m)*.3),S=Math.min(1,a/3600),T=Math.min(1,n.idle.idleCount/10),E=ka(S*.6+T*.4),M=n.keyboard.burstLength>5?1:n.keyboard.burstLength/5,D=Math.abs(n.scroll.velocity)>100&&Math.abs(n.scroll.velocity)<2e3?1:.3,j=ka(M*.5+D*.3+b*.2),C=ka(c*.3+j*.25+b*.25+(1-E)*.2),B=c>.7&&C>.7&&m>.2&&m<.7&&E<.5,P=m>.7?"simplified":m<.3?"enhanced":"standard",Q=E>.6?"relaxed":B?"flow":"normal",X=b>.7?"minimal":b<.3?"detailed":"normal";this._profile={focus:Na(this._profile.focus,c),cognitiveLoad:Na(this._profile.cognitiveLoad,m),confidence:Na(this._profile.confidence,b),fatigue:Na(this._profile.fatigue,E),intentClarity:Na(this._profile.intentClarity,j),engagement:Na(this._profile.engagement,C),isInFlowState:B,recommendations:{uiComplexity:P,pacing:Q,feedbackVerbosity:X}},this._listeners.forEach(K=>K(this._profile))}getProfile(){return{...this._profile}}subscribe(n){return this._listeners.add(n),n(this._profile),()=>this._listeners.delete(n)}}function ka(t){return Math.max(0,Math.min(1,t))}function Na(t,n,a=.3){return t+(n-t)*a}const ol=new xw;function gr(){const[t,n]=w.useState(()=>mi.getContext()),[a,s]=w.useState(()=>mn.getExpression()),[o,c]=w.useState(()=>mn.getState()),[u,d]=w.useState(()=>lf.getTokens()),[p,m]=w.useState(()=>ol.getProfile());w.useEffect(()=>{const D=[mi.subscribe(n),mn.subscribe((j,C)=>{s(j),c(C)}),lf.subscribe(d),ol.subscribe(m)];return()=>D.forEach(j=>j())},[]);const g=w.useCallback((D,j)=>{mn.transitionTo(D,j)},[]),y=w.useMemo(()=>gw.getPresets(),[a]),b=w.useMemo(()=>({...mn.toCSSProperties(),...lf.toCSSProperties()}),[a,u]),S=t.performanceTier!=="minimal"&&t.performanceTier!=="low",T=t.performanceTier==="high"&&t.motionPreference==="full",E=t.performanceTier!=="minimal",M=t.motionPreference!=="full";return{context:t,emotion:o,expression:a,setEmotion:g,motion:y,tokens:u,cognitive:p,cssProperties:b,canUseGlassmorphism:S,canUseParticles:T,canUseBlur:E,shouldReduceMotion:M}}const Sw=w.createContext(null);function _w({children:t}){const n=gr();return w.useEffect(()=>(ol.start(),()=>ol.stop()),[]),w.useEffect(()=>{const a=document.documentElement;for(const[s,o]of Object.entries(n.cssProperties))a.style.setProperty(s,o)},[n.cssProperties]),x.jsx(Sw.Provider,{value:n,children:t})}const zv=w.createContext(null);function ww({children:t}){const[n,a]=w.useState({teacherName:"",subject:"",gradeLevel:"",intent:"",studentCount:30}),[s,o]=w.useState(null),[c,u]=w.useState([]),d=g=>{a(y=>({...y,...g}))},p=g=>{u(y=>[g,...y])},m=()=>{u([]),o(null)};return x.jsx(zv.Provider,{value:{data:n,updateData:d,scanResult:s,setScanResult:o,scanHistory:c,addScanResult:p,clearScanHistory:m},children:t})}function Fi(){const t=w.useContext(zv);if(!t)throw new Error("useOnboarding must be used within OnboardingProvider");return t}const gd=w.createContext({});function Tl(t){const n=w.useRef(null);return n.current===null&&(n.current=t()),n.current}const Dv=typeof window<"u",yd=Dv?w.useLayoutEffect:w.useEffect,El=w.createContext(null);function vd(t,n){t.indexOf(n)===-1&&t.push(n)}function ll(t,n){const a=t.indexOf(n);a>-1&&t.splice(a,1)}const vn=(t,n,a)=>a>n?n:a<t?t:a;let bd=()=>{};const Bn={},Ov=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function jv(t){return typeof t=="object"&&t!==null}const kv=t=>/^0[^.\s]+$/u.test(t);function Nv(t){let n;return()=>(n===void 0&&(n=t()),n)}const Wt=t=>t,Tw=(t,n)=>a=>n(t(a)),yr=(...t)=>t.reduce(Tw),ar=(t,n,a)=>{const s=n-t;return s===0?1:(a-t)/s};class xd{constructor(){this.subscriptions=[]}add(n){return vd(this.subscriptions,n),()=>ll(this.subscriptions,n)}notify(n,a,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](n,a,s);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(n,a,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ln=t=>t*1e3,Jt=t=>t/1e3;function Lv(t,n){return n?t*(1e3/n):0}const Uv=(t,n,a)=>(((1-3*a+3*n)*t+(3*a-6*n))*t+3*n)*t,Ew=1e-7,Aw=12;function Cw(t,n,a,s,o){let c,u,d=0;do u=n+(a-n)/2,c=Uv(u,s,o)-t,c>0?a=u:n=u;while(Math.abs(c)>Ew&&++d<Aw);return u}function vr(t,n,a,s){if(t===n&&a===s)return Wt;const o=c=>Cw(c,0,1,t,a);return c=>c===0||c===1?c:Uv(o(c),n,s)}const Vv=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,Bv=t=>n=>1-t(1-n),Hv=vr(.33,1.53,.69,.99),Sd=Bv(Hv),Pv=Vv(Sd),$v=t=>(t*=2)<1?.5*Sd(t):.5*(2-Math.pow(2,-10*(t-1))),_d=t=>1-Math.sin(Math.acos(t)),Iv=Bv(_d),Zv=Vv(_d),Mw=vr(.42,0,1,1),Rw=vr(0,0,.58,1),qv=vr(.42,0,.58,1),zw=t=>Array.isArray(t)&&typeof t[0]!="number",Gv=t=>Array.isArray(t)&&typeof t[0]=="number",Dw={linear:Wt,easeIn:Mw,easeInOut:qv,easeOut:Rw,circIn:_d,circInOut:Zv,circOut:Iv,backIn:Sd,backInOut:Pv,backOut:Hv,anticipate:$v},Ow=t=>typeof t=="string",by=t=>{if(Gv(t)){bd(t.length===4);const[n,a,s,o]=t;return vr(n,a,s,o)}else if(Ow(t))return Dw[t];return t},Io=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jw(t,n){let a=new Set,s=new Set,o=!1,c=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(g){u.has(g)&&(m.schedule(g),t()),g(d)}const m={schedule:(g,y=!1,b=!1)=>{const T=b&&o?a:s;return y&&u.add(g),T.has(g)||T.add(g),g},cancel:g=>{s.delete(g),u.delete(g)},process:g=>{if(d=g,o){c=!0;return}o=!0,[a,s]=[s,a],a.forEach(p),a.clear(),o=!1,c&&(c=!1,m.process(g))}};return m}const kw=40;function Yv(t,n){let a=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>a=!0,u=Io.reduce((C,B)=>(C[B]=jw(c),C),{}),{setup:d,read:p,resolveKeyframes:m,preUpdate:g,update:y,preRender:b,render:S,postRender:T}=u,E=()=>{const C=Bn.useManualTiming?o.timestamp:performance.now();a=!1,Bn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(C-o.timestamp,kw),1)),o.timestamp=C,o.isProcessing=!0,d.process(o),p.process(o),m.process(o),g.process(o),y.process(o),b.process(o),S.process(o),T.process(o),o.isProcessing=!1,a&&n&&(s=!1,t(E))},M=()=>{a=!0,s=!0,o.isProcessing||t(E)};return{schedule:Io.reduce((C,B)=>{const P=u[B];return C[B]=(Q,X=!1,K=!1)=>(a||M(),P.schedule(Q,X,K)),C},{}),cancel:C=>{for(let B=0;B<Io.length;B++)u[Io[B]].cancel(C)},state:o,steps:u}}const{schedule:Ne,cancel:Hn,state:pt,steps:uf}=Yv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wt,!0);let Wo;function Nw(){Wo=void 0}const xt={now:()=>(Wo===void 0&&xt.set(pt.isProcessing||Bn.useManualTiming?pt.timestamp:performance.now()),Wo),set:t=>{Wo=t,queueMicrotask(Nw)}},Fv=t=>n=>typeof n=="string"&&n.startsWith(t),Xv=Fv("--"),Lw=Fv("var(--"),wd=t=>Lw(t)?Uw.test(t.split("/*")[0].trim()):!1,Uw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function xy(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Xa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sr={...Xa,transform:t=>vn(0,1,t)},Zo={...Xa,default:1},Ws=t=>Math.round(t*1e5)/1e5,Td=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vw(t){return t==null}const Bw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ed=(t,n)=>a=>!!(typeof a=="string"&&Bw.test(a)&&a.startsWith(t)||n&&!Vw(a)&&Object.prototype.hasOwnProperty.call(a,n)),Kv=(t,n,a)=>s=>{if(typeof s!="string")return s;const[o,c,u,d]=s.match(Td);return{[t]:parseFloat(o),[n]:parseFloat(c),[a]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},Hw=t=>vn(0,255,t),ff={...Xa,transform:t=>Math.round(Hw(t))},$i={test:Ed("rgb","red"),parse:Kv("red","green","blue"),transform:({red:t,green:n,blue:a,alpha:s=1})=>"rgba("+ff.transform(t)+", "+ff.transform(n)+", "+ff.transform(a)+", "+Ws(sr.transform(s))+")"};function Pw(t){let n="",a="",s="",o="";return t.length>5?(n=t.substring(1,3),a=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(n=t.substring(1,2),a=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),n+=n,a+=a,s+=s,o+=o),{red:parseInt(n,16),green:parseInt(a,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Nf={test:Ed("#"),parse:Pw,transform:$i.transform},br=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),hi=br("deg"),gn=br("%"),ee=br("px"),$w=br("vh"),Iw=br("vw"),Sy={...gn,parse:t=>gn.parse(t)/100,transform:t=>gn.transform(t*100)},Va={test:Ed("hsl","hue"),parse:Kv("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:a,alpha:s=1})=>"hsla("+Math.round(t)+", "+gn.transform(Ws(n))+", "+gn.transform(Ws(a))+", "+Ws(sr.transform(s))+")"},it={test:t=>$i.test(t)||Nf.test(t)||Va.test(t),parse:t=>$i.test(t)?$i.parse(t):Va.test(t)?Va.parse(t):Nf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$i.transform(t):Va.transform(t),getAnimatableNone:t=>{const n=it.parse(t);return n.alpha=0,it.transform(n)}},Zw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qw(t){return isNaN(t)&&typeof t=="string"&&(t.match(Td)?.length||0)+(t.match(Zw)?.length||0)>0}const Qv="number",Jv="color",Gw="var",Yw="var(",_y="${}",Fw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rr(t){const n=t.toString(),a=[],s={color:[],number:[],var:[]},o=[];let c=0;const d=n.replace(Fw,p=>(it.test(p)?(s.color.push(c),o.push(Jv),a.push(it.parse(p))):p.startsWith(Yw)?(s.var.push(c),o.push(Gw),a.push(p)):(s.number.push(c),o.push(Qv),a.push(parseFloat(p))),++c,_y)).split(_y);return{values:a,split:d,indexes:s,types:o}}function Wv(t){return rr(t).values}function e1(t){const{split:n,types:a}=rr(t),s=n.length;return o=>{let c="";for(let u=0;u<s;u++)if(c+=n[u],o[u]!==void 0){const d=a[u];d===Qv?c+=Ws(o[u]):d===Jv?c+=it.transform(o[u]):c+=o[u]}return c}}const Xw=t=>typeof t=="number"?0:it.test(t)?it.getAnimatableNone(t):t;function Kw(t){const n=Wv(t);return e1(t)(n.map(Xw))}const cn={test:qw,parse:Wv,createTransformer:e1,getAnimatableNone:Kw};function df(t,n,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(n-t)*6*a:a<1/2?n:a<2/3?t+(n-t)*(2/3-a)*6:t}function Qw({hue:t,saturation:n,lightness:a,alpha:s}){t/=360,n/=100,a/=100;let o=0,c=0,u=0;if(!n)o=c=u=a;else{const d=a<.5?a*(1+n):a+n-a*n,p=2*a-d;o=df(p,d,t+1/3),c=df(p,d,t),u=df(p,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:s}}function cl(t,n){return a=>a>0?n:t}const $e=(t,n,a)=>t+(n-t)*a,hf=(t,n,a)=>{const s=t*t,o=a*(n*n-s)+s;return o<0?0:Math.sqrt(o)},Jw=[Nf,$i,Va],Ww=t=>Jw.find(n=>n.test(t));function wy(t){const n=Ww(t);if(!n)return!1;let a=n.parse(t);return n===Va&&(a=Qw(a)),a}const Ty=(t,n)=>{const a=wy(t),s=wy(n);if(!a||!s)return cl(t,n);const o={...a};return c=>(o.red=hf(a.red,s.red,c),o.green=hf(a.green,s.green,c),o.blue=hf(a.blue,s.blue,c),o.alpha=$e(a.alpha,s.alpha,c),$i.transform(o))},Lf=new Set(["none","hidden"]);function eT(t,n){return Lf.has(t)?a=>a<=0?t:n:a=>a>=1?n:t}function tT(t,n){return a=>$e(t,n,a)}function Ad(t){return typeof t=="number"?tT:typeof t=="string"?wd(t)?cl:it.test(t)?Ty:aT:Array.isArray(t)?t1:typeof t=="object"?it.test(t)?Ty:nT:cl}function t1(t,n){const a=[...t],s=a.length,o=t.map((c,u)=>Ad(c)(c,n[u]));return c=>{for(let u=0;u<s;u++)a[u]=o[u](c);return a}}function nT(t,n){const a={...t,...n},s={};for(const o in a)t[o]!==void 0&&n[o]!==void 0&&(s[o]=Ad(t[o])(t[o],n[o]));return o=>{for(const c in s)a[c]=s[c](o);return a}}function iT(t,n){const a=[],s={color:0,var:0,number:0};for(let o=0;o<n.values.length;o++){const c=n.types[o],u=t.indexes[c][s[c]],d=t.values[u]??0;a[o]=d,s[c]++}return a}const aT=(t,n)=>{const a=cn.createTransformer(n),s=rr(t),o=rr(n);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Lf.has(t)&&!o.values.length||Lf.has(n)&&!s.values.length?eT(t,n):yr(t1(iT(s,o),o.values),a):cl(t,n)};function n1(t,n,a){return typeof t=="number"&&typeof n=="number"&&typeof a=="number"?$e(t,n,a):Ad(t)(t,n)}const sT=t=>{const n=({timestamp:a})=>t(a);return{start:(a=!0)=>Ne.update(n,a),stop:()=>Hn(n),now:()=>pt.isProcessing?pt.timestamp:xt.now()}},i1=(t,n,a=10)=>{let s="";const o=Math.max(Math.round(n/a),2);for(let c=0;c<o;c++)s+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ul=2e4;function Cd(t){let n=0;const a=50;let s=t.next(n);for(;!s.done&&n<ul;)n+=a,s=t.next(n);return n>=ul?1/0:n}function rT(t,n=100,a){const s=a({...t,keyframes:[0,n]}),o=Math.min(Cd(s),ul);return{type:"keyframes",ease:c=>s.next(o*c).value/n,duration:Jt(o)}}const oT=5;function a1(t,n,a){const s=Math.max(n-oT,0);return Lv(a-t(s),n-s)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pf=.001;function lT({duration:t=Ye.duration,bounce:n=Ye.bounce,velocity:a=Ye.velocity,mass:s=Ye.mass}){let o,c,u=1-n;u=vn(Ye.minDamping,Ye.maxDamping,u),t=vn(Ye.minDuration,Ye.maxDuration,Jt(t)),u<1?(o=m=>{const g=m*u,y=g*t,b=g-a,S=Uf(m,u),T=Math.exp(-y);return pf-b/S*T},c=m=>{const y=m*u*t,b=y*a+a,S=Math.pow(u,2)*Math.pow(m,2)*t,T=Math.exp(-y),E=Uf(Math.pow(m,2),u);return(-o(m)+pf>0?-1:1)*((b-S)*T)/E}):(o=m=>{const g=Math.exp(-m*t),y=(m-a)*t+1;return-pf+g*y},c=m=>{const g=Math.exp(-m*t),y=(a-m)*(t*t);return g*y});const d=5/t,p=uT(o,c,d);if(t=ln(t),isNaN(p))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const m=Math.pow(p,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const cT=12;function uT(t,n,a){let s=a;for(let o=1;o<cT;o++)s=s-t(s)/n(s);return s}function Uf(t,n){return t*Math.sqrt(1-n*n)}const fT=["duration","bounce"],dT=["stiffness","damping","mass"];function Ey(t,n){return n.some(a=>t[a]!==void 0)}function hT(t){let n={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!Ey(t,dT)&&Ey(t,fT))if(t.visualDuration){const a=t.visualDuration,s=2*Math.PI/(a*1.2),o=s*s,c=2*vn(.05,1,1-(t.bounce||0))*Math.sqrt(o);n={...n,mass:Ye.mass,stiffness:o,damping:c}}else{const a=lT(t);n={...n,...a,mass:Ye.mass},n.isResolvedFromDuration=!0}return n}function fl(t=Ye.visualDuration,n=Ye.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:s,restDelta:o}=a;const c=a.keyframes[0],u=a.keyframes[a.keyframes.length-1],d={done:!1,value:c},{stiffness:p,damping:m,mass:g,duration:y,velocity:b,isResolvedFromDuration:S}=hT({...a,velocity:-Jt(a.velocity||0)}),T=b||0,E=m/(2*Math.sqrt(p*g)),M=u-c,D=Jt(Math.sqrt(p/g)),j=Math.abs(M)<5;s||(s=j?Ye.restSpeed.granular:Ye.restSpeed.default),o||(o=j?Ye.restDelta.granular:Ye.restDelta.default);let C;if(E<1){const P=Uf(D,E);C=Q=>{const X=Math.exp(-E*D*Q);return u-X*((T+E*D*M)/P*Math.sin(P*Q)+M*Math.cos(P*Q))}}else if(E===1)C=P=>u-Math.exp(-D*P)*(M+(T+D*M)*P);else{const P=D*Math.sqrt(E*E-1);C=Q=>{const X=Math.exp(-E*D*Q),K=Math.min(P*Q,300);return u-X*((T+E*D*M)*Math.sinh(K)+P*M*Math.cosh(K))/P}}const B={calculatedDuration:S&&y||null,next:P=>{const Q=C(P);if(S)d.done=P>=y;else{let X=P===0?T:0;E<1&&(X=P===0?ln(T):a1(C,P,Q));const K=Math.abs(X)<=s,ae=Math.abs(u-Q)<=o;d.done=K&&ae}return d.value=d.done?u:Q,d},toString:()=>{const P=Math.min(Cd(B),ul),Q=i1(X=>B.next(P*X).value,P,30);return P+"ms "+Q},toTransition:()=>{}};return B}fl.applyToOptions=t=>{const n=rT(t,100,fl);return t.ease=n.ease,t.duration=ln(n.duration),t.type="keyframes",t};function Vf({keyframes:t,velocity:n=0,power:a=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:d,max:p,restDelta:m=.5,restSpeed:g}){const y=t[0],b={done:!1,value:y},S=K=>d!==void 0&&K<d||p!==void 0&&K>p,T=K=>d===void 0?p:p===void 0||Math.abs(d-K)<Math.abs(p-K)?d:p;let E=a*n;const M=y+E,D=u===void 0?M:u(M);D!==M&&(E=D-y);const j=K=>-E*Math.exp(-K/s),C=K=>D+j(K),B=K=>{const ae=j(K),ie=C(K);b.done=Math.abs(ae)<=m,b.value=b.done?D:ie};let P,Q;const X=K=>{S(b.value)&&(P=K,Q=fl({keyframes:[b.value,T(b.value)],velocity:a1(C,K,b.value),damping:o,stiffness:c,restDelta:m,restSpeed:g}))};return X(0),{calculatedDuration:null,next:K=>{let ae=!1;return!Q&&P===void 0&&(ae=!0,B(K),X(K)),P!==void 0&&K>=P?Q.next(K-P):(!ae&&B(K),b)}}}function pT(t,n,a){const s=[],o=a||Bn.mix||n1,c=t.length-1;for(let u=0;u<c;u++){let d=o(t[u],t[u+1]);if(n){const p=Array.isArray(n)?n[u]||Wt:n;d=yr(p,d)}s.push(d)}return s}function mT(t,n,{clamp:a=!0,ease:s,mixer:o}={}){const c=t.length;if(bd(c===n.length),c===1)return()=>n[0];if(c===2&&n[0]===n[1])return()=>n[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),n=[...n].reverse());const d=pT(n,s,o),p=d.length,m=g=>{if(u&&g<t[0])return n[0];let y=0;if(p>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const b=ar(t[y],t[y+1],g);return d[y](b)};return a?g=>m(vn(t[0],t[c-1],g)):m}function gT(t,n){const a=t[t.length-1];for(let s=1;s<=n;s++){const o=ar(0,n,s);t.push($e(a,1,o))}}function yT(t){const n=[0];return gT(n,t.length-1),n}function vT(t,n){return t.map(a=>a*n)}function bT(t,n){return t.map(()=>n||qv).splice(0,t.length-1)}function er({duration:t=300,keyframes:n,times:a,ease:s="easeInOut"}){const o=zw(s)?s.map(by):by(s),c={done:!1,value:n[0]},u=vT(a&&a.length===n.length?a:yT(n),t),d=mT(u,n,{ease:Array.isArray(o)?o:bT(n,o)});return{calculatedDuration:t,next:p=>(c.value=d(p),c.done=p>=t,c)}}const xT=t=>t!==null;function Md(t,{repeat:n,repeatType:a="loop"},s,o=1){const c=t.filter(xT),d=o<0||n&&a!=="loop"&&n%2===1?0:c.length-1;return!d||s===void 0?c[d]:s}const ST={decay:Vf,inertia:Vf,tween:er,keyframes:er,spring:fl};function s1(t){typeof t.type=="string"&&(t.type=ST[t.type])}class Rd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,a){return this.finished.then(n,a)}}const _T=t=>t/100;class zd extends Rd{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==xt.now()&&this.tick(xt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;s1(n);const{type:a=er,repeat:s=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=n;let{keyframes:d}=n;const p=a||er;p!==er&&typeof d[0]!="number"&&(this.mixKeyframes=yr(_T,n1(d[0],d[1])),d=[0,100]);const m=p({...n,keyframes:d});c==="mirror"&&(this.mirroredGenerator=p({...n,keyframes:[...d].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Cd(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=m}updateTime(n){const a=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(n,a=!1){const{generator:s,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:b,repeatDelay:S,type:T,onUpdate:E,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-o/this.speed,this.startTime)),a?this.currentTime=n:this.updateTime(n);const D=this.currentTime-m*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?D<0:D>o;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,B=s;if(y){const K=Math.min(this.currentTime,o)/d;let ae=Math.floor(K),ie=K%1;!ie&&K>=1&&(ie=1),ie===1&&ae--,ae=Math.min(ae,y+1),ae%2&&(b==="reverse"?(ie=1-ie,S&&(ie-=S/d)):b==="mirror"&&(B=u)),C=vn(0,1,ie)*d}const P=j?{done:!1,value:g[0]}:B.next(C);c&&(P.value=c(P.value));let{done:Q}=P;!j&&p!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return X&&T!==Vf&&(P.value=Md(g,this.options,M,this.speed)),E&&E(P.value),X&&this.finish(),P}then(n,a){return this.finished.then(n,a)}get duration(){return Jt(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Jt(n)}get time(){return Jt(this.currentTime)}set time(n){n=ln(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(xt.now());const a=this.playbackSpeed!==n;this.playbackSpeed=n,a&&(this.time=Jt(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=sT,startTime:a}=this.options;this.driver||(this.driver=n(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=a??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function wT(t){for(let n=1;n<t.length;n++)t[n]??(t[n]=t[n-1])}const Ii=t=>t*180/Math.PI,Bf=t=>{const n=Ii(Math.atan2(t[1],t[0]));return Hf(n)},TT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bf,rotateZ:Bf,skewX:t=>Ii(Math.atan(t[1])),skewY:t=>Ii(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Hf=t=>(t=t%360,t<0&&(t+=360),t),Ay=Bf,Cy=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),My=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ET={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Cy,scaleY:My,scale:t=>(Cy(t)+My(t))/2,rotateX:t=>Hf(Ii(Math.atan2(t[6],t[5]))),rotateY:t=>Hf(Ii(Math.atan2(-t[2],t[0]))),rotateZ:Ay,rotate:Ay,skewX:t=>Ii(Math.atan(t[4])),skewY:t=>Ii(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Pf(t){return t.includes("scale")?1:0}function $f(t,n){if(!t||t==="none")return Pf(n);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(a)s=ET,o=a;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=TT,o=d}if(!o)return Pf(n);const c=s[n],u=o[1].split(",").map(CT);return typeof c=="function"?c(u):u[c]}const AT=(t,n)=>{const{transform:a="none"}=getComputedStyle(t);return $f(a,n)};function CT(t){return parseFloat(t.trim())}const Ka=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qa=new Set(Ka),Ry=t=>t===Xa||t===ee,MT=new Set(["x","y","z"]),RT=Ka.filter(t=>!MT.has(t));function zT(t){const n=[];return RT.forEach(a=>{const s=t.getValue(a);s!==void 0&&(n.push([a,s.get()]),s.set(a.startsWith("scale")?1:0))}),n}const pi={width:({x:t},{paddingLeft:n="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(n)-parseFloat(a),height:({y:t},{paddingTop:n="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(n)-parseFloat(a),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:(t,{transform:n})=>$f(n,"x"),y:(t,{transform:n})=>$f(n,"y")};pi.translateX=pi.x;pi.translateY=pi.y;const Zi=new Set;let If=!1,Zf=!1,qf=!1;function r1(){if(Zf){const t=Array.from(Zi).filter(s=>s.needsMeasurement),n=new Set(t.map(s=>s.element)),a=new Map;n.forEach(s=>{const o=zT(s);o.length&&(a.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),n.forEach(s=>{s.render();const o=a.get(s);o&&o.forEach(([c,u])=>{s.getValue(c)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zf=!1,If=!1,Zi.forEach(t=>t.complete(qf)),Zi.clear()}function o1(){Zi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zf=!0)})}function DT(){qf=!0,o1(),r1(),qf=!1}class Dd{constructor(n,a,s,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=a,this.name=s,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Zi.add(this),If||(If=!0,Ne.read(o1),Ne.resolveKeyframes(r1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:a,element:s,motionValue:o}=this;if(n[0]===null){const c=o?.get(),u=n[n.length-1];if(c!==void 0)n[0]=c;else if(s&&a){const d=s.readValue(a,u);d!=null&&(n[0]=d)}n[0]===void 0&&(n[0]=u),o&&c===void 0&&o.set(n[0])}wT(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),Zi.delete(this)}cancel(){this.state==="scheduled"&&(Zi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const OT=t=>t.startsWith("--");function jT(t,n,a){OT(n)?t.style.setProperty(n,a):t.style[n]=a}const kT={};function l1(t,n){const a=Nv(t);return()=>kT[n]??a()}const NT=l1(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),c1=l1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qs=([t,n,a,s])=>`cubic-bezier(${t}, ${n}, ${a}, ${s})`,zy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qs([0,.65,.55,1]),circOut:Qs([.55,0,1,.45]),backIn:Qs([.31,.01,.66,-.59]),backOut:Qs([.33,1.53,.69,.99])};function u1(t,n){if(t)return typeof t=="function"?c1()?i1(t,n):"ease-out":Gv(t)?Qs(t):Array.isArray(t)?t.map(a=>u1(a,n)||zy.easeOut):zy[t]}function LT(t,n,a,{delay:s=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:d="easeOut",times:p}={},m=void 0){const g={[n]:a};p&&(g.offset=p);const y=u1(d,o);Array.isArray(y)&&(g.easing=y);const b={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(g,b)}function f1(t){return typeof t=="function"&&"applyToOptions"in t}function UT({type:t,...n}){return f1(t)&&c1()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class d1 extends Rd{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!n)return;const{element:a,name:s,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:d,onComplete:p}=n;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=n,bd(typeof n.type!="string");const m=UT(n);this.animation=LT(a,s,o,m,c),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=Md(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):jT(a,s,g),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const n=this.options?.element;!this.isPseudoElement&&n?.isConnected&&this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return Jt(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Jt(n)}get time(){return Jt(Number(this.animation.currentTime)||0)}set time(n){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ln(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(n){this.manualStartTime=this.animation.startTime=n}attachTimeline({timeline:n,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&NT()?(this.animation.timeline=n,Wt):a(this)}}const h1={anticipate:$v,backInOut:Pv,circInOut:Zv};function VT(t){return t in h1}function BT(t){typeof t.ease=="string"&&VT(t.ease)&&(t.ease=h1[t.ease])}const mf=10;class HT extends d1{constructor(n){BT(n),s1(n),super(n),n.startTime!==void 0&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:a,onUpdate:s,onComplete:o,element:c,...u}=this.options;if(!a)return;if(n!==void 0){a.set(n);return}const d=new zd({...u,autoplay:!1}),p=Math.max(mf,xt.now()-this.startTime),m=vn(0,mf,p-mf);a.setWithVelocity(d.sample(Math.max(0,p-m)).value,d.sample(p).value,m),d.stop()}}const Dy=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cn.test(t)||t==="0")&&!t.startsWith("url("));function PT(t){const n=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==n)return!0}function $T(t,n,a,s){const o=t[0];if(o===null)return!1;if(n==="display"||n==="visibility")return!0;const c=t[t.length-1],u=Dy(o,n),d=Dy(c,n);return!u||!d?!1:PT(t)||(a==="spring"||f1(a))&&s}function Gf(t){t.duration=0,t.type="keyframes"}const IT=new Set(["opacity","clipPath","filter","transform"]),ZT=Nv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qT(t){const{motionValue:n,name:a,repeatDelay:s,repeatType:o,damping:c,type:u}=t;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=n.owner.getProps();return ZT()&&a&&IT.has(a)&&(a!=="transform"||!m)&&!p&&!s&&o!=="mirror"&&c!==0&&u!=="inertia"}const GT=40;class YT extends Rd{constructor({autoplay:n=!0,delay:a=0,type:s="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:d,name:p,motionValue:m,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xt.now();const b={autoplay:n,delay:a,type:s,repeat:o,repeatDelay:c,repeatType:u,name:p,motionValue:m,element:g,...y},S=g?.KeyframeResolver||Dd;this.keyframeResolver=new S(d,(T,E,M)=>this.onKeyframesResolved(T,E,b,!M),p,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,a,s,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:d,delay:p,isHandoff:m,onUpdate:g}=s;this.resolvedAt=xt.now(),$T(n,c,u,d)||((Bn.instantAnimations||!p)&&g?.(Md(n,s,a)),n[0]=n[n.length-1],Gf(s),s.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>GT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...s,keyframes:n},S=!m&&qT(b),T=b.motionValue?.owner?.current,E=S?new HT({...b,element:T}):new zd(b);E.finished.then(()=>{this.notifyFinished()}).catch(Wt),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(n,a){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),DT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function p1(t,n,a,s=0,o=1){const c=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(n),u=t.size,d=(u-1)*s;return typeof a=="function"?a(c,u):o===1?c*s:d-c*s}const FT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XT(t){const n=FT.exec(t);if(!n)return[,];const[,a,s,o]=n;return[`--${a??s}`,o]}function m1(t,n,a=1){const[s,o]=XT(t);if(!s)return;const c=window.getComputedStyle(n).getPropertyValue(s);if(c){const u=c.trim();return Ov(u)?parseFloat(u):u}return wd(o)?m1(o,n,a+1):o}const KT={type:"spring",stiffness:500,damping:25,restSpeed:10},QT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),JT={type:"keyframes",duration:.8},WT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eE=(t,{keyframes:n})=>n.length>2?JT:Qa.has(t)?t.startsWith("scale")?QT(n[1]):KT:WT,tE=t=>t!==null;function nE(t,{repeat:n,repeatType:a="loop"},s){const o=t.filter(tE),c=n&&a!=="loop"&&n%2===1?0:o.length-1;return o[c]}function g1(t,n){if(t?.inherit&&n){const{inherit:a,...s}=t;return{...n,...s}}return t}function Od(t,n){const a=t?.[n]??t?.default??t;return a!==t?g1(a,t):a}function iE({when:t,delay:n,delayChildren:a,staggerChildren:s,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:d,from:p,elapsed:m,...g}){return!!Object.keys(g).length}const jd=(t,n,a,s={},o,c)=>u=>{const d=Od(s,t)||{},p=d.delay||s.delay||0;let{elapsed:m=0}=s;m=m-ln(p);const g={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:n.getVelocity(),...d,delay:-m,onUpdate:b=>{n.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:n,element:c?void 0:o};iE(d)||Object.assign(g,eE(t,g)),g.duration&&(g.duration=ln(g.duration)),g.repeatDelay&&(g.repeatDelay=ln(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Gf(g),g.delay===0&&(y=!0)),(Bn.instantAnimations||Bn.skipAnimations||o?.shouldSkipAnimations)&&(y=!0,Gf(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,y&&!c&&n.get()!==void 0){const b=nE(g.keyframes,d);if(b!==void 0){Ne.update(()=>{g.onUpdate(b),g.onComplete()});return}}return d.isSync?new zd(g):new YT(g)};function Oy(t){const n=[{},{}];return t?.values.forEach((a,s)=>{n[0][s]=a.get(),n[1][s]=a.getVelocity()}),n}function kd(t,n,a,s){if(typeof n=="function"){const[o,c]=Oy(s);n=n(a!==void 0?a:t.custom,o,c)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[o,c]=Oy(s);n=n(a!==void 0?a:t.custom,o,c)}return n}function Za(t,n,a){const s=t.getProps();return kd(s,n,a!==void 0?a:s.custom,t)}const y1=new Set(["width","height","top","left","right","bottom",...Ka]),jy=30,aE=t=>!isNaN(parseFloat(t));class sE{constructor(n,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=xt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=a.owner}setCurrent(n){this.current=n,this.updatedAt=xt.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=aE(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,a){this.events[n]||(this.events[n]=new xd);const s=this.events[n].add(a);return n==="change"?()=>{s(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,a){this.passiveEffect=n,this.stopPassiveEffect=a}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,a,s){this.set(a),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-s}jump(n,a=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=xt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>jy)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,jy);return Lv(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(n){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=n(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qi(t,n){return new sE(t,n)}const Yf=t=>Array.isArray(t);function rE(t,n,a){t.hasValue(n)?t.getValue(n).set(a):t.addValue(n,qi(a))}function oE(t){return Yf(t)?t[t.length-1]||0:t}function lE(t,n){const a=Za(t,n);let{transitionEnd:s={},transition:o={},...c}=a||{};c={...c,...s};for(const u in c){const d=oE(c[u]);rE(t,u,d)}}const lt=t=>!!(t&&t.getVelocity);function cE(t){return!!(lt(t)&&t.add)}function Ff(t,n){const a=t.getValue("willChange");if(cE(a))return a.add(n);if(!a&&Bn.WillChange){const s=new Bn.WillChange("auto");t.addValue("willChange",s),s.add(n)}}function Nd(t){return t.replace(/([A-Z])/g,n=>`-${n.toLowerCase()}`)}const uE="framerAppearId",v1="data-"+Nd(uE);function b1(t){return t.props[v1]}function fE({protectedKeys:t,needsAnimating:n},a){const s=t.hasOwnProperty(a)&&n[a]!==!0;return n[a]=!1,s}function x1(t,n,{delay:a=0,transitionOverride:s,type:o}={}){let{transition:c,transitionEnd:u,...d}=n;const p=t.getDefaultTransition();c=c?g1(c,p):p;const m=c?.reduceMotion;s&&(c=s);const g=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const b in d){const S=t.getValue(b,t.latestValues[b]??null),T=d[b];if(T===void 0||y&&fE(y,b))continue;const E={delay:a,...Od(c||{},b)},M=S.get();if(M!==void 0&&!S.isAnimating&&!Array.isArray(T)&&T===M&&!E.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const B=b1(t);if(B){const P=window.MotionHandoffAnimation(B,b,Ne);P!==null&&(E.startTime=P,D=!0)}}Ff(t,b);const j=m??t.shouldReduceMotion;S.start(jd(b,S,T,j&&y1.has(b)?{type:!1}:E,t,D));const C=S.animation;C&&g.push(C)}if(u){const b=()=>Ne.update(()=>{u&&lE(t,u)});g.length?Promise.all(g).then(b):b()}return g}function Xf(t,n,a={}){const s=Za(t,n,a.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};a.transitionOverride&&(o=a.transitionOverride);const c=s?()=>Promise.all(x1(t,s,a)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=o;return dE(t,n,p,m,g,y,a)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,m]=d==="beforeChildren"?[c,u]:[u,c];return p().then(()=>m())}else return Promise.all([c(),u(a.delay)])}function dE(t,n,a=0,s=0,o=0,c=1,u){const d=[];for(const p of t.variantChildren)p.notify("AnimationStart",n),d.push(Xf(p,n,{...u,delay:a+(typeof s=="function"?0:s)+p1(t.variantChildren,p,s,o,c)}).then(()=>p.notify("AnimationComplete",n)));return Promise.all(d)}function hE(t,n,a={}){t.notify("AnimationStart",n);let s;if(Array.isArray(n)){const o=n.map(c=>Xf(t,c,a));s=Promise.all(o)}else if(typeof n=="string")s=Xf(t,n,a);else{const o=typeof n=="function"?Za(t,n,a.custom):n;s=Promise.all(x1(t,o,a))}return s.then(()=>{t.notify("AnimationComplete",n)})}const pE={test:t=>t==="auto",parse:t=>t},S1=t=>n=>n.test(t),_1=[Xa,ee,gn,hi,Iw,$w,pE],ky=t=>_1.find(S1(t));function mE(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kv(t):!0}const gE=new Set(["brightness","contrast","saturate","opacity"]);function yE(t){const[n,a]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[s]=a.match(Td)||[];if(!s)return t;const o=a.replace(s,"");let c=gE.has(n)?1:0;return s!==a&&(c*=100),n+"("+c+o+")"}const vE=/\b([a-z-]*)\(.*?\)/gu,Kf={...cn,getAnimatableNone:t=>{const n=t.match(vE);return n?n.map(yE).join(" "):t}},Qf={...cn,getAnimatableNone:t=>{const n=cn.parse(t);return cn.createTransformer(t)(n.map(s=>typeof s=="number"?0:typeof s=="object"?{...s,alpha:1}:s))}},Ny={...Xa,transform:Math.round},bE={rotate:hi,rotateX:hi,rotateY:hi,rotateZ:hi,scale:Zo,scaleX:Zo,scaleY:Zo,scaleZ:Zo,skew:hi,skewX:hi,skewY:hi,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:sr,originX:Sy,originY:Sy,originZ:ee},Ld={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,inset:ee,insetBlock:ee,insetBlockStart:ee,insetBlockEnd:ee,insetInline:ee,insetInlineStart:ee,insetInlineEnd:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,paddingBlock:ee,paddingBlockStart:ee,paddingBlockEnd:ee,paddingInline:ee,paddingInlineStart:ee,paddingInlineEnd:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,marginBlock:ee,marginBlockStart:ee,marginBlockEnd:ee,marginInline:ee,marginInlineStart:ee,marginInlineEnd:ee,fontSize:ee,backgroundPositionX:ee,backgroundPositionY:ee,...bE,zIndex:Ny,fillOpacity:sr,strokeOpacity:sr,numOctaves:Ny},xE={...Ld,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:Kf,WebkitFilter:Kf,mask:Qf,WebkitMask:Qf},w1=t=>xE[t],SE=new Set([Kf,Qf]);function T1(t,n){let a=w1(t);return SE.has(a)||(a=cn),a.getAnimatableNone?a.getAnimatableNone(n):void 0}const _E=new Set(["auto","none","0"]);function wE(t,n,a){let s=0,o;for(;s<t.length&&!o;){const c=t[s];typeof c=="string"&&!_E.has(c)&&rr(c).values.length&&(o=t[s]),s++}if(o&&a)for(const c of n)t[c]=T1(a,o)}class TE extends Dd{constructor(n,a,s,o,c){super(n,a,s,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:a,name:s}=this;if(!a||!a.current)return;super.readKeyframes();for(let g=0;g<n.length;g++){let y=n[g];if(typeof y=="string"&&(y=y.trim(),wd(y))){const b=m1(y,a.current);b!==void 0&&(n[g]=b),g===n.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!y1.has(s)||n.length!==2)return;const[o,c]=n,u=ky(o),d=ky(c),p=xy(o),m=xy(c);if(p!==m&&pi[s]){this.needsMeasurement=!0;return}if(u!==d)if(Ry(u)&&Ry(d))for(let g=0;g<n.length;g++){const y=n[g];typeof y=="string"&&(n[g]=parseFloat(y))}else pi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:a}=this,s=[];for(let o=0;o<n.length;o++)(n[o]===null||mE(n[o]))&&s.push(o);s.length&&wE(n,s,a)}measureInitialState(){const{element:n,unresolvedKeyframes:a,name:s}=this;if(!n||!n.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pi[s](n.measureViewportBox(),window.getComputedStyle(n.current)),a[0]=this.measuredOrigin;const o=a[a.length-1];o!==void 0&&n.getValue(s,o).jump(o,!1)}measureEndState(){const{element:n,name:a,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(a);o&&o.jump(this.measuredOrigin,!1);const c=s.length-1,u=s[c];s[c]=pi[a](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const EE=new Set(["opacity","clipPath","filter","transform"]);function E1(t,n,a){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=a?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const A1=(t,n)=>n&&typeof t=="number"?n.transform(t):t;function Jf(t){return jv(t)&&"offsetHeight"in t}const{schedule:Ud}=Yv(queueMicrotask,!1),on={x:!1,y:!1};function C1(){return on.x||on.y}function AE(t){return t==="x"||t==="y"?on[t]?null:(on[t]=!0,()=>{on[t]=!1}):on.x||on.y?null:(on.x=on.y=!0,()=>{on.x=on.y=!1})}function M1(t,n){const a=E1(t),s=new AbortController,o={passive:!0,...n,signal:s.signal};return[a,o,()=>s.abort()]}function CE(t){return!(t.pointerType==="touch"||C1())}function ME(t,n,a={}){const[s,o,c]=M1(t,a);return s.forEach(u=>{let d=!1,p=!1,m;const g=()=>{u.removeEventListener("pointerleave",T)},y=M=>{m&&(m(M),m=void 0),g()},b=M=>{d=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),p&&(p=!1,y(M))},S=()=>{d=!0,window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",b,o)},T=M=>{if(M.pointerType!=="touch"){if(d){p=!0;return}y(M)}},E=M=>{if(!CE(M))return;p=!1;const D=n(u,M);typeof D=="function"&&(m=D,u.addEventListener("pointerleave",T,o))};u.addEventListener("pointerenter",E,o),u.addEventListener("pointerdown",S,o)}),c}const R1=(t,n)=>n?t===n?!0:R1(t,n.parentElement):!1,Vd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,RE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zE(t){return RE.has(t.tagName)||t.isContentEditable===!0}const DE=new Set(["INPUT","SELECT","TEXTAREA"]);function OE(t){return DE.has(t.tagName)||t.isContentEditable===!0}const el=new WeakSet;function Ly(t){return n=>{n.key==="Enter"&&t(n)}}function gf(t,n){t.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const jE=(t,n)=>{const a=t.currentTarget;if(!a)return;const s=Ly(()=>{if(el.has(a))return;gf(a,"down");const o=Ly(()=>{gf(a,"up")}),c=()=>gf(a,"cancel");a.addEventListener("keyup",o,n),a.addEventListener("blur",c,n)});a.addEventListener("keydown",s,n),a.addEventListener("blur",()=>a.removeEventListener("keydown",s),n)};function Uy(t){return Vd(t)&&!C1()}const Vy=new WeakSet;function kE(t,n,a={}){const[s,o,c]=M1(t,a),u=d=>{const p=d.currentTarget;if(!Uy(d)||Vy.has(d))return;el.add(p),a.stopPropagation&&Vy.add(d);const m=n(p,d),g=(S,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),el.has(p)&&el.delete(p),Uy(S)&&typeof m=="function"&&m(S,{success:T})},y=S=>{g(S,p===window||p===document||a.useGlobalTarget||R1(p,S.target))},b=S=>{g(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",b,o)};return s.forEach(d=>{(a.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),Jf(d)&&(d.addEventListener("focus",m=>jE(m,o)),!zE(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),c}function Bd(t){return jv(t)&&"ownerSVGElement"in t}const tl=new WeakMap;let nl;const z1=(t,n,a)=>(s,o)=>o&&o[0]?o[0][t+"Size"]:Bd(s)&&"getBBox"in s?s.getBBox()[n]:s[a],NE=z1("inline","width","offsetWidth"),LE=z1("block","height","offsetHeight");function UE({target:t,borderBoxSize:n}){tl.get(t)?.forEach(a=>{a(t,{get width(){return NE(t,n)},get height(){return LE(t,n)}})})}function VE(t){t.forEach(UE)}function BE(){typeof ResizeObserver>"u"||(nl=new ResizeObserver(VE))}function HE(t,n){nl||BE();const a=E1(t);return a.forEach(s=>{let o=tl.get(s);o||(o=new Set,tl.set(s,o)),o.add(n),nl?.observe(s)}),()=>{a.forEach(s=>{const o=tl.get(s);o?.delete(n),o?.size||nl?.unobserve(s)})}}const il=new Set;let Ba;function PE(){Ba=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};il.forEach(n=>n(t))},window.addEventListener("resize",Ba)}function $E(t){return il.add(t),Ba||PE(),()=>{il.delete(t),!il.size&&typeof Ba=="function"&&(window.removeEventListener("resize",Ba),Ba=void 0)}}function By(t,n){return typeof t=="function"?$E(t):HE(t,n)}function IE(t){return Bd(t)&&t.tagName==="svg"}const ZE=[..._1,it,cn],qE=t=>ZE.find(S1(t)),Hy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ha=()=>({x:Hy(),y:Hy()}),Py=()=>({min:0,max:0}),st=()=>({x:Py(),y:Py()}),GE=new WeakMap;function Al(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function or(t){return typeof t=="string"||Array.isArray(t)}const Hd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pd=["initial",...Hd];function Cl(t){return Al(t.animate)||Pd.some(n=>or(t[n]))}function D1(t){return!!(Cl(t)||t.variants)}function YE(t,n,a){for(const s in n){const o=n[s],c=a[s];if(lt(o))t.addValue(s,o);else if(lt(c))t.addValue(s,qi(o,{owner:t}));else if(c!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,qi(u!==void 0?u:o,{owner:t}))}}for(const s in a)n[s]===void 0&&t.removeValue(s);return n}const Wf={current:null},O1={current:!1},FE=typeof window<"u";function XE(){if(O1.current=!0,!!FE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>Wf.current=t.matches;t.addEventListener("change",n),n()}else Wf.current=!1}const $y=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let dl={};function j1(t){dl=t}function KE(){return dl}class QE{scrapeMotionValuesFromProps(n,a,s){return{}}constructor({parent:n,props:a,presenceContext:s,reducedMotionConfig:o,skipAnimations:c,blockInitialAnimation:u,visualState:d},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Dd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=xt.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Ne.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=d;this.latestValues=m,this.baseTarget={...m},this.initialValues=a.initial?{...m}:{},this.renderState=g,this.parent=n,this.props=a,this.presenceContext=s,this.depth=n?n.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=c,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=Cl(a),this.isVariantNode=D1(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(a,{},this);for(const S in b){const T=b[S];m[S]!==void 0&&lt(T)&&T.set(m[S])}}mount(n){if(this.hasBeenMounted)for(const a in this.initialValues)this.values.get(a)?.jump(this.initialValues[a]),this.latestValues[a]=this.initialValues[a];this.current=n,GE.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(O1.current||XE(),this.shouldReduceMotion=Wf.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Hn(this.notifyUpdate),Hn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const a=this.features[n];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,a){if(this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)(),a.accelerate&&EE.has(n)&&this.current instanceof HTMLElement){const{factory:u,keyframes:d,times:p,ease:m,duration:g}=a.accelerate,y=new d1({element:this.current,name:n,keyframes:d,times:p,ease:m,duration:ln(g)}),b=u(y);this.valueSubscriptions.set(n,()=>{b(),y.cancel()});return}const s=Qa.has(n);s&&this.onBindTransform&&this.onBindTransform();const o=a.on("change",u=>{this.latestValues[n]=u,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,n,a)),this.valueSubscriptions.set(n,()=>{o(),c&&c(),a.owner&&a.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in dl){const a=dl[n];if(!a)continue;const{isEnabled:s,Feature:o}=a;if(!this.features[n]&&o&&s(this.props)&&(this.features[n]=new o(this)),this.features[n]){const c=this.features[n];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,a){this.latestValues[n]=a}update(n,a){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let s=0;s<$y.length;s++){const o=$y[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=n[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=YE(this,this.scrapeMotionValuesFromProps(n,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(n),()=>a.variantChildren.delete(n)}addValue(n,a){const s=this.values.get(n);a!==s&&(s&&this.removeValue(n),this.bindToMotionValue(n,a),this.values.set(n,a),this.latestValues[n]=a.get())}removeValue(n){this.values.delete(n);const a=this.valueSubscriptions.get(n);a&&(a(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,a){if(this.props.values&&this.props.values[n])return this.props.values[n];let s=this.values.get(n);return s===void 0&&a!==void 0&&(s=qi(a===null?void 0:a,{owner:this}),this.addValue(n,s)),s}readValue(n,a){let s=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return s!=null&&(typeof s=="string"&&(Ov(s)||kv(s))?s=parseFloat(s):!qE(s)&&cn.test(a)&&(s=T1(n,a)),this.setBaseTarget(n,lt(s)?s.get():s)),lt(s)?s.get():s}setBaseTarget(n,a){this.baseTarget[n]=a}getBaseTarget(n){const{initial:a}=this.props;let s;if(typeof a=="string"||typeof a=="object"){const c=kd(this.props,a,this.presenceContext?.custom);c&&(s=c[n])}if(a&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,n);return o!==void 0&&!lt(o)?o:this.initialValues[n]!==void 0&&s===void 0?void 0:this.baseTarget[n]}on(n,a){return this.events[n]||(this.events[n]=new xd),this.events[n].add(a)}notify(n,...a){this.events[n]&&this.events[n].notify(...a)}scheduleRenderMicrotask(){Ud.render(this.render)}}class k1 extends QE{constructor(){super(...arguments),this.KeyframeResolver=TE}sortInstanceNodePosition(n,a){return n.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(n,a){const s=n.style;return s?s[a]:void 0}removeValueFromRenderState(n,{vars:a,style:s}){delete a[n],delete s[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;lt(n)&&(this.childSubscription=n.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}class yi{constructor(n){this.isMounted=!1,this.node=n}update(){}}function N1({top:t,left:n,right:a,bottom:s}){return{x:{min:n,max:a},y:{min:t,max:s}}}function JE({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function WE(t,n){if(!n)return t;const a=n({x:t.left,y:t.top}),s=n({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:s.y,right:s.x}}function yf(t){return t===void 0||t===1}function ed({scale:t,scaleX:n,scaleY:a}){return!yf(t)||!yf(n)||!yf(a)}function Pi(t){return ed(t)||L1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function L1(t){return Iy(t.x)||Iy(t.y)}function Iy(t){return t&&t!=="0%"}function hl(t,n,a){const s=t-a,o=n*s;return a+o}function Zy(t,n,a,s,o){return o!==void 0&&(t=hl(t,o,s)),hl(t,a,s)+n}function td(t,n=0,a=1,s,o){t.min=Zy(t.min,n,a,s,o),t.max=Zy(t.max,n,a,s,o)}function U1(t,{x:n,y:a}){td(t.x,n.translate,n.scale,n.originPoint),td(t.y,a.translate,a.scale,a.originPoint)}const qy=.999999999999,Gy=1.0000000000001;function eA(t,n,a,s=!1){const o=a.length;if(!o)return;n.x=n.y=1;let c,u;for(let d=0;d<o;d++){c=a[d],u=c.projectionDelta;const{visualElement:p}=c.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$a(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(n.x*=u.x.scale,n.y*=u.y.scale,U1(t,u)),s&&Pi(c.latestValues)&&$a(t,c.latestValues))}n.x<Gy&&n.x>qy&&(n.x=1),n.y<Gy&&n.y>qy&&(n.y=1)}function Pa(t,n){t.min=t.min+n,t.max=t.max+n}function Yy(t,n,a,s,o=.5){const c=$e(t.min,t.max,o);td(t,n,a,c,s)}function $a(t,n){Yy(t.x,n.x,n.scaleX,n.scale,n.originX),Yy(t.y,n.y,n.scaleY,n.scale,n.originY)}function V1(t,n){return N1(WE(t.getBoundingClientRect(),n))}function tA(t,n,a){const s=V1(t,a),{scroll:o}=n;return o&&(Pa(s.x,o.offset.x),Pa(s.y,o.offset.y)),s}const nA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iA=Ka.length;function aA(t,n,a){let s="",o=!0;for(let c=0;c<iA;c++){const u=Ka[c],d=t[u];if(d===void 0)continue;let p=!0;if(typeof d=="number")p=d===(u.startsWith("scale")?1:0);else{const m=parseFloat(d);p=u.startsWith("scale")?m===1:m===0}if(!p||a){const m=A1(d,Ld[u]);if(!p){o=!1;const g=nA[u]||u;s+=`${g}(${m}) `}a&&(n[u]=m)}}return s=s.trim(),a?s=a(n,o?"":s):o&&(s="none"),s}function $d(t,n,a){const{style:s,vars:o,transformOrigin:c}=t;let u=!1,d=!1;for(const p in n){const m=n[p];if(Qa.has(p)){u=!0;continue}else if(Xv(p)){o[p]=m;continue}else{const g=A1(m,Ld[p]);p.startsWith("origin")?(d=!0,c[p]=g):s[p]=g}}if(n.transform||(u||a?s.transform=aA(n,t.transform,a):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:m="50%",originZ:g=0}=c;s.transformOrigin=`${p} ${m} ${g}`}}function B1(t,{style:n,vars:a},s,o){const c=t.style;let u;for(u in n)c[u]=n[u];o?.applyProjectionStyles(c,s);for(u in a)c.setProperty(u,a[u])}function Fy(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const Xs={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if(ee.test(t))t=parseFloat(t);else return t;const a=Fy(t,n.target.x),s=Fy(t,n.target.y);return`${a}% ${s}%`}},sA={correct:(t,{treeScale:n,projectionDelta:a})=>{const s=t,o=cn.parse(t);if(o.length>5)return s;const c=cn.createTransformer(t),u=typeof o[0]!="number"?1:0,d=a.x.scale*n.x,p=a.y.scale*n.y;o[0+u]/=d,o[1+u]/=p;const m=$e(d,p,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),c(o)}},nd={borderRadius:{...Xs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xs,borderTopRightRadius:Xs,borderBottomLeftRadius:Xs,borderBottomRightRadius:Xs,boxShadow:sA};function H1(t,{layout:n,layoutId:a}){return Qa.has(t)||t.startsWith("origin")||(n||a!==void 0)&&(!!nd[t]||t==="opacity")}function Id(t,n,a){const s=t.style,o=n?.style,c={};if(!s)return c;for(const u in s)(lt(s[u])||o&&lt(o[u])||H1(u,t)||a?.getValue(u)?.liveStyle!==void 0)&&(c[u]=s[u]);return c}function rA(t){return window.getComputedStyle(t)}class oA extends k1{constructor(){super(...arguments),this.type="html",this.renderInstance=B1}readValueFromInstance(n,a){if(Qa.has(a))return this.projection?.isProjecting?Pf(a):AT(n,a);{const s=rA(n),o=(Xv(a)?s.getPropertyValue(a):s[a])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(n,{transformPagePoint:a}){return V1(n,a)}build(n,a,s){$d(n,a,s.transformTemplate)}scrapeMotionValuesFromProps(n,a,s){return Id(n,a,s)}}const lA={offset:"stroke-dashoffset",array:"stroke-dasharray"},cA={offset:"strokeDashoffset",array:"strokeDasharray"};function uA(t,n,a=1,s=0,o=!0){t.pathLength=1;const c=o?lA:cA;t[c.offset]=`${-s}`,t[c.array]=`${n} ${a}`}const fA=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function P1(t,{attrX:n,attrY:a,attrScale:s,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...d},p,m,g){if($d(t,d,m),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:b}=t;y.transform&&(b.transform=y.transform,delete y.transform),(b.transform||y.transformOrigin)&&(b.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete y.transformBox);for(const S of fA)y[S]!==void 0&&(b[S]=y[S],delete y[S]);n!==void 0&&(y.x=n),a!==void 0&&(y.y=a),s!==void 0&&(y.scale=s),o!==void 0&&uA(y,o,c,u,!1)}const $1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),I1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dA(t,n,a,s){B1(t,n,void 0,s);for(const o in n.attrs)t.setAttribute($1.has(o)?o:Nd(o),n.attrs[o])}function Z1(t,n,a){const s=Id(t,n,a);for(const o in t)if(lt(t[o])||lt(n[o])){const c=Ka.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[c]=t[o]}return s}class hA extends k1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=st}getBaseTargetFromProps(n,a){return n[a]}readValueFromInstance(n,a){if(Qa.has(a)){const s=w1(a);return s&&s.default||0}return a=$1.has(a)?a:Nd(a),n.getAttribute(a)}scrapeMotionValuesFromProps(n,a,s){return Z1(n,a,s)}build(n,a,s){P1(n,a,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(n,a,s,o){dA(n,a,s,o)}mount(n){this.isSVGTag=I1(n.tagName),super.mount(n)}}const pA=Pd.length;function q1(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?q1(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const n={};for(let a=0;a<pA;a++){const s=Pd[a],o=t.props[s];(or(o)||o===!1)&&(n[s]=o)}return n}function G1(t,n){if(!Array.isArray(n))return!1;const a=n.length;if(a!==t.length)return!1;for(let s=0;s<a;s++)if(n[s]!==t[s])return!1;return!0}const mA=[...Hd].reverse(),gA=Hd.length;function yA(t){return n=>Promise.all(n.map(({animation:a,options:s})=>hE(t,a,s)))}function vA(t){let n=yA(t),a=Xy(),s=!0;const o=p=>(m,g)=>{const y=Za(t,g,p==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:b,transitionEnd:S,...T}=y;m={...m,...T,...S}}return m};function c(p){n=p(t)}function u(p){const{props:m}=t,g=q1(t.parent)||{},y=[],b=new Set;let S={},T=1/0;for(let M=0;M<gA;M++){const D=mA[M],j=a[D],C=m[D]!==void 0?m[D]:g[D],B=or(C),P=D===p?j.isActive:null;P===!1&&(T=M);let Q=C===g[D]&&C!==m[D]&&B;if(Q&&s&&t.manuallyAnimateOnMount&&(Q=!1),j.protectedKeys={...S},!j.isActive&&P===null||!C&&!j.prevProp||Al(C)||typeof C=="boolean")continue;if(D==="exit"&&j.isActive&&P!==!0){j.prevResolvedValues&&(S={...S,...j.prevResolvedValues});continue}const X=bA(j.prevProp,C);let K=X||D===p&&j.isActive&&!Q&&B||M>T&&B,ae=!1;const ie=Array.isArray(C)?C:[C];let Ue=ie.reduce(o(D),{});P===!1&&(Ue={});const{prevResolvedValues:ce={}}=j,ge={...ce,...Ue},Ae=G=>{K=!0,b.has(G)&&(ae=!0,b.delete(G)),j.needsAnimating[G]=!0;const F=t.getValue(G);F&&(F.liveStyle=!1)};for(const G in ge){const F=Ue[G],oe=ce[G];if(S.hasOwnProperty(G))continue;let pe=!1;Yf(F)&&Yf(oe)?pe=!G1(F,oe):pe=F!==oe,pe?F!=null?Ae(G):b.add(G):F!==void 0&&b.has(G)?Ae(G):j.protectedKeys[G]=!0}j.prevProp=C,j.prevResolvedValues=Ue,j.isActive&&(S={...S,...Ue}),s&&t.blockInitialAnimation&&(K=!1);const fe=Q&&X;K&&(!fe||ae)&&y.push(...ie.map(G=>{const F={type:D};if(typeof G=="string"&&s&&!fe&&t.manuallyAnimateOnMount&&t.parent){const{parent:oe}=t,pe=Za(oe,G);if(oe.enteringChildren&&pe){const{delayChildren:R}=pe.transition||{};F.delay=p1(oe.enteringChildren,t,R)}}return{animation:G,options:F}}))}if(b.size){const M={};if(typeof m.initial!="boolean"){const D=Za(t,Array.isArray(m.initial)?m.initial[0]:m.initial);D&&D.transition&&(M.transition=D.transition)}b.forEach(D=>{const j=t.getBaseTarget(D),C=t.getValue(D);C&&(C.liveStyle=!0),M[D]=j??null}),y.push({animation:M})}let E=!!y.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(E=!1),s=!1,E?n(y):Promise.resolve()}function d(p,m){if(a[p].isActive===m)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(p,m)),a[p].isActive=m;const g=u(p);for(const y in a)a[y].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:c,getState:()=>a,reset:()=>{a=Xy()}}}function bA(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!G1(n,t):!1}function Bi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xy(){return{animate:Bi(!0),whileInView:Bi(),whileHover:Bi(),whileTap:Bi(),whileDrag:Bi(),whileFocus:Bi(),exit:Bi()}}function Ky(t,n){t.min=n.min,t.max=n.max}function rn(t,n){Ky(t.x,n.x),Ky(t.y,n.y)}function Qy(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}const Y1=1e-4,xA=1-Y1,SA=1+Y1,F1=.01,_A=0-F1,wA=0+F1;function St(t){return t.max-t.min}function TA(t,n,a){return Math.abs(t-n)<=a}function Jy(t,n,a,s=.5){t.origin=s,t.originPoint=$e(n.min,n.max,t.origin),t.scale=St(a)/St(n),t.translate=$e(a.min,a.max,t.origin)-t.originPoint,(t.scale>=xA&&t.scale<=SA||isNaN(t.scale))&&(t.scale=1),(t.translate>=_A&&t.translate<=wA||isNaN(t.translate))&&(t.translate=0)}function tr(t,n,a,s){Jy(t.x,n.x,a.x,s?s.originX:void 0),Jy(t.y,n.y,a.y,s?s.originY:void 0)}function Wy(t,n,a){t.min=a.min+n.min,t.max=t.min+St(n)}function EA(t,n,a){Wy(t.x,n.x,a.x),Wy(t.y,n.y,a.y)}function e0(t,n,a){t.min=n.min-a.min,t.max=t.min+St(n)}function pl(t,n,a){e0(t.x,n.x,a.x),e0(t.y,n.y,a.y)}function t0(t,n,a,s,o){return t-=n,t=hl(t,1/a,s),o!==void 0&&(t=hl(t,1/o,s)),t}function AA(t,n=0,a=1,s=.5,o,c=t,u=t){if(gn.test(n)&&(n=parseFloat(n),n=$e(u.min,u.max,n/100)-u.min),typeof n!="number")return;let d=$e(c.min,c.max,s);t===c&&(d-=n),t.min=t0(t.min,n,a,d,o),t.max=t0(t.max,n,a,d,o)}function n0(t,n,[a,s,o],c,u){AA(t,n[a],n[s],n[o],n.scale,c,u)}const CA=["x","scaleX","originX"],MA=["y","scaleY","originY"];function i0(t,n,a,s){n0(t.x,n,CA,a?a.x:void 0,s?s.x:void 0),n0(t.y,n,MA,a?a.y:void 0,s?s.y:void 0)}function a0(t){return t.translate===0&&t.scale===1}function X1(t){return a0(t.x)&&a0(t.y)}function s0(t,n){return t.min===n.min&&t.max===n.max}function RA(t,n){return s0(t.x,n.x)&&s0(t.y,n.y)}function r0(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function K1(t,n){return r0(t.x,n.x)&&r0(t.y,n.y)}function o0(t){return St(t.x)/St(t.y)}function l0(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}function pn(t){return[t("x"),t("y")]}function zA(t,n,a){let s="";const o=t.x.translate/n.x,c=t.y.translate/n.y,u=a?.z||0;if((o||c||u)&&(s=`translate3d(${o}px, ${c}px, ${u}px) `),(n.x!==1||n.y!==1)&&(s+=`scale(${1/n.x}, ${1/n.y}) `),a){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:b,skewX:S,skewY:T}=a;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),b&&(s+=`rotateY(${b}deg) `),S&&(s+=`skewX(${S}deg) `),T&&(s+=`skewY(${T}deg) `)}const d=t.x.scale*n.x,p=t.y.scale*n.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const Q1=["TopLeft","TopRight","BottomLeft","BottomRight"],DA=Q1.length,c0=t=>typeof t=="string"?parseFloat(t):t,u0=t=>typeof t=="number"||ee.test(t);function OA(t,n,a,s,o,c){o?(t.opacity=$e(0,a.opacity??1,jA(s)),t.opacityExit=$e(n.opacity??1,0,kA(s))):c&&(t.opacity=$e(n.opacity??1,a.opacity??1,s));for(let u=0;u<DA;u++){const d=`border${Q1[u]}Radius`;let p=f0(n,d),m=f0(a,d);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||u0(p)===u0(m)?(t[d]=Math.max($e(c0(p),c0(m),s),0),(gn.test(m)||gn.test(p))&&(t[d]+="%")):t[d]=m}(n.rotate||a.rotate)&&(t.rotate=$e(n.rotate||0,a.rotate||0,s))}function f0(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const jA=J1(0,.5,Iv),kA=J1(.5,.95,Wt);function J1(t,n,a){return s=>s<t?0:s>n?1:a(ar(t,n,s))}function NA(t,n,a){const s=lt(t)?t:qi(t);return s.start(jd("",s,n,a)),s.animation}function lr(t,n,a,s={passive:!0}){return t.addEventListener(n,a,s),()=>t.removeEventListener(n,a)}const LA=(t,n)=>t.depth-n.depth;class UA{constructor(){this.children=[],this.isDirty=!1}add(n){vd(this.children,n),this.isDirty=!0}remove(n){ll(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(LA),this.isDirty=!1,this.children.forEach(n)}}function VA(t,n){const a=xt.now(),s=({timestamp:o})=>{const c=o-a;c>=n&&(Hn(s),t(c-n))};return Ne.setup(s,!0),()=>Hn(s)}function al(t){return lt(t)?t.get():t}class BA{constructor(){this.members=[]}add(n){vd(this.members,n);for(let a=this.members.length-1;a>=0;a--){const s=this.members[a];if(s===n||s===this.lead||s===this.prevLead)continue;const o=s.instance;o&&o.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&ll(this.members,s)}n.scheduleRender()}remove(n){if(ll(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(n){const a=this.members.findIndex(o=>n===o);if(a===0)return!1;let s;for(let o=a;o>=0;o--){const c=this.members[o],u=c.instance;if(c.isPresent!==!1&&(!u||u.isConnected!==!1)){s=c;break}}return s?(this.promote(s),!0):!1}promote(n,a){const s=this.lead;if(n!==s&&(this.prevLead=s,this.lead=n,n.show(),s)){s.instance&&s.scheduleRender(),n.scheduleRender();const o=s.options.layoutDependency,c=n.options.layoutDependency;if(!(o!==void 0&&c!==void 0&&o===c)){const p=s.instance;p&&p.isConnected===!1&&!s.snapshot||(n.resumeFrom=s,a&&(n.resumeFrom.preserveOpacity=!0),s.snapshot&&(n.snapshot=s.snapshot,n.snapshot.latestValues=s.animationValues||s.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0))}const{crossfade:d}=n.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:a,resumingFrom:s}=n;a.onExitComplete&&a.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const sl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},vf=["","X","Y","Z"],HA=1e3;let PA=0;function bf(t,n,a,s){const{latestValues:o}=n;o[t]&&(a[t]=o[t],n.setStaticValue(t,0),s&&(s[t]=0))}function W1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const a=b1(n);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",Ne,!(o||c))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&W1(s)}function eb({attachResizeListener:t,defaultParent:n,measureScroll:a,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=n?.()){this.id=PA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ZA),this.nodes.forEach(FA),this.nodes.forEach(XA),this.nodes.forEach(qA)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new UA)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new xd),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const p=this.eventHandlers.get(u);p&&p.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Bd(u)&&!IE(u),this.instance=u;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),t){let g,y=0;const b=()=>this.root.updateBlockedByResize=!1;Ne.read(()=>{y=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==y&&(y=S,this.root.updateBlockedByResize=!0,g&&g(),g=VA(b,250),sl.hasAnimatedSinceResize&&(sl.hasAnimatedSinceResize=!1,this.nodes.forEach(p0)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||m.getDefaultTransition()||eC,{onLayoutAnimationStart:E,onLayoutAnimationComplete:M}=m.getProps(),D=!this.targetLayout||!K1(this.targetLayout,S),j=!y&&b;if(this.options.layoutRoot||this.resumeFrom||j||y&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Od(T,"layout"),onPlay:E,onComplete:M};(m.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(g,j)}else y||p0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KA),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&W1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(h0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YA),this.nodes.forEach($A),this.nodes.forEach(IA)):this.nodes.forEach(h0),this.clearAllSnapshots();const d=xt.now();pt.delta=vn(0,1e3/60,d-pt.timestamp),pt.timestamp=d,pt.isProcessing=!0,uf.update.process(pt),uf.preRender.process(pt),uf.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ud.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GA),this.sharedNodes.forEach(QA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!St(this.snapshot.measuredBox.x)&&!St(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!X1(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(d||Pi(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return u&&(p=this.removeTransform(p)),tC(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return st();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nC))){const{scroll:m}=this.root;m&&(Pa(d.x,m.offset.x),Pa(d.y,m.offset.y))}return d}removeElementScroll(u){const d=st();if(rn(d,u),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&rn(d,u),Pa(d.x,g.offset.x),Pa(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const p=st();rn(p,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&$a(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Pi(g.latestValues)&&$a(p,g.latestValues)}return Pi(this.latestValues)&&$a(p,this.latestValues),p}removeTransform(u){const d=st();rn(d,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Pi(m.latestValues))continue;ed(m.latestValues)&&m.updateSnapshot();const g=st(),y=m.measurePageBox();rn(g,y),i0(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Pi(this.latestValues)&&i0(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=pt.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rn(this.target,this.layout.layoutBox),U1(this.target,this.targetDelta)):rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ed(this.parent.latestValues)||L1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),pl(this.relativeTargetOrigin,d,p),rn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(p=!1),p)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;rn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;eA(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=st());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qy(this.prevProjectionDelta.x,this.projectionDelta.x),Qy(this.prevProjectionDelta.y,this.projectionDelta.y)),tr(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!l0(this.projectionDelta.x,this.prevProjectionDelta.x)||!l0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ha(),this.projectionDelta=Ha(),this.projectionDeltaWithTransform=Ha()}setAnimationOrigin(u,d=!1){const p=this.snapshot,m=p?p.latestValues:{},g={...this.latestValues},y=Ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=st(),S=p?p.source:void 0,T=this.layout?this.layout.source:void 0,E=S!==T,M=this.getStack(),D=!M||M.members.length<=1,j=!!(E&&!D&&this.options.crossfade===!0&&!this.path.some(WA));this.animationProgress=0;let C;this.mixTargetDelta=B=>{const P=B/1e3;m0(y.x,u.x,P),m0(y.y,u.y,P),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pl(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JA(this.relativeTarget,this.relativeTargetOrigin,b,P),C&&RA(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=st()),rn(C,this.relativeTarget)),E&&(this.animationValues=g,OA(g,m,this.latestValues,P,j,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{sl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qi(0)),this.currentAnimation=NA(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:p,layout:m,latestValues:g}=u;if(!(!d||!p||!m)){if(this!==u&&this.layout&&m&&tb(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||st();const y=St(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+y;const b=St(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+b}rn(d,p),$a(d,g),tr(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new BA),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const m={};p.z&&bf("z",u,m,this.animationValues);for(let g=0;g<vf.length;g++)bf(`rotate${vf[g]}`,u,m,this.animationValues),bf(`skew${vf[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=al(d?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=al(d?.pointerEvents)||""),this.hasProjected&&!Pi(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=zA(this.projectionDeltaWithTransform,this.treeScale,g);p&&(y=p(g,y)),u.transform=y;const{x:b,y:S}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in nd){if(g[T]===void 0)continue;const{correct:E,applyTo:M,isCSSVariable:D}=nd[T],j=y==="none"?g[T]:E(g[T],m);if(M){const C=M.length;for(let B=0;B<C;B++)u[M[B]]=j}else D?this.options.visualElement.renderState.vars[T]=j:u[T]=j}this.options.layoutId&&(u.pointerEvents=m===this?al(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(d0),this.root.sharedNodes.clear()}}}function $A(t){t.updateLayout()}function IA(t){const n=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=t.layout,{animationType:o}=t.options,c=n.source!==t.layout.source;o==="size"?pn(g=>{const y=c?n.measuredBox[g]:n.layoutBox[g],b=St(y);y.min=a[g].min,y.max=y.min+b}):tb(o,n.layoutBox,a)&&pn(g=>{const y=c?n.measuredBox[g]:n.layoutBox[g],b=St(a[g]);y.max=y.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const u=Ha();tr(u,a,n.layoutBox);const d=Ha();c?tr(d,t.applyTransform(s,!0),n.measuredBox):tr(d,a,n.layoutBox);const p=!X1(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:b}=g;if(y&&b){const S=st();pl(S,n.layoutBox,y.layoutBox);const T=st();pl(T,a,b.layoutBox),K1(S,T)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:n,delta:d,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function ZA(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qA(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GA(t){t.clearSnapshot()}function d0(t){t.clearMeasurements()}function h0(t){t.isLayoutDirty=!1}function YA(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function p0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function FA(t){t.resolveTargetDelta()}function XA(t){t.calcProjection()}function KA(t){t.resetSkewAndRotation()}function QA(t){t.removeLeadSnapshot()}function m0(t,n,a){t.translate=$e(n.translate,0,a),t.scale=$e(n.scale,1,a),t.origin=n.origin,t.originPoint=n.originPoint}function g0(t,n,a,s){t.min=$e(n.min,a.min,s),t.max=$e(n.max,a.max,s)}function JA(t,n,a,s){g0(t.x,n.x,a.x,s),g0(t.y,n.y,a.y,s)}function WA(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eC={duration:.45,ease:[.4,0,.1,1]},y0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),v0=y0("applewebkit/")&&!y0("chrome/")?Math.round:Wt;function b0(t){t.min=v0(t.min),t.max=v0(t.max)}function tC(t){b0(t.x),b0(t.y)}function tb(t,n,a){return t==="position"||t==="preserve-aspect"&&!TA(o0(n),o0(a),.2)}function nC(t){return t!==t.root&&t.scroll?.wasRoot}const iC=eb({attachResizeListener:(t,n)=>lr(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),xf={current:void 0},nb=eb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xf.current){const t=new iC({});t.mount(window),t.setOptions({layoutScroll:!0}),xf.current=t}return xf.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ml=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function x0(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function aC(...t){return n=>{let a=!1;const s=t.map(o=>{const c=x0(o,n);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():x0(t[o],null)}}}}function sC(...t){return w.useCallback(aC(...t),t)}class rC extends w.Component{getSnapshotBeforeUpdate(n){const a=this.props.childRef.current;if(a&&n.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=a.offsetParent,o=Jf(s)&&s.offsetWidth||0,c=Jf(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=a.offsetHeight||0,u.width=a.offsetWidth||0,u.top=a.offsetTop,u.left=a.offsetLeft,u.right=o-u.width-u.left,u.bottom=c-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function oC({children:t,isPresent:n,anchorX:a,anchorY:s,root:o,pop:c}){const u=w.useId(),d=w.useRef(null),p=w.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=w.useContext(Ml),g=t.props?.ref??t?.ref,y=sC(d,g);return w.useInsertionEffect(()=>{const{width:b,height:S,top:T,left:E,right:M,bottom:D}=p.current;if(n||c===!1||!d.current||!b||!S)return;const j=a==="left"?`left: ${E}`:`right: ${M}`,C=s==="bottom"?`bottom: ${D}`:`top: ${T}`;d.current.dataset.motionPopId=u;const B=document.createElement("style");m&&(B.nonce=m);const P=o??document.head;return P.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${S}px !important;
            ${j}px !important;
            ${C}px !important;
          }
        `),()=>{P.contains(B)&&P.removeChild(B)}},[n]),x.jsx(rC,{isPresent:n,childRef:d,sizeRef:p,pop:c,children:c===!1?t:w.cloneElement(t,{ref:y})})}const lC=({children:t,initial:n,isPresent:a,onExitComplete:s,custom:o,presenceAffectsLayout:c,mode:u,anchorX:d,anchorY:p,root:m})=>{const g=Tl(cC),y=w.useId();let b=!0,S=w.useMemo(()=>(b=!1,{id:y,initial:n,isPresent:a,custom:o,onExitComplete:T=>{g.set(T,!0);for(const E of g.values())if(!E)return;s&&s()},register:T=>(g.set(T,!1),()=>g.delete(T))}),[a,g,s]);return c&&b&&(S={...S}),w.useMemo(()=>{g.forEach((T,E)=>g.set(E,!1))},[a]),w.useEffect(()=>{!a&&!g.size&&s&&s()},[a]),t=x.jsx(oC,{pop:u==="popLayout",isPresent:a,anchorX:d,anchorY:p,root:m,children:t}),x.jsx(El.Provider,{value:S,children:t})};function cC(){return new Map}function ib(t=!0){const n=w.useContext(El);if(n===null)return[!0,null];const{isPresent:a,onExitComplete:s,register:o}=n,c=w.useId();w.useEffect(()=>{if(t)return o(c)},[t]);const u=w.useCallback(()=>t&&s&&s(c),[c,s,t]);return!a&&s?[!1,u]:[!0]}const qo=t=>t.key||"";function S0(t){const n=[];return w.Children.forEach(t,a=>{w.isValidElement(a)&&n.push(a)}),n}const Rt=({children:t,custom:n,initial:a=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:d="left",anchorY:p="top",root:m})=>{const[g,y]=ib(u),b=w.useMemo(()=>S0(t),[t]),S=u&&!g?[]:b.map(qo),T=w.useRef(!0),E=w.useRef(b),M=Tl(()=>new Map),D=w.useRef(new Set),[j,C]=w.useState(b),[B,P]=w.useState(b);yd(()=>{T.current=!1,E.current=b;for(let K=0;K<B.length;K++){const ae=qo(B[K]);S.includes(ae)?(M.delete(ae),D.current.delete(ae)):M.get(ae)!==!0&&M.set(ae,!1)}},[B,S.length,S.join("-")]);const Q=[];if(b!==j){let K=[...b];for(let ae=0;ae<B.length;ae++){const ie=B[ae],Ue=qo(ie);S.includes(Ue)||(K.splice(ae,0,ie),Q.push(ie))}return c==="wait"&&Q.length&&(K=Q),P(S0(K)),C(b),null}const{forceRender:X}=w.useContext(gd);return x.jsx(x.Fragment,{children:B.map(K=>{const ae=qo(K),ie=u&&!g?!1:b===B||S.includes(ae),Ue=()=>{if(D.current.has(ae))return;if(D.current.add(ae),M.has(ae))M.set(ae,!0);else return;let ce=!0;M.forEach(ge=>{ge||(ce=!1)}),ce&&(X?.(),P(E.current),u&&y?.(),s&&s())};return x.jsx(lC,{isPresent:ie,initial:!T.current||a?void 0:!1,custom:n,presenceAffectsLayout:o,mode:c,root:m,onExitComplete:ie?void 0:Ue,anchorX:d,anchorY:p,children:K},ae)})})},ab=w.createContext({strict:!1}),_0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let w0=!1;function uC(){if(w0)return;const t={};for(const n in _0)t[n]={isEnabled:a=>_0[n].some(s=>!!a[s])};j1(t),w0=!0}function sb(){return uC(),KE()}function fC(t){const n=sb();for(const a in t)n[a]={...n[a],...t[a]};j1(n)}const dC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function ml(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dC.has(t)}let rb=t=>!ml(t);function hC(t){typeof t=="function"&&(rb=n=>n.startsWith("on")?!ml(n):t(n))}try{hC(require("@emotion/is-prop-valid").default)}catch{}function pC(t,n,a){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(rb(o)||a===!0&&ml(o)||!n&&!ml(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const Rl=w.createContext({});function mC(t,n){if(Cl(t)){const{initial:a,animate:s}=t;return{initial:a===!1||or(a)?a:void 0,animate:or(s)?s:void 0}}return t.inherit!==!1?n:{}}function gC(t){const{initial:n,animate:a}=mC(t,w.useContext(Rl));return w.useMemo(()=>({initial:n,animate:a}),[T0(n),T0(a)])}function T0(t){return Array.isArray(t)?t.join(" "):t}const Zd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ob(t,n,a){for(const s in n)!lt(n[s])&&!H1(s,a)&&(t[s]=n[s])}function yC({transformTemplate:t},n){return w.useMemo(()=>{const a=Zd();return $d(a,n,t),Object.assign({},a.vars,a.style)},[n])}function vC(t,n){const a=t.style||{},s={};return ob(s,a,t),Object.assign(s,yC(t,n)),s}function bC(t,n){const a={},s=vC(t,n);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=s,a}const lb=()=>({...Zd(),attrs:{}});function xC(t,n,a,s){const o=w.useMemo(()=>{const c=lb();return P1(c,n,I1(s),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[n]);if(t.style){const c={};ob(c,t.style,t),o.style={...c,...o.style}}return o}const SC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qd(t){return typeof t!="string"||t.includes("-")?!1:!!(SC.indexOf(t)>-1||/[A-Z]/u.test(t))}function _C(t,n,a,{latestValues:s},o,c=!1,u){const p=(u??qd(t)?xC:bC)(n,s,o,t),m=pC(n,typeof t=="string",c),g=t!==w.Fragment?{...m,...p,ref:a}:{},{children:y}=n,b=w.useMemo(()=>lt(y)?y.get():y,[y]);return w.createElement(t,{...g,children:b})}function wC({scrapeMotionValuesFromProps:t,createRenderState:n},a,s,o){return{latestValues:TC(a,s,o,t),renderState:n()}}function TC(t,n,a,s){const o={},c=s(t,{});for(const b in c)o[b]=al(c[b]);let{initial:u,animate:d}=t;const p=Cl(t),m=D1(t);n&&m&&!p&&t.inherit!==!1&&(u===void 0&&(u=n.initial),d===void 0&&(d=n.animate));let g=a?a.initial===!1:!1;g=g||u===!1;const y=g?d:u;if(y&&typeof y!="boolean"&&!Al(y)){const b=Array.isArray(y)?y:[y];for(let S=0;S<b.length;S++){const T=kd(t,b[S]);if(T){const{transitionEnd:E,transition:M,...D}=T;for(const j in D){let C=D[j];if(Array.isArray(C)){const B=g?C.length-1:0;C=C[B]}C!==null&&(o[j]=C)}for(const j in E)o[j]=E[j]}}}return o}const cb=t=>(n,a)=>{const s=w.useContext(Rl),o=w.useContext(El),c=()=>wC(t,n,s,o);return a?c():Tl(c)},EC=cb({scrapeMotionValuesFromProps:Id,createRenderState:Zd}),AC=cb({scrapeMotionValuesFromProps:Z1,createRenderState:lb}),CC=Symbol.for("motionComponentSymbol");function MC(t,n,a){const s=w.useRef(a);w.useInsertionEffect(()=>{s.current=a});const o=w.useRef(null);return w.useCallback(c=>{c&&t.onMount?.(c),n&&(c?n.mount(c):n.unmount());const u=s.current;if(typeof u=="function")if(c){const d=u(c);typeof d=="function"&&(o.current=d)}else o.current?(o.current(),o.current=null):u(c);else u&&(u.current=c)},[n])}const ub=w.createContext({});function Ua(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RC(t,n,a,s,o,c){const{visualElement:u}=w.useContext(Rl),d=w.useContext(ab),p=w.useContext(El),m=w.useContext(Ml),g=m.reducedMotion,y=m.skipAnimations,b=w.useRef(null),S=w.useRef(!1);s=s||d.renderer,!b.current&&s&&(b.current=s(t,{visualState:n,parent:u,props:a,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,skipAnimations:y,isSVG:c}),S.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const T=b.current,E=w.useContext(ub);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&zC(b.current,a,o,E);const M=w.useRef(!1);w.useInsertionEffect(()=>{T&&M.current&&T.update(a,p)});const D=a[v1],j=w.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return yd(()=>{S.current=!0,T&&(M.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),j.current&&T.animationState&&T.animationState.animateChanges())}),w.useEffect(()=>{T&&(!j.current&&T.animationState&&T.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),j.current=!1),T.enteringChildren=void 0)}),T}function zC(t,n,a,s){const{layoutId:o,layout:c,drag:u,dragConstraints:d,layoutScroll:p,layoutRoot:m,layoutCrossfade:g}=n;t.projection=new a(t.latestValues,n["data-framer-portal-id"]?void 0:fb(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||d&&Ua(d),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:p,layoutRoot:m})}function fb(t){if(t)return t.options.allowProjection!==!1?t.projection:fb(t.parent)}function Sf(t,{forwardMotionProps:n=!1,type:a}={},s,o){s&&fC(s);const c=a?a==="svg":qd(t),u=c?AC:EC;function d(m,g){let y;const b={...w.useContext(Ml),...m,layoutId:DC(m)},{isStatic:S}=b,T=gC(m),E=u(m,S);if(!S&&Dv){OC();const M=jC(b);y=M.MeasureLayout,T.visualElement=RC(t,E,b,o,M.ProjectionNode,c)}return x.jsxs(Rl.Provider,{value:T,children:[y&&T.visualElement?x.jsx(y,{visualElement:T.visualElement,...b}):null,_C(t,m,MC(E,T.visualElement,g),E,S,n,c)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const p=w.forwardRef(d);return p[CC]=t,p}function DC({layoutId:t}){const n=w.useContext(gd).id;return n&&t!==void 0?n+"-"+t:t}function OC(t,n){w.useContext(ab).strict}function jC(t){const n=sb(),{drag:a,layout:s}=n;if(!a&&!s)return{};const o={...a,...s};return{MeasureLayout:a?.isEnabled(t)||s?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function kC(t,n){if(typeof Proxy>"u")return Sf;const a=new Map,s=(c,u)=>Sf(c,u,t,n),o=(c,u)=>s(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?s:(a.has(u)||a.set(u,Sf(u,void 0,t,n)),a.get(u))})}const NC=(t,n)=>n.isSVG??qd(t)?new hA(n):new oA(n,{allowProjection:t!==w.Fragment});class LC extends yi{constructor(n){super(n),n.animationState||(n.animationState=vA(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Al(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:a}=this.node.prevProps||{};n!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UC=0;class VC extends yi{constructor(){super(...arguments),this.id=UC++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:a}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===s)return;const o=this.node.animationState.setActive("exit",!n);a&&!n&&o.then(()=>{a(this.id)})}mount(){const{register:n,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const BC={animation:{Feature:LC},exit:{Feature:VC}};function xr(t){return{point:{x:t.pageX,y:t.pageY}}}const HC=t=>n=>Vd(n)&&t(n,xr(n));function nr(t,n,a,s){return lr(t,n,HC(a),s)}const db=({current:t})=>t?t.ownerDocument.defaultView:null,E0=(t,n)=>Math.abs(t-n);function PC(t,n){const a=E0(t.x,n.x),s=E0(t.y,n.y);return Math.sqrt(a**2+s**2)}const A0=new Set(["auto","scroll"]);class hb{constructor(n,a,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=wf(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,E=PC(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!E)return;const{point:M}=S,{timestamp:D}=pt;this.history.push({...M,timestamp:D});const{onStart:j,onMove:C}=this.handlers;T||(j&&j(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,S)},this.handlePointerMove=(S,T)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=_f(T,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(S,T)=>{this.end();const{onEnd:E,onSessionEnd:M,resumeAnimation:D}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=wf(S.type==="pointercancel"?this.lastMoveEventInfo:_f(T,this.transformPagePoint),this.history);this.startEvent&&E&&E(S,j),M&&M(S,j)},!Vd(n))return;this.dragSnapToOrigin=c,this.handlers=a,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const p=xr(n),m=_f(p,this.transformPagePoint),{point:g}=m,{timestamp:y}=pt;this.history=[{...g,timestamp:y}];const{onSessionStart:b}=a;b&&b(n,wf(m,this.history)),this.removeListeners=yr(nr(this.contextWindow,"pointermove",this.handlePointerMove),nr(this.contextWindow,"pointerup",this.handlePointerUp),nr(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(n){let a=n.parentElement;for(;a;){const s=getComputedStyle(a);(A0.has(s.overflowX)||A0.has(s.overflowY))&&this.scrollPositions.set(a,{x:a.scrollLeft,y:a.scrollTop}),a=a.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(n){const a=this.scrollPositions.get(n);if(!a)return;const s=n===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:n.scrollLeft,y:n.scrollTop},c={x:o.x-a.x,y:o.y-a.y};c.x===0&&c.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(n,o),Ne.update(this.updatePoint,!0))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Hn(this.updatePoint)}}function _f(t,n){return n?{point:n(t.point)}:t}function C0(t,n){return{x:t.x-n.x,y:t.y-n.y}}function wf({point:t},n){return{point:t,delta:C0(t,pb(n)),offset:C0(t,$C(n)),velocity:IC(n,.1)}}function $C(t){return t[0]}function pb(t){return t[t.length-1]}function IC(t,n){if(t.length<2)return{x:0,y:0};let a=t.length-1,s=null;const o=pb(t);for(;a>=0&&(s=t[a],!(o.timestamp-s.timestamp>ln(n)));)a--;if(!s)return{x:0,y:0};s===t[0]&&t.length>2&&o.timestamp-s.timestamp>ln(n)*2&&(s=t[1]);const c=Jt(o.timestamp-s.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-s.x)/c,y:(o.y-s.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function ZC(t,{min:n,max:a},s){return n!==void 0&&t<n?t=s?$e(n,t,s.min):Math.max(t,n):a!==void 0&&t>a&&(t=s?$e(a,t,s.max):Math.min(t,a)),t}function M0(t,n,a){return{min:n!==void 0?t.min+n:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function qC(t,{top:n,left:a,bottom:s,right:o}){return{x:M0(t.x,a,o),y:M0(t.y,n,s)}}function R0(t,n){let a=n.min-t.min,s=n.max-t.max;return n.max-n.min<t.max-t.min&&([a,s]=[s,a]),{min:a,max:s}}function GC(t,n){return{x:R0(t.x,n.x),y:R0(t.y,n.y)}}function YC(t,n){let a=.5;const s=St(t),o=St(n);return o>s?a=ar(n.min,n.max-s,t.min):s>o&&(a=ar(t.min,t.max-o,n.min)),vn(0,1,a)}function FC(t,n){const a={};return n.min!==void 0&&(a.min=n.min-t.min),n.max!==void 0&&(a.max=n.max-t.min),a}const id=.35;function XC(t=id){return t===!1?t=0:t===!0&&(t=id),{x:z0(t,"left","right"),y:z0(t,"top","bottom")}}function z0(t,n,a){return{min:D0(t,n),max:D0(t,a)}}function D0(t,n){return typeof t=="number"?t:t[n]||0}const KC=new WeakMap;class QC{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:a=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=y=>{a&&this.snapToCursor(xr(y).point),this.stopAnimation()},u=(y,b)=>{const{drag:S,dragPropagation:T,onDragStart:E}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AE(S),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pn(D=>{let j=this.getAxisMotionValue(D).get()||0;if(gn.test(j)){const{projection:C}=this.visualElement;if(C&&C.layout){const B=C.layout.layoutBox[D];B&&(j=St(B)*(parseFloat(j)/100))}}this.originPoint[D]=j}),E&&Ne.update(()=>E(y,b),!1,!0),Ff(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},d=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:E,onDrag:M}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:D}=b;if(T&&this.currentDirection===null){this.currentDirection=WC(D),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",b.point,D),this.updateAxis("y",b.point,D),this.visualElement.render(),M&&Ne.update(()=>M(y,b),!1,!0)},p=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b,this.stop(y,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:y}=this.getProps();(y||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:g}=this.getProps();this.panSession=new hb(n,{onSessionStart:c,onStart:u,onMove:d,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:db(this.visualElement),element:this.visualElement.current})}stop(n,a){const s=n||this.latestPointerEvent,o=a||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Ne.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:n,animationState:a}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(n,a,s){const{drag:o}=this.getProps();if(!s||!Go(n,o,this.currentDirection))return;const c=this.getAxisMotionValue(n);let u=this.originPoint[n]+s[n];this.constraints&&this.constraints[n]&&(u=ZC(u,this.constraints[n],this.elastic[n])),c.set(u)}resolveConstraints(){const{dragConstraints:n,dragElastic:a}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;n&&Ua(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=qC(s.layoutBox,n):this.constraints=!1,this.elastic=XC(a),o!==this.constraints&&!Ua(n)&&s&&this.constraints&&!this.hasMutatedConstraints&&pn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=FC(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:a}=this.getProps();if(!n||!Ua(n))return!1;const s=n.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=tA(s,o.root,this.visualElement.getTransformPagePoint());let u=GC(o.layout.layoutBox,c);if(a){const d=a(JE(u));this.hasMutatedConstraints=!!d,d&&(u=N1(d))}return u}startAnimation(n){const{drag:a,dragMomentum:s,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},m=pn(g=>{if(!Go(g,a,this.currentDirection))return;let y=p&&p[g]||{};u&&(y={min:0,max:0});const b=o?200:1e6,S=o?40:1e7,T={type:"inertia",velocity:s?n[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(g,T)});return Promise.all(m).then(d)}startAxisValueAnimation(n,a){const s=this.getAxisMotionValue(n);return Ff(this.visualElement,n),s.start(jd(n,s,0,a,this.visualElement,!1))}stopAnimation(){pn(n=>this.getAxisMotionValue(n).stop())}getAxisMotionValue(n){const a=`_drag${n.toUpperCase()}`,s=this.visualElement.getProps(),o=s[a];return o||this.visualElement.getValue(n,(s.initial?s.initial[n]:void 0)||0)}snapToCursor(n){pn(a=>{const{drag:s}=this.getProps();if(!Go(a,s,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(a);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[a],p=c.get()||0;c.set(n[a]-$e(u,d,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:a}=this.getProps(),{projection:s}=this.visualElement;if(!Ua(a)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};pn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const p=d.get();o[u]=YC({min:p,max:p},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),pn(u=>{if(!Go(u,n,null))return;const d=this.getAxisMotionValue(u),{min:p,max:m}=this.constraints[u];d.set($e(p,m,o[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;KC.set(this.visualElement,this);const n=this.visualElement.current,a=nr(n,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps(),b=m.target,S=b!==n&&OE(b);g&&y&&!S&&this.start(m)});let s;const o=()=>{const{dragConstraints:m}=this.getProps();Ua(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),s||(s=JC(n,m.current,()=>this.scalePositionWithinConstraints())))},{projection:c}=this.visualElement,u=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Ne.read(o);const d=lr(window,"resize",()=>this.scalePositionWithinConstraints()),p=c.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(pn(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=m[y].translate,b.set(b.get()+m[y].translate))}),this.visualElement.render())}));return()=>{d(),a(),u(),p&&p(),s&&s()}}getProps(){const n=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=id,dragMomentum:d=!0}=n;return{...n,drag:a,dragDirectionLock:s,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:d}}}function O0(t){let n=!0;return()=>{if(n){n=!1;return}t()}}function JC(t,n,a){const s=By(t,O0(a)),o=By(n,O0(a));return()=>{s(),o()}}function Go(t,n,a){return(n===!0||n===t)&&(a===null||a===t)}function WC(t,n=10){let a=null;return Math.abs(t.y)>n?a="y":Math.abs(t.x)>n&&(a="x"),a}class e5 extends yi{constructor(n){super(n),this.removeGroupControls=Wt,this.removeListeners=Wt,this.controls=new QC(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wt}update(){const{dragControls:n}=this.node.getProps(),{dragControls:a}=this.node.prevProps||{};n!==a&&(this.removeGroupControls(),n&&(this.removeGroupControls=n.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Tf=t=>(n,a)=>{t&&Ne.update(()=>t(n,a),!1,!0)};class t5 extends yi{constructor(){super(...arguments),this.removePointerDownListener=Wt}onPointerDown(n){this.session=new hb(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:db(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:a,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Tf(n),onStart:Tf(a),onMove:Tf(s),onEnd:(c,u)=>{delete this.session,o&&Ne.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=nr(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ef=!1;class n5 extends w.Component{componentDidMount(){const{visualElement:n,layoutGroup:a,switchLayoutGroup:s,layoutId:o}=this.props,{projection:c}=n;c&&(a.group&&a.group.add(c),s&&s.register&&o&&s.register(c),Ef&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),sl.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:a,visualElement:s,drag:o,isPresent:c}=this.props,{projection:u}=s;return u&&(u.isPresent=c,n.layoutDependency!==a&&u.setOptions({...u.options,layoutDependency:a}),Ef=!0,o||n.layoutDependency!==a||a===void 0||n.isPresent!==c?u.willUpdate():this.safeToRemove(),n.isPresent!==c&&(c?u.promote():u.relegate()||Ne.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),Ud.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:a,switchLayoutGroup:s}=this.props,{projection:o}=n;Ef=!0,o&&(o.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function mb(t){const[n,a]=ib(),s=w.useContext(gd);return x.jsx(n5,{...t,layoutGroup:s,switchLayoutGroup:w.useContext(ub),isPresent:n,safeToRemove:a})}const i5={pan:{Feature:t5},drag:{Feature:e5,ProjectionNode:nb,MeasureLayout:mb}};function j0(t,n,a){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",a==="Start");const o="onHover"+a,c=s[o];c&&Ne.postRender(()=>c(n,xr(n)))}class a5 extends yi{mount(){const{current:n}=this.node;n&&(this.unmount=ME(n,(a,s)=>(j0(this.node,s,"Start"),o=>j0(this.node,o,"End"))))}unmount(){}}class s5 extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yr(lr(this.node.current,"focus",()=>this.onFocus()),lr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function k0(t,n,a){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",a==="Start");const o="onTap"+(a==="End"?"":a),c=s[o];c&&Ne.postRender(()=>c(n,xr(n)))}class r5 extends yi{mount(){const{current:n}=this.node;if(!n)return;const{globalTapTarget:a,propagate:s}=this.node.props;this.unmount=kE(n,(o,c)=>(k0(this.node,c,"Start"),(u,{success:d})=>k0(this.node,u,d?"End":"Cancel")),{useGlobalTarget:a,stopPropagation:s?.tap===!1})}unmount(){}}const ad=new WeakMap,Af=new WeakMap,o5=t=>{const n=ad.get(t.target);n&&n(t)},l5=t=>{t.forEach(o5)};function c5({root:t,...n}){const a=t||document;Af.has(a)||Af.set(a,{});const s=Af.get(a),o=JSON.stringify(n);return s[o]||(s[o]=new IntersectionObserver(l5,{root:t,...n})),s[o]}function u5(t,n,a){const s=c5(n);return ad.set(t,a),s.observe(t),()=>{ad.delete(t),s.unobserve(t)}}const f5={some:0,all:1};class d5 extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:a,margin:s,amount:o="some",once:c}=n,u={root:a?a.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:f5[o]},d=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),b=m?g:y;b&&b(p)};return u5(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:a}=this.node;["amount","margin","root"].some(h5(n,a))&&this.startObserver()}unmount(){}}function h5({viewport:t={}},{viewport:n={}}={}){return a=>t[a]!==n[a]}const p5={inView:{Feature:d5},tap:{Feature:r5},focus:{Feature:s5},hover:{Feature:a5}},m5={layout:{ProjectionNode:nb,MeasureLayout:mb}},g5={...BC,...p5,...i5,...m5},te=kC(g5,NC);function sd(t){const n=Tl(()=>qi(t)),{isStatic:a}=w.useContext(Ml);if(a){const[,s]=w.useState(t);w.useEffect(()=>n.on("change",s),[])}return n}function y5(t,n){const a=sd(n()),s=()=>a.set(n());return s(),yd(()=>{const o=()=>Ne.preRender(s,!1,!0),c=t.map(u=>u.on("change",o));return()=>{c.forEach(u=>u()),Hn(s)}}),a}function v5(t,...n){const a=t.length;function s(){let o="";for(let c=0;c<a;c++){o+=t[c];const u=n[c];u&&(o+=lt(u)?u.get():u)}return o}return y5(n.filter(lt),s)}const gb=(...t)=>t.filter((n,a,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===a).join(" ").trim();const b5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const x5=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,s)=>s?s.toUpperCase():a.toLowerCase());const N0=t=>{const n=x5(t);return n.charAt(0).toUpperCase()+n.slice(1)};var S5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _5=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};const w5=w.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:u,...d},p)=>w.createElement("svg",{ref:p,...S5,width:n,height:n,stroke:t,strokeWidth:s?Number(a)*24/Number(n):a,className:gb("lucide",o),...!c&&!_5(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,g])=>w.createElement(m,g)),...Array.isArray(c)?c:[c]]));const Le=(t,n)=>{const a=w.forwardRef(({className:s,...o},c)=>w.createElement(w5,{ref:c,iconNode:n,className:gb(`lucide-${b5(N0(t))}`,`lucide-${t}`,s),...o}));return a.displayName=N0(t),a};const T5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],E5=Le("arrow-left",T5);const A5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yb=Le("arrow-right",A5);const C5=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],vb=Le("brain",C5);const M5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],cr=Le("camera",M5);const R5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],L0=Le("chart-column",R5);const z5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],D5=Le("check",z5);const O5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],j5=Le("chevron-down",O5);const k5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],N5=Le("chevron-up",k5);const L5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],U0=Le("circle-check",L5);const U5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],V5=Le("clock",U5);const B5=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]],H5=Le("flip-horizontal",B5);const P5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],$5=Le("lightbulb",P5);const I5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Z5=Le("loader-circle",I5);const q5=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],G5=Le("message-square",q5);const Y5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],V0=Le("refresh-cw",Y5);const F5=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],X5=Le("scan-line",F5);const K5=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Q5=Le("scan",K5);const J5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],W5=Le("search",J5);const eM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],tM=Le("shield-alert",eM);const nM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gd=Le("shield-check",nM);const iM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sr=Le("sparkles",iM);const aM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sM=Le("trash-2",aM);const rM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cf=Le("triangle-alert",rM);const oM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bb=Le("users",oM);const lM=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],cM=Le("wand-sparkles",lM);const uM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fM=Le("x",uM);const dM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hM=Le("zap",dM);function pM(){const t=Fa();return x.jsx(te.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,y:-20},transition:{duration:.5},style:{justifyContent:"center",gap:"48px"},children:x.jsxs("div",{className:"screen-content",style:{alignItems:"center",textAlign:"center",gap:"40px"},children:[x.jsxs(te.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.8,ease:[.16,1,.3,1]},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[x.jsxs(te.div,{className:"animate-pulse-glow",style:{width:96,height:96,borderRadius:"28px",background:"linear-gradient(135deg, var(--lymbic-purple), var(--lymbic-purple-deep))",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[x.jsx(Sr,{size:44,color:"white",strokeWidth:1.5}),x.jsx("div",{style:{position:"absolute",inset:-4,borderRadius:"32px",border:"2px solid rgba(124, 58, 237, 0.3)",animation:"pulse-glow 3s ease-in-out infinite"}})]}),x.jsx(te.h1,{className:"text-hero",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"3rem",letterSpacing:"-0.04em"},children:x.jsx("span",{className:"text-gradient",children:"Lymbic"})})]}),x.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},style:{display:"flex",flexDirection:"column",gap:"12px"},children:[x.jsx("p",{className:"text-heading",style:{color:"var(--text-primary)",fontWeight:500},children:"Grading, reimagined."}),x.jsx("p",{className:"text-body",style:{color:"var(--text-muted)",maxWidth:"320px"},children:"AI that reads how your students think  not just what they write."})]}),x.jsx(te.button,{className:"btn-primary",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1,duration:.5},whileHover:{scale:1.04},whileTap:{scale:.97},onClick:()=>t("/onboarding"),style:{padding:"16px 48px",fontSize:"1.1rem"},children:"Get Started"}),x.jsx(te.p,{className:"text-small",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4,duration:.5},style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:"Trusted by educators worldwide"})]})})}function mM({onNext:t}){const{data:n,updateData:a}=Fi(),[s,o]=w.useState(n.teacherName),c=w.useRef(null);w.useEffect(()=>{const d=setTimeout(()=>c.current?.focus(),600);return()=>clearTimeout(d)},[]);const u=d=>{d.preventDefault(),s.trim()&&(a({teacherName:s.trim()}),t())};return x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[x.jsx("div",{style:{width:40,height:40,borderRadius:12,background:"linear-gradient(135deg, var(--lymbic-purple), var(--lymbic-purple-deep))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:x.jsx(Sr,{size:20,color:"white",strokeWidth:1.5})}),x.jsx("span",{className:"text-small",style:{color:"var(--text-muted)",fontWeight:600},children:"LYMBIC"})]}),x.jsxs("div",{className:"chat-bubble chat-bubble-ai",children:[x.jsxs("p",{style:{marginBottom:"8px"},children:["Hey there!  I'm ",x.jsx("strong",{style:{color:"var(--lymbic-purple-light)"},children:"Lymbic"}),"."]}),x.jsx("p",{style:{marginBottom:"8px"},children:"I'm here to take that grading pile off your plate so you can actually enjoy your evening."}),x.jsxs("p",{children:["Before we start  ",x.jsx("strong",{children:"what should I call you?"})]})]}),x.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[x.jsx("input",{ref:c,type:"text",className:"input-field",placeholder:"Your name...",value:s,onChange:d=>o(d.target.value),autoComplete:"off"}),x.jsx(te.button,{type:"submit",className:"btn-primary",whileHover:{scale:1.03},whileTap:{scale:.97},style:{opacity:s.trim()?1:.4,pointerEvents:s.trim()?"auto":"none",width:"100%"},children:"Continue"})]})]})}const Ks=["Math","Physics","English","History","Chemistry","Biology","Art","Law","Economics","Computer Science"];function gM({onNext:t}){const{data:n,updateData:a}=Fi(),[s,o]=w.useState(n.subject),[c,u]=w.useState(""),[d,p]=w.useState(Ks),m=w.useRef(null);w.useEffect(()=>{if(!c.trim()){p(Ks);return}const S=c.toLowerCase(),T=Ks.filter(M=>M.toLowerCase().includes(S));p(T);const E=Ks.find(M=>M.toLowerCase()===S);o(E||"")},[c]);const g=S=>{o(S),u(""),a({subject:S}),t()},y=()=>{const S=c.trim();S&&(a({subject:S}),t())},b=()=>{a({subject:"General"}),t()};return x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"28px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[x.jsx("div",{style:{width:40,height:40,borderRadius:12,background:"linear-gradient(135deg, var(--lymbic-purple), var(--lymbic-purple-deep))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:x.jsx(Sr,{size:20,color:"white",strokeWidth:1.5})}),x.jsx("span",{className:"text-small",style:{color:"var(--text-muted)",fontWeight:600},children:"LYMBIC"})]}),x.jsxs("div",{className:"chat-bubble chat-bubble-ai",children:[x.jsxs("p",{style:{marginBottom:"8px"},children:["Nice to meet you, ",x.jsx("strong",{style:{color:"var(--lymbic-purple-light)"},children:n.teacherName||"there"}),"! "]}),x.jsxs("p",{children:["To tune my brain  ",x.jsx("strong",{children:"what are we grading today?"})," Pick a preset or type anything."]})]}),x.jsx(Rt,{mode:"popLayout",children:x.jsxs("div",{className:"chip-grid",style:{minHeight:40},children:[d.map(S=>x.jsx(te.button,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:`chip ${s===S?"active":""}`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(S),children:S},S)),d.length===0&&c.trim()&&x.jsx(te.p,{initial:{opacity:0},animate:{opacity:1},style:{color:"var(--text-muted)",fontSize:"0.85rem",padding:"4px 0"},children:"No preset for that  no problem! "})]})}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[x.jsx("input",{ref:m,type:"text",className:"input-field",placeholder:'Or type anything  "Creative Writing," "Law," "Theology"...',value:c,onChange:S=>u(S.target.value),onKeyDown:S=>{S.key==="Enter"&&y()},autoComplete:"off"}),x.jsx(Rt,{children:c.trim()&&!Ks.find(S=>S.toLowerCase()===c.trim().toLowerCase())&&x.jsxs(te.button,{initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:0},exit:{opacity:0,height:0},transition:{duration:.25},className:"btn-primary",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:y,style:{width:"100%",overflow:"hidden"},children:['Use "',x.jsx("strong",{children:c.trim()}),'"']})})]}),x.jsxs(te.button,{className:"btn-secondary",whileHover:{scale:1.02},whileTap:{scale:.97},onClick:b,style:{width:"100%",gap:"8px",fontSize:"0.9rem"},children:[x.jsx(cM,{size:16})," Not sure  let Lymbic detect it"]})]})}function yM({onNext:t}){const{data:n,updateData:a}=Fi(),[s,o]=w.useState(n.intent),c=u=>{o(u),a({intent:u}),setTimeout(t,400)};return x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[x.jsx("div",{style:{width:40,height:40,borderRadius:12,background:"linear-gradient(135deg, var(--lymbic-purple), var(--lymbic-purple-deep))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:x.jsx(Sr,{size:20,color:"white",strokeWidth:1.5})}),x.jsx("span",{className:"text-small",style:{color:"var(--text-muted)",fontWeight:600},children:"LYMBIC"})]}),x.jsxs("div",{className:"chat-bubble chat-bubble-ai",children:[x.jsxs("p",{style:{marginBottom:"8px"},children:["Got it  ",x.jsx("strong",{style:{color:"var(--lymbic-purple-light)"},children:n.subject}),". "]}),x.jsxs("p",{children:["What's the biggest headache with this batch? Are you looking for a ",x.jsx("strong",{children:"quick grade"}),", or do you want me to find exactly ",x.jsx("strong",{children:"where students are getting stuck"}),"?"]})]}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[x.jsxs(te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c("quick"),className:"glass-card-elevated",style:{display:"flex",alignItems:"center",gap:"16px",cursor:"pointer",textAlign:"left",border:s==="quick"?"2px solid var(--lymbic-purple)":"1px solid rgba(124, 58, 237, 0.2)",transition:"all 0.25s ease"},children:[x.jsx("div",{style:{width:52,height:52,borderRadius:16,background:"linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0.05))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:x.jsx(hM,{size:24,color:"#FBBF24"})}),x.jsxs("div",{children:[x.jsx("p",{style:{fontWeight:600,fontSize:"1.05rem",marginBottom:"4px"},children:"Quick Grade"}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.85rem",lineHeight:1.4},children:"Get scores fast. I'll check answers against the key and hand you the results."})]})]}),x.jsxs(te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c("deep"),className:"glass-card-elevated",style:{display:"flex",alignItems:"center",gap:"16px",cursor:"pointer",textAlign:"left",border:s==="deep"?"2px solid var(--logic-green)":"1px solid rgba(124, 58, 237, 0.2)",transition:"all 0.25s ease"},children:[x.jsx("div",{style:{width:52,height:52,borderRadius:16,background:"linear-gradient(135deg, rgba(52, 211, 153, 0.2), rgba(52, 211, 153, 0.05))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:x.jsx(W5,{size:24,color:"#34D399"})}),x.jsxs("div",{children:[x.jsx("p",{style:{fontWeight:600,fontSize:"1.05rem",marginBottom:"4px"},children:"Find Where They're Stuck"}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.85rem",lineHeight:1.4},children:"Deep analysis. I'll trace every student's logic and pinpoint where their reasoning breaks."})]})]})]})]})}const vM=[{icon:X5,color:"#A78BFA",title:"Scan the answer key",desc:"Show me the rubric or correct answers first."},{icon:vb,color:"#34D399",title:"Scan student work",desc:"I'll read every line  even the scratchpad."},{icon:Gd,color:"#60A5FA",title:"Instant anonymization",desc:"Names are stripped and blurred automatically."}];function bM({onNext:t}){const{data:n}=Fi();return x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[x.jsx("div",{style:{width:40,height:40,borderRadius:12,background:"linear-gradient(135deg, var(--lymbic-purple), var(--lymbic-purple-deep))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:x.jsx(Sr,{size:20,color:"white",strokeWidth:1.5})}),x.jsx("span",{className:"text-small",style:{color:"var(--text-muted)",fontWeight:600},children:"LYMBIC"})]}),x.jsxs("div",{className:"chat-bubble chat-bubble-ai",children:[x.jsxs("p",{style:{marginBottom:"8px"},children:["Perfect, ",n.teacherName||"friend",". I'm ready. "]}),x.jsx("p",{children:"Here's how we'll do it:"})]}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:vM.map((a,s)=>x.jsxs(te.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.2+s*.2,duration:.5,ease:[.16,1,.3,1]},className:"glass-card",style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px 18px"},children:[x.jsx("div",{style:{width:40,height:40,borderRadius:12,background:`${a.color}15`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:x.jsx(a.icon,{size:20,color:a.color})}),x.jsxs("div",{children:[x.jsx("p",{style:{fontWeight:600,fontSize:"0.95rem",marginBottom:"2px"},children:a.title}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:a.desc})]})]},s))}),x.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",background:"rgba(52, 211, 153, 0.08)",borderRadius:"var(--radius-md)",border:"1px solid rgba(52, 211, 153, 0.2)"},children:[x.jsx(Gd,{size:16,color:"var(--logic-green)"}),x.jsx("span",{style:{color:"var(--logic-green)",fontSize:"0.8rem",fontWeight:500},children:"Student names are always anonymized before storage."})]}),x.jsxs(te.button,{className:"btn-primary",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.2},whileHover:{scale:1.03},whileTap:{scale:.97},onClick:t,style:{width:"100%",gap:"8px"},children:["Let's Go ",x.jsx(yb,{size:18})]})]})}const Mf=4;function xM(){const[t,n]=w.useState(1),a=Fa(),s=()=>{t<Mf?n(t+1):a("/grade")},o=()=>{t>1&&n(t-1)},c=t/Mf*100,u={enter:{opacity:0,x:40},center:{opacity:1,x:0},exit:{opacity:0,x:-40}},d=()=>{switch(t){case 1:return x.jsx(mM,{onNext:s},"s1");case 2:return x.jsx(gM,{onNext:s},"s2");case 3:return x.jsx(yM,{onNext:s},"s3");case 4:return x.jsx(bM,{onNext:s},"s4");default:return null}};return x.jsxs(te.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},style:{justifyContent:"flex-start",paddingTop:"24px"},children:[x.jsx("div",{className:"progress-bar",children:x.jsx(te.div,{className:"progress-bar-fill",initial:{width:0},animate:{width:`${c}%`},transition:{duration:.5,ease:[.16,1,.3,1]}})}),x.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"32px",marginTop:"16px",alignItems:"center"},children:Array.from({length:Mf},(p,m)=>x.jsx(te.div,{animate:{width:m+1===t?24:8,backgroundColor:m+1<=t?"var(--lymbic-purple)":"var(--surface-card)"},transition:{duration:.3},style:{height:8,borderRadius:4}},m))}),x.jsx("div",{className:"screen-content",style:{flex:1,justifyContent:"center"},children:x.jsx(Rt,{mode:"wait",children:x.jsx(te.div,{variants:u,initial:"enter",animate:"center",exit:"exit",transition:{duration:.35,ease:[.16,1,.3,1]},style:{width:"100%",display:"flex",flexDirection:"column",gap:"24px"},children:d()},t)})}),t>1&&x.jsx(te.button,{className:"btn-secondary",initial:{opacity:0},animate:{opacity:1},onClick:o,style:{position:"fixed",bottom:"24px",left:"24px",padding:"10px 20px",fontSize:"0.9rem"},children:"Back"})]})}function SM(){const t=Fa(),{data:n}=Fi(),a=n.subject||"Physics Midterms",s=n.studentCount||30;return x.jsx(te.div,{className:"screen",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},style:{justifyContent:"center"},children:x.jsxs("div",{className:"screen-content",style:{gap:"40px",textAlign:"center"},children:[x.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},style:{display:"flex",flexDirection:"column",gap:"16px"},children:[x.jsxs("p",{className:"text-caption",style:{color:"var(--text-muted)"},children:["Ready when you are, ",n.teacherName||"Teacher"]}),x.jsxs("h1",{className:"text-hero",style:{fontSize:"2.2rem"},children:["Grade your"," ",x.jsx("span",{className:"text-gradient",children:a})," ","today."]})]}),x.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"glass-card",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"24px",padding:"16px 24px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx(bb,{size:16,color:"var(--text-muted)"}),x.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[x.jsx("strong",{style:{color:"var(--text-primary)"},children:s})," students"]})]}),x.jsx("div",{style:{width:1,height:20,background:"var(--surface-glass-border)"}}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx(V5,{size:16,color:"var(--text-muted)"}),x.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[x.jsx("strong",{style:{color:"var(--grade-d)"},children:"~5 hrs"})," manually"]})]}),x.jsx("div",{style:{width:1,height:20,background:"var(--surface-glass-border)"}}),x.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:x.jsx("span",{style:{color:"var(--logic-green)",fontSize:"0.9rem",fontWeight:600},children:"~5 min with Lymbic"})})]}),x.jsxs(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7,duration:.6,ease:[.16,1,.3,1]},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",position:"relative"},children:[x.jsx("div",{style:{position:"absolute",width:160,height:160,borderRadius:"50%",border:"2px solid rgba(124, 58, 237, 0.2)",animation:"pulse-glow 3s ease-in-out infinite"}}),x.jsx("div",{style:{position:"absolute",width:200,height:200,borderRadius:"50%",border:"1px solid rgba(124, 58, 237, 0.1)",animation:"pulse-glow 3s ease-in-out infinite 0.5s"}}),x.jsx(te.button,{whileHover:{scale:1.08},whileTap:{scale:.95},onClick:()=>t("/scan"),style:{width:120,height:120,borderRadius:"50%",background:"linear-gradient(135deg, var(--lymbic-purple), var(--lymbic-purple-deep))",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 0 40px var(--lymbic-purple-glow), 0 0 80px rgba(124, 58, 237, 0.15)",position:"relative",zIndex:1},children:x.jsx(cr,{size:48,color:"white",strokeWidth:1.5})}),x.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.95rem",fontWeight:500},children:"Tap the camera to get started"})]}),x.jsxs(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1},className:"badge badge-green",style:{alignSelf:"center",padding:"8px 16px",gap:"6px"},children:[x.jsx(Gd,{size:14}),x.jsx("span",{children:"Anonymization Active  Names stripped automatically"})]})]})})}function Pt({children:t,variant:n="primary",className:a="",style:s={},onClick:o,disabled:c=!1,icon:u,testId:d}){const{motion:p,expression:m,canUseParticles:g,shouldReduceMotion:y}=gr(),b=w.useRef(null),S=()=>{const T={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"var(--space-sm)",padding:"var(--space-md) var(--space-xl)",borderRadius:"var(--radius-full)",fontSize:"1rem",fontWeight:600,cursor:c?"not-allowed":"pointer",opacity:c?.6:1,position:"relative",overflow:"hidden",border:"none",outline:"none",...s};return n==="primary"?{...T,background:`linear-gradient(135deg, hsl(${m.primaryHue}, ${m.saturation}%, 60%), hsl(${m.primaryHue}, ${m.saturation}%, 40%))`,color:"white",boxShadow:`0 4px 20px hsla(${m.primaryHue}, ${m.saturation}%, 60%, 0.4)`}:n==="secondary"?{...T,background:"transparent",border:`1px solid hsla(${m.primaryHue}, 30%, 50%, 0.3)`,color:`hsl(${m.primaryHue}, 20%, 80%)`}:{...T,background:"transparent",color:`hsl(${m.primaryHue}, 20%, 80%)`,padding:"var(--space-sm) var(--space-md)"}};return x.jsxs(te.button,{ref:b,className:`adaptive-btn ${a}`,style:S(),whileHover:c?{}:p.buttonHover,whileTap:c?{}:p.buttonPress,onClick:o,disabled:c,"data-testid":d,children:[!c&&!y&&g&&n==="primary"&&x.jsx(te.div,{className:"btn-shimmer",style:{position:"absolute",inset:0,background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)",width:"200%",x:"-100%"},animate:{x:"200%"},transition:{duration:2,repeat:1/0,ease:"linear",repeatDelay:3}}),u&&x.jsx(u,{size:20}),x.jsx("span",{style:{position:"relative",zIndex:2},children:t})]})}function _M({onComplete:t}){const[n,a]=w.useState(0),[s,o]=w.useState(""),[c,u]=w.useState(!1),[d,p]=w.useState([]),m=5e3,g=[{y:8,type:"name",left:"5%",width:"40%",height:"5%"},{y:28,type:"scratch",left:"55%",width:"35%",height:"12%"},{y:48,type:"scratch",left:"8%",width:"42%",height:"8%"},{y:68,type:"error",left:"10%",width:"50%",height:"6%"},{y:82,type:"answer",left:"8%",width:"45%",height:"6%"}];return w.useEffect(()=>{const y=Date.now(),b=[{at:5,msg:"Detecting document structure..."},{at:10,msg:"Identifying name region..."},{at:15,msg:" Anonymizing student identity..."},{at:25,msg:"Reading problem statement..."},{at:35,msg:"Tracing main solution path..."},{at:45,msg:"Analyzing scratchpad work..."},{at:55,msg:"Detecting reasoning divergence..."},{at:65,msg:" Sign error detected at Step 3..."},{at:75,msg:"Mapping logic trace to answer key..."},{at:85,msg:"Generating feedback..."},{at:95,msg:"Finalizing digital twin..."}];let S=0;const T=setInterval(()=>{const E=Date.now()-y,M=Math.min(E/m*100,100);for(a(M);S<b.length&&M>=b[S].at;)o(b[S].msg),S++;M>=12&&!c&&u(!0);const D=[];g.forEach((j,C)=>{M>=j.y&&j.type!=="name"&&D.push(C)}),p(D),M>=100&&(clearInterval(T),setTimeout(t,500))},30);return()=>clearInterval(T)},[t]),x.jsxs("div",{style:{position:"absolute",inset:0,pointerEvents:"none",overflow:"hidden",zIndex:8},children:[x.jsx(te.div,{style:{position:"absolute",left:0,right:0,top:`${n}%`,height:"3px",background:"linear-gradient(90deg, transparent, var(--lymbic-purple), var(--lymbic-purple-light), var(--lymbic-purple), transparent)",boxShadow:"0 0 20px var(--lymbic-purple-glow), 0 0 40px rgba(124, 58, 237, 0.2)",zIndex:10}}),x.jsx("div",{style:{position:"absolute",left:0,right:0,top:0,height:`${n}%`,background:"rgba(124, 58, 237, 0.06)",transition:"height 0.03s linear"}}),c&&x.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{position:"absolute",top:`${g[0].y}%`,left:g[0].left,width:g[0].width,height:g[0].height,backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",background:"rgba(124, 58, 237, 0.2)",borderRadius:"6px",border:"1.5px solid rgba(124, 58, 237, 0.4)",display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx("span",{style:{fontSize:"0.6rem",fontWeight:700,color:"var(--lymbic-purple-light)",letterSpacing:"0.12em",textTransform:"uppercase"},children:" ANONYMIZED"})}),d.map(y=>{const b=g[y],S=b.type==="answer"||b.type==="error";return x.jsx(te.div,{initial:{opacity:0,scale:.92},animate:{opacity:1,scale:1},transition:{duration:.4,ease:[.16,1,.3,1]},style:{position:"absolute",top:`${b.y}%`,left:b.left,width:b.width,height:b.height,borderRadius:"6px",border:`1.5px solid ${S?"rgba(239, 68, 68, 0.6)":"rgba(52, 211, 153, 0.5)"}`,background:S?"rgba(239, 68, 68, 0.08)":"rgba(52, 211, 153, 0.08)",boxShadow:S?"0 0 16px rgba(239, 68, 68, 0.2), inset 0 0 8px rgba(239, 68, 68, 0.05)":"0 0 16px rgba(52, 211, 153, 0.15), inset 0 0 8px rgba(52, 211, 153, 0.03)"}},y)}),s&&x.jsxs(te.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},style:{position:"absolute",bottom:16,left:16,right:16,padding:"10px 14px",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",borderRadius:"10px",border:"1px solid rgba(124, 58, 237, 0.2)",display:"flex",alignItems:"center",gap:"10px"},children:[x.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:"var(--lymbic-purple)",boxShadow:"0 0 10px var(--lymbic-purple-glow)",animation:"pulse-glow 1.5s ease-in-out infinite",flexShrink:0}}),x.jsx("span",{style:{color:"rgba(255,255,255,0.9)",fontSize:"0.72rem",fontWeight:500,fontFamily:"'Inter', monospace"},children:s})]},s)]})}const wM="modulepreload",TM=function(t){return"/"+t},B0={},Rf=function(n,a,s){let o=Promise.resolve();if(a&&a.length>0){let m=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");o=m(a.map(g=>{if(g=TM(g),g in B0)return;B0[g]=!0;const y=g.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":wM,y||(S.as="script"),S.crossOrigin="",S.href=g,p&&S.setAttribute("nonce",p),document.head.appendChild(S),y)return new Promise((T,E)=>{S.addEventListener("load",T),S.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return n().catch(c)})};function q(t,n,a){function s(d,p){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:p,constr:u,traits:new Set},enumerable:!1}),d._zod.traits.has(t))return;d._zod.traits.add(t),n(d,p);const m=u.prototype,g=Object.keys(m);for(let y=0;y<g.length;y++){const b=g[y];b in d||(d[b]=m[b].bind(d))}}const o=a?.Parent??Object;class c extends o{}Object.defineProperty(c,"name",{value:t});function u(d){var p;const m=a?.Parent?new c:this;s(m,d),(p=m._zod).deferred??(p.deferred=[]);for(const g of m._zod.deferred)g();return m}return Object.defineProperty(u,"init",{value:s}),Object.defineProperty(u,Symbol.hasInstance,{value:d=>a?.Parent&&d instanceof a.Parent?!0:d?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class qa extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class xb extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const Sb={};function Gi(t){return Sb}function _b(t){const n=Object.values(t).filter(s=>typeof s=="number");return Object.entries(t).filter(([s,o])=>n.indexOf(+s)===-1).map(([s,o])=>o)}function rd(t,n){return typeof n=="bigint"?n.toString():n}function Yd(t){return{get value(){{const n=t();return Object.defineProperty(this,"value",{value:n}),n}}}}function Fd(t){return t==null}function Xd(t){const n=t.startsWith("^")?1:0,a=t.endsWith("$")?t.length-1:t.length;return t.slice(n,a)}function EM(t,n){const a=(t.toString().split(".")[1]||"").length,s=n.toString();let o=(s.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(s)){const p=s.match(/\d?e-(\d?)/);p?.[1]&&(o=Number.parseInt(p[1]))}const c=a>o?a:o,u=Number.parseInt(t.toFixed(c).replace(".","")),d=Number.parseInt(n.toFixed(c).replace(".",""));return u%d/10**c}const H0=Symbol("evaluating");function ze(t,n,a){let s;Object.defineProperty(t,n,{get(){if(s!==H0)return s===void 0&&(s=H0,s=a()),s},set(o){Object.defineProperty(t,n,{value:o})},configurable:!0})}function Xi(t,n,a){Object.defineProperty(t,n,{value:a,writable:!0,enumerable:!0,configurable:!0})}function vi(...t){const n={};for(const a of t){const s=Object.getOwnPropertyDescriptors(a);Object.assign(n,s)}return Object.defineProperties({},n)}function P0(t){return JSON.stringify(t)}function AM(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const wb="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function gl(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const CM=Yd(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ur(t){if(gl(t)===!1)return!1;const n=t.constructor;if(n===void 0||typeof n!="function")return!0;const a=n.prototype;return!(gl(a)===!1||Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")===!1)}function Tb(t){return ur(t)?{...t}:Array.isArray(t)?[...t]:t}const MM=new Set(["string","number","symbol"]);function zl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bi(t,n,a){const s=new t._zod.constr(n??t._zod.def);return(!n||a?.parent)&&(s._zod.parent=t),s}function re(t){const n=t;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function RM(t){return Object.keys(t).filter(n=>t[n]._zod.optin==="optional"&&t[n]._zod.optout==="optional")}const zM={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function DM(t,n){const a=t._zod.def,s=a.checks;if(s&&s.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const c=vi(t._zod.def,{get shape(){const u={};for(const d in n){if(!(d in a.shape))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(u[d]=a.shape[d])}return Xi(this,"shape",u),u},checks:[]});return bi(t,c)}function OM(t,n){const a=t._zod.def,s=a.checks;if(s&&s.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const c=vi(t._zod.def,{get shape(){const u={...t._zod.def.shape};for(const d in n){if(!(d in a.shape))throw new Error(`Unrecognized key: "${d}"`);n[d]&&delete u[d]}return Xi(this,"shape",u),u},checks:[]});return bi(t,c)}function jM(t,n){if(!ur(n))throw new Error("Invalid input to extend: expected a plain object");const a=t._zod.def.checks;if(a&&a.length>0){const c=t._zod.def.shape;for(const u in n)if(Object.getOwnPropertyDescriptor(c,u)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=vi(t._zod.def,{get shape(){const c={...t._zod.def.shape,...n};return Xi(this,"shape",c),c}});return bi(t,o)}function kM(t,n){if(!ur(n))throw new Error("Invalid input to safeExtend: expected a plain object");const a=vi(t._zod.def,{get shape(){const s={...t._zod.def.shape,...n};return Xi(this,"shape",s),s}});return bi(t,a)}function NM(t,n){const a=vi(t._zod.def,{get shape(){const s={...t._zod.def.shape,...n._zod.def.shape};return Xi(this,"shape",s),s},get catchall(){return n._zod.def.catchall},checks:[]});return bi(t,a)}function LM(t,n,a){const o=n._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const u=vi(n._zod.def,{get shape(){const d=n._zod.def.shape,p={...d};if(a)for(const m in a){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);a[m]&&(p[m]=t?new t({type:"optional",innerType:d[m]}):d[m])}else for(const m in d)p[m]=t?new t({type:"optional",innerType:d[m]}):d[m];return Xi(this,"shape",p),p},checks:[]});return bi(n,u)}function UM(t,n,a){const s=vi(n._zod.def,{get shape(){const o=n._zod.def.shape,c={...o};if(a)for(const u in a){if(!(u in c))throw new Error(`Unrecognized key: "${u}"`);a[u]&&(c[u]=new t({type:"nonoptional",innerType:o[u]}))}else for(const u in o)c[u]=new t({type:"nonoptional",innerType:o[u]});return Xi(this,"shape",c),c}});return bi(n,s)}function Ia(t,n=0){if(t.aborted===!0)return!0;for(let a=n;a<t.issues.length;a++)if(t.issues[a]?.continue!==!0)return!0;return!1}function Eb(t,n){return n.map(a=>{var s;return(s=a).path??(s.path=[]),a.path.unshift(t),a})}function Yo(t){return typeof t=="string"?t:t?.message}function Yi(t,n,a){const s={...t,path:t.path??[]};if(!t.message){const o=Yo(t.inst?._zod.def?.error?.(t))??Yo(n?.error?.(t))??Yo(a.customError?.(t))??Yo(a.localeError?.(t))??"Invalid input";s.message=o}return delete s.inst,delete s.continue,n?.reportInput||delete s.input,s}function Kd(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function fr(...t){const[n,a,s]=t;return typeof n=="string"?{message:n,code:"custom",input:a,inst:s}:{...n}}const Ab=(t,n)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:n,enumerable:!1}),t.message=JSON.stringify(n,rd,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Cb=q("$ZodError",Ab),Mb=q("$ZodError",Ab,{Parent:Error});function VM(t,n=a=>a.message){const a={},s=[];for(const o of t.issues)o.path.length>0?(a[o.path[0]]=a[o.path[0]]||[],a[o.path[0]].push(n(o))):s.push(n(o));return{formErrors:s,fieldErrors:a}}function BM(t,n=a=>a.message){const a={_errors:[]},s=o=>{for(const c of o.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(u=>s({issues:u}));else if(c.code==="invalid_key")s({issues:c.issues});else if(c.code==="invalid_element")s({issues:c.issues});else if(c.path.length===0)a._errors.push(n(c));else{let u=a,d=0;for(;d<c.path.length;){const p=c.path[d];d===c.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(n(c))):u[p]=u[p]||{_errors:[]},u=u[p],d++}}};return s(t),a}const Qd=t=>(n,a,s,o)=>{const c=s?Object.assign(s,{async:!1}):{async:!1},u=n._zod.run({value:a,issues:[]},c);if(u instanceof Promise)throw new qa;if(u.issues.length){const d=new(o?.Err??t)(u.issues.map(p=>Yi(p,c,Gi())));throw wb(d,o?.callee),d}return u.value},Jd=t=>async(n,a,s,o)=>{const c=s?Object.assign(s,{async:!0}):{async:!0};let u=n._zod.run({value:a,issues:[]},c);if(u instanceof Promise&&(u=await u),u.issues.length){const d=new(o?.Err??t)(u.issues.map(p=>Yi(p,c,Gi())));throw wb(d,o?.callee),d}return u.value},Dl=t=>(n,a,s)=>{const o=s?{...s,async:!1}:{async:!1},c=n._zod.run({value:a,issues:[]},o);if(c instanceof Promise)throw new qa;return c.issues.length?{success:!1,error:new(t??Cb)(c.issues.map(u=>Yi(u,o,Gi())))}:{success:!0,data:c.value}},HM=Dl(Mb),Ol=t=>async(n,a,s)=>{const o=s?Object.assign(s,{async:!0}):{async:!0};let c=n._zod.run({value:a,issues:[]},o);return c instanceof Promise&&(c=await c),c.issues.length?{success:!1,error:new t(c.issues.map(u=>Yi(u,o,Gi())))}:{success:!0,data:c.value}},PM=Ol(Mb),$M=t=>(n,a,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Qd(t)(n,a,o)},IM=t=>(n,a,s)=>Qd(t)(n,a,s),ZM=t=>async(n,a,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Jd(t)(n,a,o)},qM=t=>async(n,a,s)=>Jd(t)(n,a,s),GM=t=>(n,a,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Dl(t)(n,a,o)},YM=t=>(n,a,s)=>Dl(t)(n,a,s),FM=t=>async(n,a,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Ol(t)(n,a,o)},XM=t=>async(n,a,s)=>Ol(t)(n,a,s),KM=/^[cC][^\s-]{8,}$/,QM=/^[0-9a-z]+$/,JM=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,WM=/^[0-9a-vA-V]{20}$/,eR=/^[A-Za-z0-9]{27}$/,tR=/^[a-zA-Z0-9_-]{21}$/,nR=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,iR=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,$0=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,aR=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,sR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function rR(){return new RegExp(sR,"u")}const oR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,uR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fR=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Rb=/^[A-Za-z0-9_-]*$/,dR=/^\+[1-9]\d{6,14}$/,zb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",hR=new RegExp(`^${zb}$`);function Db(t){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${n}`:t.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${t.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function pR(t){return new RegExp(`^${Db(t)}$`)}function mR(t){const n=Db({precision:t.precision}),a=["Z"];t.local&&a.push(""),t.offset&&a.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${n}(?:${a.join("|")})`;return new RegExp(`^${zb}T(?:${s})$`)}const gR=t=>{const n=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},yR=/^-?\d+$/,vR=/^-?\d+(?:\.\d+)?$/,bR=/^(?:true|false)$/i,xR=/^[^A-Z]*$/,SR=/^[^a-z]*$/,zt=q("$ZodCheck",(t,n)=>{var a;t._zod??(t._zod={}),t._zod.def=n,(a=t._zod).onattach??(a.onattach=[])}),Ob={number:"number",bigint:"bigint",object:"date"},jb=q("$ZodCheckLessThan",(t,n)=>{zt.init(t,n);const a=Ob[typeof n.value];t._zod.onattach.push(s=>{const o=s._zod.bag,c=(n.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<c&&(n.inclusive?o.maximum=n.value:o.exclusiveMaximum=n.value)}),t._zod.check=s=>{(n.inclusive?s.value<=n.value:s.value<n.value)||s.issues.push({origin:a,code:"too_big",maximum:typeof n.value=="object"?n.value.getTime():n.value,input:s.value,inclusive:n.inclusive,inst:t,continue:!n.abort})}}),kb=q("$ZodCheckGreaterThan",(t,n)=>{zt.init(t,n);const a=Ob[typeof n.value];t._zod.onattach.push(s=>{const o=s._zod.bag,c=(n.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>c&&(n.inclusive?o.minimum=n.value:o.exclusiveMinimum=n.value)}),t._zod.check=s=>{(n.inclusive?s.value>=n.value:s.value>n.value)||s.issues.push({origin:a,code:"too_small",minimum:typeof n.value=="object"?n.value.getTime():n.value,input:s.value,inclusive:n.inclusive,inst:t,continue:!n.abort})}}),_R=q("$ZodCheckMultipleOf",(t,n)=>{zt.init(t,n),t._zod.onattach.push(a=>{var s;(s=a._zod.bag).multipleOf??(s.multipleOf=n.value)}),t._zod.check=a=>{if(typeof a.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof a.value=="bigint"?a.value%n.value===BigInt(0):EM(a.value,n.value)===0)||a.issues.push({origin:typeof a.value,code:"not_multiple_of",divisor:n.value,input:a.value,inst:t,continue:!n.abort})}}),wR=q("$ZodCheckNumberFormat",(t,n)=>{zt.init(t,n),n.format=n.format||"float64";const a=n.format?.includes("int"),s=a?"int":"number",[o,c]=zM[n.format];t._zod.onattach.push(u=>{const d=u._zod.bag;d.format=n.format,d.minimum=o,d.maximum=c,a&&(d.pattern=yR)}),t._zod.check=u=>{const d=u.value;if(a){if(!Number.isInteger(d)){u.issues.push({expected:s,format:n.format,code:"invalid_type",continue:!1,input:d,inst:t});return}if(!Number.isSafeInteger(d)){d>0?u.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,inclusive:!0,continue:!n.abort}):u.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,inclusive:!0,continue:!n.abort});return}}d<o&&u.issues.push({origin:"number",input:d,code:"too_small",minimum:o,inclusive:!0,inst:t,continue:!n.abort}),d>c&&u.issues.push({origin:"number",input:d,code:"too_big",maximum:c,inclusive:!0,inst:t,continue:!n.abort})}}),TR=q("$ZodCheckMaxLength",(t,n)=>{var a;zt.init(t,n),(a=t._zod.def).when??(a.when=s=>{const o=s.value;return!Fd(o)&&o.length!==void 0}),t._zod.onattach.push(s=>{const o=s._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<o&&(s._zod.bag.maximum=n.maximum)}),t._zod.check=s=>{const o=s.value;if(o.length<=n.maximum)return;const u=Kd(o);s.issues.push({origin:u,code:"too_big",maximum:n.maximum,inclusive:!0,input:o,inst:t,continue:!n.abort})}}),ER=q("$ZodCheckMinLength",(t,n)=>{var a;zt.init(t,n),(a=t._zod.def).when??(a.when=s=>{const o=s.value;return!Fd(o)&&o.length!==void 0}),t._zod.onattach.push(s=>{const o=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>o&&(s._zod.bag.minimum=n.minimum)}),t._zod.check=s=>{const o=s.value;if(o.length>=n.minimum)return;const u=Kd(o);s.issues.push({origin:u,code:"too_small",minimum:n.minimum,inclusive:!0,input:o,inst:t,continue:!n.abort})}}),AR=q("$ZodCheckLengthEquals",(t,n)=>{var a;zt.init(t,n),(a=t._zod.def).when??(a.when=s=>{const o=s.value;return!Fd(o)&&o.length!==void 0}),t._zod.onattach.push(s=>{const o=s._zod.bag;o.minimum=n.length,o.maximum=n.length,o.length=n.length}),t._zod.check=s=>{const o=s.value,c=o.length;if(c===n.length)return;const u=Kd(o),d=c>n.length;s.issues.push({origin:u,...d?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:s.value,inst:t,continue:!n.abort})}}),jl=q("$ZodCheckStringFormat",(t,n)=>{var a,s;zt.init(t,n),t._zod.onattach.push(o=>{const c=o._zod.bag;c.format=n.format,n.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(n.pattern))}),n.pattern?(a=t._zod).check??(a.check=o=>{n.pattern.lastIndex=0,!n.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:n.format,input:o.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:t,continue:!n.abort})}):(s=t._zod).check??(s.check=()=>{})}),CR=q("$ZodCheckRegex",(t,n)=>{jl.init(t,n),t._zod.check=a=>{n.pattern.lastIndex=0,!n.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:"regex",input:a.value,pattern:n.pattern.toString(),inst:t,continue:!n.abort})}}),MR=q("$ZodCheckLowerCase",(t,n)=>{n.pattern??(n.pattern=xR),jl.init(t,n)}),RR=q("$ZodCheckUpperCase",(t,n)=>{n.pattern??(n.pattern=SR),jl.init(t,n)}),zR=q("$ZodCheckIncludes",(t,n)=>{zt.init(t,n);const a=zl(n.includes),s=new RegExp(typeof n.position=="number"?`^.{${n.position}}${a}`:a);n.pattern=s,t._zod.onattach.push(o=>{const c=o._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),t._zod.check=o=>{o.value.includes(n.includes,n.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:o.value,inst:t,continue:!n.abort})}}),DR=q("$ZodCheckStartsWith",(t,n)=>{zt.init(t,n);const a=new RegExp(`^${zl(n.prefix)}.*`);n.pattern??(n.pattern=a),t._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(a)}),t._zod.check=s=>{s.value.startsWith(n.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:s.value,inst:t,continue:!n.abort})}}),OR=q("$ZodCheckEndsWith",(t,n)=>{zt.init(t,n);const a=new RegExp(`.*${zl(n.suffix)}$`);n.pattern??(n.pattern=a),t._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(a)}),t._zod.check=s=>{s.value.endsWith(n.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:s.value,inst:t,continue:!n.abort})}}),jR=q("$ZodCheckOverwrite",(t,n)=>{zt.init(t,n),t._zod.check=a=>{a.value=n.tx(a.value)}});class kR{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const s=n.split(`
`).filter(u=>u),o=Math.min(...s.map(u=>u.length-u.trimStart().length)),c=s.map(u=>u.slice(o)).map(u=>" ".repeat(this.indent*2)+u);for(const u of c)this.content.push(u)}compile(){const n=Function,a=this?.args,o=[...(this?.content??[""]).map(c=>`  ${c}`)];return new n(...a,o.join(`
`))}}const NR={major:4,minor:3,patch:6},Qe=q("$ZodType",(t,n)=>{var a;t??(t={}),t._zod.def=n,t._zod.bag=t._zod.bag||{},t._zod.version=NR;const s=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&s.unshift(t);for(const o of s)for(const c of o._zod.onattach)c(t);if(s.length===0)(a=t._zod).deferred??(a.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const o=(u,d,p)=>{let m=Ia(u),g;for(const y of d){if(y._zod.def.when){if(!y._zod.def.when(u))continue}else if(m)continue;const b=u.issues.length,S=y._zod.check(u);if(S instanceof Promise&&p?.async===!1)throw new qa;if(g||S instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await S,u.issues.length!==b&&(m||(m=Ia(u,b)))});else{if(u.issues.length===b)continue;m||(m=Ia(u,b))}}return g?g.then(()=>u):u},c=(u,d,p)=>{if(Ia(u))return u.aborted=!0,u;const m=o(d,s,p);if(m instanceof Promise){if(p.async===!1)throw new qa;return m.then(g=>t._zod.parse(g,p))}return t._zod.parse(m,p)};t._zod.run=(u,d)=>{if(d.skipChecks)return t._zod.parse(u,d);if(d.direction==="backward"){const m=t._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return m instanceof Promise?m.then(g=>c(g,u,d)):c(m,u,d)}const p=t._zod.parse(u,d);if(p instanceof Promise){if(d.async===!1)throw new qa;return p.then(m=>o(m,s,d))}return o(p,s,d)}}ze(t,"~standard",()=>({validate:o=>{try{const c=HM(t,o);return c.success?{value:c.data}:{issues:c.error?.issues}}catch{return PM(t,o).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}))}),Wd=q("$ZodString",(t,n)=>{Qe.init(t,n),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??gR(t._zod.bag),t._zod.parse=(a,s)=>{if(n.coerce)try{a.value=String(a.value)}catch{}return typeof a.value=="string"||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:t}),a}}),Pe=q("$ZodStringFormat",(t,n)=>{jl.init(t,n),Wd.init(t,n)}),LR=q("$ZodGUID",(t,n)=>{n.pattern??(n.pattern=iR),Pe.init(t,n)}),UR=q("$ZodUUID",(t,n)=>{if(n.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(s===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=$0(s))}else n.pattern??(n.pattern=$0());Pe.init(t,n)}),VR=q("$ZodEmail",(t,n)=>{n.pattern??(n.pattern=aR),Pe.init(t,n)}),BR=q("$ZodURL",(t,n)=>{Pe.init(t,n),t._zod.check=a=>{try{const s=a.value.trim(),o=new URL(s);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(o.hostname)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:n.hostname.source,input:a.value,inst:t,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:a.value,inst:t,continue:!n.abort})),n.normalize?a.value=o.href:a.value=s;return}catch{a.issues.push({code:"invalid_format",format:"url",input:a.value,inst:t,continue:!n.abort})}}}),HR=q("$ZodEmoji",(t,n)=>{n.pattern??(n.pattern=rR()),Pe.init(t,n)}),PR=q("$ZodNanoID",(t,n)=>{n.pattern??(n.pattern=tR),Pe.init(t,n)}),$R=q("$ZodCUID",(t,n)=>{n.pattern??(n.pattern=KM),Pe.init(t,n)}),IR=q("$ZodCUID2",(t,n)=>{n.pattern??(n.pattern=QM),Pe.init(t,n)}),ZR=q("$ZodULID",(t,n)=>{n.pattern??(n.pattern=JM),Pe.init(t,n)}),qR=q("$ZodXID",(t,n)=>{n.pattern??(n.pattern=WM),Pe.init(t,n)}),GR=q("$ZodKSUID",(t,n)=>{n.pattern??(n.pattern=eR),Pe.init(t,n)}),YR=q("$ZodISODateTime",(t,n)=>{n.pattern??(n.pattern=mR(n)),Pe.init(t,n)}),FR=q("$ZodISODate",(t,n)=>{n.pattern??(n.pattern=hR),Pe.init(t,n)}),XR=q("$ZodISOTime",(t,n)=>{n.pattern??(n.pattern=pR(n)),Pe.init(t,n)}),KR=q("$ZodISODuration",(t,n)=>{n.pattern??(n.pattern=nR),Pe.init(t,n)}),QR=q("$ZodIPv4",(t,n)=>{n.pattern??(n.pattern=oR),Pe.init(t,n),t._zod.bag.format="ipv4"}),JR=q("$ZodIPv6",(t,n)=>{n.pattern??(n.pattern=lR),Pe.init(t,n),t._zod.bag.format="ipv6",t._zod.check=a=>{try{new URL(`http://[${a.value}]`)}catch{a.issues.push({code:"invalid_format",format:"ipv6",input:a.value,inst:t,continue:!n.abort})}}}),WR=q("$ZodCIDRv4",(t,n)=>{n.pattern??(n.pattern=cR),Pe.init(t,n)}),ez=q("$ZodCIDRv6",(t,n)=>{n.pattern??(n.pattern=uR),Pe.init(t,n),t._zod.check=a=>{const s=a.value.split("/");try{if(s.length!==2)throw new Error;const[o,c]=s;if(!c)throw new Error;const u=Number(c);if(`${u}`!==c)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${o}]`)}catch{a.issues.push({code:"invalid_format",format:"cidrv6",input:a.value,inst:t,continue:!n.abort})}}});function Nb(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const tz=q("$ZodBase64",(t,n)=>{n.pattern??(n.pattern=fR),Pe.init(t,n),t._zod.bag.contentEncoding="base64",t._zod.check=a=>{Nb(a.value)||a.issues.push({code:"invalid_format",format:"base64",input:a.value,inst:t,continue:!n.abort})}});function nz(t){if(!Rb.test(t))return!1;const n=t.replace(/[-_]/g,s=>s==="-"?"+":"/"),a=n.padEnd(Math.ceil(n.length/4)*4,"=");return Nb(a)}const iz=q("$ZodBase64URL",(t,n)=>{n.pattern??(n.pattern=Rb),Pe.init(t,n),t._zod.bag.contentEncoding="base64url",t._zod.check=a=>{nz(a.value)||a.issues.push({code:"invalid_format",format:"base64url",input:a.value,inst:t,continue:!n.abort})}}),az=q("$ZodE164",(t,n)=>{n.pattern??(n.pattern=dR),Pe.init(t,n)});function sz(t,n=null){try{const a=t.split(".");if(a.length!==3)return!1;const[s]=a;if(!s)return!1;const o=JSON.parse(atob(s));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||n&&(!("alg"in o)||o.alg!==n))}catch{return!1}}const rz=q("$ZodJWT",(t,n)=>{Pe.init(t,n),t._zod.check=a=>{sz(a.value,n.alg)||a.issues.push({code:"invalid_format",format:"jwt",input:a.value,inst:t,continue:!n.abort})}}),Lb=q("$ZodNumber",(t,n)=>{Qe.init(t,n),t._zod.pattern=t._zod.bag.pattern??vR,t._zod.parse=(a,s)=>{if(n.coerce)try{a.value=Number(a.value)}catch{}const o=a.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return a;const c=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return a.issues.push({expected:"number",code:"invalid_type",input:o,inst:t,...c?{received:c}:{}}),a}}),oz=q("$ZodNumberFormat",(t,n)=>{wR.init(t,n),Lb.init(t,n)}),lz=q("$ZodBoolean",(t,n)=>{Qe.init(t,n),t._zod.pattern=bR,t._zod.parse=(a,s)=>{if(n.coerce)try{a.value=!!a.value}catch{}const o=a.value;return typeof o=="boolean"||a.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:t}),a}}),cz=q("$ZodUnknown",(t,n)=>{Qe.init(t,n),t._zod.parse=a=>a}),uz=q("$ZodNever",(t,n)=>{Qe.init(t,n),t._zod.parse=(a,s)=>(a.issues.push({expected:"never",code:"invalid_type",input:a.value,inst:t}),a)});function I0(t,n,a){t.issues.length&&n.issues.push(...Eb(a,t.issues)),n.value[a]=t.value}const fz=q("$ZodArray",(t,n)=>{Qe.init(t,n),t._zod.parse=(a,s)=>{const o=a.value;if(!Array.isArray(o))return a.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),a;a.value=Array(o.length);const c=[];for(let u=0;u<o.length;u++){const d=o[u],p=n.element._zod.run({value:d,issues:[]},s);p instanceof Promise?c.push(p.then(m=>I0(m,a,u))):I0(p,a,u)}return c.length?Promise.all(c).then(()=>a):a}});function yl(t,n,a,s,o){if(t.issues.length){if(o&&!(a in s))return;n.issues.push(...Eb(a,t.issues))}t.value===void 0?a in s&&(n.value[a]=void 0):n.value[a]=t.value}function Ub(t){const n=Object.keys(t.shape);for(const s of n)if(!t.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const a=RM(t.shape);return{...t,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(a)}}function Vb(t,n,a,s,o,c){const u=[],d=o.keySet,p=o.catchall._zod,m=p.def.type,g=p.optout==="optional";for(const y in n){if(d.has(y))continue;if(m==="never"){u.push(y);continue}const b=p.run({value:n[y],issues:[]},s);b instanceof Promise?t.push(b.then(S=>yl(S,a,y,n,g))):yl(b,a,y,n,g)}return u.length&&a.issues.push({code:"unrecognized_keys",keys:u,input:n,inst:c}),t.length?Promise.all(t).then(()=>a):a}const dz=q("$ZodObject",(t,n)=>{if(Qe.init(t,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const d=n.shape;Object.defineProperty(n,"shape",{get:()=>{const p={...d};return Object.defineProperty(n,"shape",{value:p}),p}})}const s=Yd(()=>Ub(n));ze(t._zod,"propValues",()=>{const d=n.shape,p={};for(const m in d){const g=d[m]._zod;if(g.values){p[m]??(p[m]=new Set);for(const y of g.values)p[m].add(y)}}return p});const o=gl,c=n.catchall;let u;t._zod.parse=(d,p)=>{u??(u=s.value);const m=d.value;if(!o(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),d;d.value={};const g=[],y=u.shape;for(const b of u.keys){const S=y[b],T=S._zod.optout==="optional",E=S._zod.run({value:m[b],issues:[]},p);E instanceof Promise?g.push(E.then(M=>yl(M,d,b,m,T))):yl(E,d,b,m,T)}return c?Vb(g,m,d,p,s.value,t):g.length?Promise.all(g).then(()=>d):d}}),hz=q("$ZodObjectJIT",(t,n)=>{dz.init(t,n);const a=t._zod.parse,s=Yd(()=>Ub(n)),o=b=>{const S=new kR(["shape","payload","ctx"]),T=s.value,E=C=>{const B=P0(C);return`shape[${B}]._zod.run({ value: input[${B}], issues: [] }, ctx)`};S.write("const input = payload.value;");const M=Object.create(null);let D=0;for(const C of T.keys)M[C]=`key_${D++}`;S.write("const newResult = {};");for(const C of T.keys){const B=M[C],P=P0(C),X=b[C]?._zod?.optout==="optional";S.write(`const ${B} = ${E(C)};`),X?S.write(`
        if (${B}.issues.length) {
          if (${P} in input) {
            payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${P}, ...iss.path] : [${P}]
            })));
          }
        }
        
        if (${B}.value === undefined) {
          if (${P} in input) {
            newResult[${P}] = undefined;
          }
        } else {
          newResult[${P}] = ${B}.value;
        }
        
      `):S.write(`
        if (${B}.issues.length) {
          payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${P}, ...iss.path] : [${P}]
          })));
        }
        
        if (${B}.value === undefined) {
          if (${P} in input) {
            newResult[${P}] = undefined;
          }
        } else {
          newResult[${P}] = ${B}.value;
        }
        
      `)}S.write("payload.value = newResult;"),S.write("return payload;");const j=S.compile();return(C,B)=>j(b,C,B)};let c;const u=gl,d=!Sb.jitless,m=d&&CM.value,g=n.catchall;let y;t._zod.parse=(b,S)=>{y??(y=s.value);const T=b.value;return u(T)?d&&m&&S?.async===!1&&S.jitless!==!0?(c||(c=o(n.shape)),b=c(b,S),g?Vb([],T,b,S,y,t):b):a(b,S):(b.issues.push({expected:"object",code:"invalid_type",input:T,inst:t}),b)}});function Z0(t,n,a,s){for(const c of t)if(c.issues.length===0)return n.value=c.value,n;const o=t.filter(c=>!Ia(c));return o.length===1?(n.value=o[0].value,o[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:a,errors:t.map(c=>c.issues.map(u=>Yi(u,s,Gi())))}),n)}const pz=q("$ZodUnion",(t,n)=>{Qe.init(t,n),ze(t._zod,"optin",()=>n.options.some(o=>o._zod.optin==="optional")?"optional":void 0),ze(t._zod,"optout",()=>n.options.some(o=>o._zod.optout==="optional")?"optional":void 0),ze(t._zod,"values",()=>{if(n.options.every(o=>o._zod.values))return new Set(n.options.flatMap(o=>Array.from(o._zod.values)))}),ze(t._zod,"pattern",()=>{if(n.options.every(o=>o._zod.pattern)){const o=n.options.map(c=>c._zod.pattern);return new RegExp(`^(${o.map(c=>Xd(c.source)).join("|")})$`)}});const a=n.options.length===1,s=n.options[0]._zod.run;t._zod.parse=(o,c)=>{if(a)return s(o,c);let u=!1;const d=[];for(const p of n.options){const m=p._zod.run({value:o.value,issues:[]},c);if(m instanceof Promise)d.push(m),u=!0;else{if(m.issues.length===0)return m;d.push(m)}}return u?Promise.all(d).then(p=>Z0(p,o,t,c)):Z0(d,o,t,c)}}),mz=q("$ZodIntersection",(t,n)=>{Qe.init(t,n),t._zod.parse=(a,s)=>{const o=a.value,c=n.left._zod.run({value:o,issues:[]},s),u=n.right._zod.run({value:o,issues:[]},s);return c instanceof Promise||u instanceof Promise?Promise.all([c,u]).then(([p,m])=>q0(a,p,m)):q0(a,c,u)}});function od(t,n){if(t===n)return{valid:!0,data:t};if(t instanceof Date&&n instanceof Date&&+t==+n)return{valid:!0,data:t};if(ur(t)&&ur(n)){const a=Object.keys(n),s=Object.keys(t).filter(c=>a.indexOf(c)!==-1),o={...t,...n};for(const c of s){const u=od(t[c],n[c]);if(!u.valid)return{valid:!1,mergeErrorPath:[c,...u.mergeErrorPath]};o[c]=u.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return{valid:!1,mergeErrorPath:[]};const a=[];for(let s=0;s<t.length;s++){const o=t[s],c=n[s],u=od(o,c);if(!u.valid)return{valid:!1,mergeErrorPath:[s,...u.mergeErrorPath]};a.push(u.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}function q0(t,n,a){const s=new Map;let o;for(const d of n.issues)if(d.code==="unrecognized_keys"){o??(o=d);for(const p of d.keys)s.has(p)||s.set(p,{}),s.get(p).l=!0}else t.issues.push(d);for(const d of a.issues)if(d.code==="unrecognized_keys")for(const p of d.keys)s.has(p)||s.set(p,{}),s.get(p).r=!0;else t.issues.push(d);const c=[...s].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(c.length&&o&&t.issues.push({...o,keys:c}),Ia(t))return t;const u=od(n.value,a.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return t.value=u.data,t}const gz=q("$ZodEnum",(t,n)=>{Qe.init(t,n);const a=_b(n.entries),s=new Set(a);t._zod.values=s,t._zod.pattern=new RegExp(`^(${a.filter(o=>MM.has(typeof o)).map(o=>typeof o=="string"?zl(o):o.toString()).join("|")})$`),t._zod.parse=(o,c)=>{const u=o.value;return s.has(u)||o.issues.push({code:"invalid_value",values:a,input:u,inst:t}),o}}),yz=q("$ZodTransform",(t,n)=>{Qe.init(t,n),t._zod.parse=(a,s)=>{if(s.direction==="backward")throw new xb(t.constructor.name);const o=n.transform(a.value,a);if(s.async)return(o instanceof Promise?o:Promise.resolve(o)).then(u=>(a.value=u,a));if(o instanceof Promise)throw new qa;return a.value=o,a}});function G0(t,n){return t.issues.length&&n===void 0?{issues:[],value:void 0}:t}const Bb=q("$ZodOptional",(t,n)=>{Qe.init(t,n),t._zod.optin="optional",t._zod.optout="optional",ze(t._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),ze(t._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${Xd(a.source)})?$`):void 0}),t._zod.parse=(a,s)=>{if(n.innerType._zod.optin==="optional"){const o=n.innerType._zod.run(a,s);return o instanceof Promise?o.then(c=>G0(c,a.value)):G0(o,a.value)}return a.value===void 0?a:n.innerType._zod.run(a,s)}}),vz=q("$ZodExactOptional",(t,n)=>{Bb.init(t,n),ze(t._zod,"values",()=>n.innerType._zod.values),ze(t._zod,"pattern",()=>n.innerType._zod.pattern),t._zod.parse=(a,s)=>n.innerType._zod.run(a,s)}),bz=q("$ZodNullable",(t,n)=>{Qe.init(t,n),ze(t._zod,"optin",()=>n.innerType._zod.optin),ze(t._zod,"optout",()=>n.innerType._zod.optout),ze(t._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${Xd(a.source)}|null)$`):void 0}),ze(t._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),t._zod.parse=(a,s)=>a.value===null?a:n.innerType._zod.run(a,s)}),xz=q("$ZodDefault",(t,n)=>{Qe.init(t,n),t._zod.optin="optional",ze(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(a,s)=>{if(s.direction==="backward")return n.innerType._zod.run(a,s);if(a.value===void 0)return a.value=n.defaultValue,a;const o=n.innerType._zod.run(a,s);return o instanceof Promise?o.then(c=>Y0(c,n)):Y0(o,n)}});function Y0(t,n){return t.value===void 0&&(t.value=n.defaultValue),t}const Sz=q("$ZodPrefault",(t,n)=>{Qe.init(t,n),t._zod.optin="optional",ze(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(a,s)=>(s.direction==="backward"||a.value===void 0&&(a.value=n.defaultValue),n.innerType._zod.run(a,s))}),_z=q("$ZodNonOptional",(t,n)=>{Qe.init(t,n),ze(t._zod,"values",()=>{const a=n.innerType._zod.values;return a?new Set([...a].filter(s=>s!==void 0)):void 0}),t._zod.parse=(a,s)=>{const o=n.innerType._zod.run(a,s);return o instanceof Promise?o.then(c=>F0(c,t)):F0(o,t)}});function F0(t,n){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:n}),t}const wz=q("$ZodCatch",(t,n)=>{Qe.init(t,n),ze(t._zod,"optin",()=>n.innerType._zod.optin),ze(t._zod,"optout",()=>n.innerType._zod.optout),ze(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(a,s)=>{if(s.direction==="backward")return n.innerType._zod.run(a,s);const o=n.innerType._zod.run(a,s);return o instanceof Promise?o.then(c=>(a.value=c.value,c.issues.length&&(a.value=n.catchValue({...a,error:{issues:c.issues.map(u=>Yi(u,s,Gi()))},input:a.value}),a.issues=[]),a)):(a.value=o.value,o.issues.length&&(a.value=n.catchValue({...a,error:{issues:o.issues.map(c=>Yi(c,s,Gi()))},input:a.value}),a.issues=[]),a)}}),Tz=q("$ZodPipe",(t,n)=>{Qe.init(t,n),ze(t._zod,"values",()=>n.in._zod.values),ze(t._zod,"optin",()=>n.in._zod.optin),ze(t._zod,"optout",()=>n.out._zod.optout),ze(t._zod,"propValues",()=>n.in._zod.propValues),t._zod.parse=(a,s)=>{if(s.direction==="backward"){const c=n.out._zod.run(a,s);return c instanceof Promise?c.then(u=>Fo(u,n.in,s)):Fo(c,n.in,s)}const o=n.in._zod.run(a,s);return o instanceof Promise?o.then(c=>Fo(c,n.out,s)):Fo(o,n.out,s)}});function Fo(t,n,a){return t.issues.length?(t.aborted=!0,t):n._zod.run({value:t.value,issues:t.issues},a)}const Ez=q("$ZodReadonly",(t,n)=>{Qe.init(t,n),ze(t._zod,"propValues",()=>n.innerType._zod.propValues),ze(t._zod,"values",()=>n.innerType._zod.values),ze(t._zod,"optin",()=>n.innerType?._zod?.optin),ze(t._zod,"optout",()=>n.innerType?._zod?.optout),t._zod.parse=(a,s)=>{if(s.direction==="backward")return n.innerType._zod.run(a,s);const o=n.innerType._zod.run(a,s);return o instanceof Promise?o.then(X0):X0(o)}});function X0(t){return t.value=Object.freeze(t.value),t}const Az=q("$ZodCustom",(t,n)=>{zt.init(t,n),Qe.init(t,n),t._zod.parse=(a,s)=>a,t._zod.check=a=>{const s=a.value,o=n.fn(s);if(o instanceof Promise)return o.then(c=>K0(c,a,s,t));K0(o,a,s,t)}});function K0(t,n,a,s){if(!t){const o={code:"custom",input:a,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(o.params=s._zod.def.params),n.issues.push(fr(o))}}var Q0;class Cz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...a){const s=a[0];return this._map.set(n,s),s&&typeof s=="object"&&"id"in s&&this._idmap.set(s.id,n),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const a=this._map.get(n);return a&&typeof a=="object"&&"id"in a&&this._idmap.delete(a.id),this._map.delete(n),this}get(n){const a=n._zod.parent;if(a){const s={...this.get(a)??{}};delete s.id;const o={...s,...this._map.get(n)};return Object.keys(o).length?o:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function Mz(){return new Cz}(Q0=globalThis).__zod_globalRegistry??(Q0.__zod_globalRegistry=Mz());const Js=globalThis.__zod_globalRegistry;function Rz(t,n){return new t({type:"string",...re(n)})}function zz(t,n){return new t({type:"string",format:"email",check:"string_format",abort:!1,...re(n)})}function J0(t,n){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...re(n)})}function Dz(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...re(n)})}function Oz(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...re(n)})}function jz(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...re(n)})}function kz(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...re(n)})}function Nz(t,n){return new t({type:"string",format:"url",check:"string_format",abort:!1,...re(n)})}function Lz(t,n){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...re(n)})}function Uz(t,n){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...re(n)})}function Vz(t,n){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...re(n)})}function Bz(t,n){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...re(n)})}function Hz(t,n){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...re(n)})}function Pz(t,n){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...re(n)})}function $z(t,n){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...re(n)})}function Iz(t,n){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...re(n)})}function Zz(t,n){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...re(n)})}function qz(t,n){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...re(n)})}function Gz(t,n){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...re(n)})}function Yz(t,n){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...re(n)})}function Fz(t,n){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...re(n)})}function Xz(t,n){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...re(n)})}function Kz(t,n){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...re(n)})}function Qz(t,n){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...re(n)})}function Jz(t,n){return new t({type:"string",format:"date",check:"string_format",...re(n)})}function Wz(t,n){return new t({type:"string",format:"time",check:"string_format",precision:null,...re(n)})}function eD(t,n){return new t({type:"string",format:"duration",check:"string_format",...re(n)})}function tD(t,n){return new t({type:"number",checks:[],...re(n)})}function nD(t,n){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...re(n)})}function iD(t,n){return new t({type:"boolean",...re(n)})}function aD(t){return new t({type:"unknown"})}function sD(t,n){return new t({type:"never",...re(n)})}function W0(t,n){return new jb({check:"less_than",...re(n),value:t,inclusive:!1})}function zf(t,n){return new jb({check:"less_than",...re(n),value:t,inclusive:!0})}function ev(t,n){return new kb({check:"greater_than",...re(n),value:t,inclusive:!1})}function Df(t,n){return new kb({check:"greater_than",...re(n),value:t,inclusive:!0})}function tv(t,n){return new _R({check:"multiple_of",...re(n),value:t})}function Hb(t,n){return new TR({check:"max_length",...re(n),maximum:t})}function vl(t,n){return new ER({check:"min_length",...re(n),minimum:t})}function Pb(t,n){return new AR({check:"length_equals",...re(n),length:t})}function rD(t,n){return new CR({check:"string_format",format:"regex",...re(n),pattern:t})}function oD(t){return new MR({check:"string_format",format:"lowercase",...re(t)})}function lD(t){return new RR({check:"string_format",format:"uppercase",...re(t)})}function cD(t,n){return new zR({check:"string_format",format:"includes",...re(n),includes:t})}function uD(t,n){return new DR({check:"string_format",format:"starts_with",...re(n),prefix:t})}function fD(t,n){return new OR({check:"string_format",format:"ends_with",...re(n),suffix:t})}function Ja(t){return new jR({check:"overwrite",tx:t})}function dD(t){return Ja(n=>n.normalize(t))}function hD(){return Ja(t=>t.trim())}function pD(){return Ja(t=>t.toLowerCase())}function mD(){return Ja(t=>t.toUpperCase())}function gD(){return Ja(t=>AM(t))}function yD(t,n,a){return new t({type:"array",element:n,...re(a)})}function vD(t,n,a){return new t({type:"custom",check:"custom",fn:n,...re(a)})}function bD(t){const n=xD(a=>(a.addIssue=s=>{if(typeof s=="string")a.issues.push(fr(s,a.value,n._zod.def));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=a.value),o.inst??(o.inst=n),o.continue??(o.continue=!n._zod.def.abort),a.issues.push(fr(o))}},t(a.value,a)));return n}function xD(t,n){const a=new zt({check:"custom",...re(n)});return a._zod.check=t,a}function $b(t){let n=t?.target??"draft-2020-12";return n==="draft-4"&&(n="draft-04"),n==="draft-7"&&(n="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Js,target:n,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function mt(t,n,a={path:[],schemaPath:[]}){var s;const o=t._zod.def,c=n.seen.get(t);if(c)return c.count++,a.schemaPath.includes(t)&&(c.cycle=a.path),c.schema;const u={schema:{},count:1,cycle:void 0,path:a.path};n.seen.set(t,u);const d=t._zod.toJSONSchema?.();if(d)u.schema=d;else{const g={...a,schemaPath:[...a.schemaPath,t],path:a.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(n,u.schema,g);else{const b=u.schema,S=n.processors[o.type];if(!S)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);S(t,n,b,g)}const y=t._zod.parent;y&&(u.ref||(u.ref=y),mt(y,n,g),n.seen.get(y).isParent=!0)}const p=n.metadataRegistry.get(t);return p&&Object.assign(u.schema,p),n.io==="input"&&bt(t)&&(delete u.schema.examples,delete u.schema.default),n.io==="input"&&u.schema._prefault&&((s=u.schema).default??(s.default=u.schema._prefault)),delete u.schema._prefault,n.seen.get(t).schema}function Ib(t,n){const a=t.seen.get(n);if(!a)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=new Map;for(const u of t.seen.entries()){const d=t.metadataRegistry.get(u[0])?.id;if(d){const p=s.get(d);if(p&&p!==u[0])throw new Error(`Duplicate schema id "${d}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);s.set(d,u[0])}}const o=u=>{const d=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const y=t.external.registry.get(u[0])?.id,b=t.external.uri??(T=>T);if(y)return{ref:b(y)};const S=u[1].defId??u[1].schema.id??`schema${t.counter++}`;return u[1].defId=S,{defId:S,ref:`${b("__shared")}#/${d}/${S}`}}if(u[1]===a)return{ref:"#"};const m=`#/${d}/`,g=u[1].schema.id??`__schema${t.counter++}`;return{defId:g,ref:m+g}},c=u=>{if(u[1].schema.$ref)return;const d=u[1],{ref:p,defId:m}=o(u);d.def={...d.schema},m&&(d.defId=m);const g=d.schema;for(const y in g)delete g[y];g.$ref=p};if(t.cycles==="throw")for(const u of t.seen.entries()){const d=u[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of t.seen.entries()){const d=u[1];if(n===u[0]){c(u);continue}if(t.external){const m=t.external.registry.get(u[0])?.id;if(n!==u[0]&&m){c(u);continue}}if(t.metadataRegistry.get(u[0])?.id){c(u);continue}if(d.cycle){c(u);continue}if(d.count>1&&t.reused==="ref"){c(u);continue}}}function Zb(t,n){const a=t.seen.get(n);if(!a)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=u=>{const d=t.seen.get(u);if(d.ref===null)return;const p=d.def??d.schema,m={...p},g=d.ref;if(d.ref=null,g){s(g);const b=t.seen.get(g),S=b.schema;if(S.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(p.allOf=p.allOf??[],p.allOf.push(S)):Object.assign(p,S),Object.assign(p,m),u._zod.parent===g)for(const E in p)E==="$ref"||E==="allOf"||E in m||delete p[E];if(S.$ref&&b.def)for(const E in p)E==="$ref"||E==="allOf"||E in b.def&&JSON.stringify(p[E])===JSON.stringify(b.def[E])&&delete p[E]}const y=u._zod.parent;if(y&&y!==g){s(y);const b=t.seen.get(y);if(b?.schema.$ref&&(p.$ref=b.schema.$ref,b.def))for(const S in p)S==="$ref"||S==="allOf"||S in b.def&&JSON.stringify(p[S])===JSON.stringify(b.def[S])&&delete p[S]}t.override({zodSchema:u,jsonSchema:p,path:d.path??[]})};for(const u of[...t.seen.entries()].reverse())s(u[0]);const o={};if(t.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const u=t.external.registry.get(n)?.id;if(!u)throw new Error("Schema is missing an `id` property");o.$id=t.external.uri(u)}Object.assign(o,a.def??a.schema);const c=t.external?.defs??{};for(const u of t.seen.entries()){const d=u[1];d.def&&d.defId&&(c[d.defId]=d.def)}t.external||Object.keys(c).length>0&&(t.target==="draft-2020-12"?o.$defs=c:o.definitions=c);try{const u=JSON.parse(JSON.stringify(o));return Object.defineProperty(u,"~standard",{value:{...n["~standard"],jsonSchema:{input:bl(n,"input",t.processors),output:bl(n,"output",t.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function bt(t,n){const a=n??{seen:new Set};if(a.seen.has(t))return!1;a.seen.add(t);const s=t._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return bt(s.element,a);if(s.type==="set")return bt(s.valueType,a);if(s.type==="lazy")return bt(s.getter(),a);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return bt(s.innerType,a);if(s.type==="intersection")return bt(s.left,a)||bt(s.right,a);if(s.type==="record"||s.type==="map")return bt(s.keyType,a)||bt(s.valueType,a);if(s.type==="pipe")return bt(s.in,a)||bt(s.out,a);if(s.type==="object"){for(const o in s.shape)if(bt(s.shape[o],a))return!0;return!1}if(s.type==="union"){for(const o of s.options)if(bt(o,a))return!0;return!1}if(s.type==="tuple"){for(const o of s.items)if(bt(o,a))return!0;return!!(s.rest&&bt(s.rest,a))}return!1}const SD=(t,n={})=>a=>{const s=$b({...a,processors:n});return mt(t,s),Ib(s,t),Zb(s,t)},bl=(t,n,a={})=>s=>{const{libraryOptions:o,target:c}=s??{},u=$b({...o??{},target:c,io:n,processors:a});return mt(t,u),Ib(u,t),Zb(u,t)},_D={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},wD=(t,n,a,s)=>{const o=a;o.type="string";const{minimum:c,maximum:u,format:d,patterns:p,contentEncoding:m}=t._zod.bag;if(typeof c=="number"&&(o.minLength=c),typeof u=="number"&&(o.maxLength=u),d&&(o.format=_D[d]??d,o.format===""&&delete o.format,d==="time"&&delete o.format),m&&(o.contentEncoding=m),p&&p.size>0){const g=[...p];g.length===1?o.pattern=g[0].source:g.length>1&&(o.allOf=[...g.map(y=>({...n.target==="draft-07"||n.target==="draft-04"||n.target==="openapi-3.0"?{type:"string"}:{},pattern:y.source}))])}},TD=(t,n,a,s)=>{const o=a,{minimum:c,maximum:u,format:d,multipleOf:p,exclusiveMaximum:m,exclusiveMinimum:g}=t._zod.bag;typeof d=="string"&&d.includes("int")?o.type="integer":o.type="number",typeof g=="number"&&(n.target==="draft-04"||n.target==="openapi-3.0"?(o.minimum=g,o.exclusiveMinimum=!0):o.exclusiveMinimum=g),typeof c=="number"&&(o.minimum=c,typeof g=="number"&&n.target!=="draft-04"&&(g>=c?delete o.minimum:delete o.exclusiveMinimum)),typeof m=="number"&&(n.target==="draft-04"||n.target==="openapi-3.0"?(o.maximum=m,o.exclusiveMaximum=!0):o.exclusiveMaximum=m),typeof u=="number"&&(o.maximum=u,typeof m=="number"&&n.target!=="draft-04"&&(m<=u?delete o.maximum:delete o.exclusiveMaximum)),typeof p=="number"&&(o.multipleOf=p)},ED=(t,n,a,s)=>{a.type="boolean"},AD=(t,n,a,s)=>{a.not={}},CD=(t,n,a,s)=>{},MD=(t,n,a,s)=>{const o=t._zod.def,c=_b(o.entries);c.every(u=>typeof u=="number")&&(a.type="number"),c.every(u=>typeof u=="string")&&(a.type="string"),a.enum=c},RD=(t,n,a,s)=>{if(n.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},zD=(t,n,a,s)=>{if(n.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},DD=(t,n,a,s)=>{const o=a,c=t._zod.def,{minimum:u,maximum:d}=t._zod.bag;typeof u=="number"&&(o.minItems=u),typeof d=="number"&&(o.maxItems=d),o.type="array",o.items=mt(c.element,n,{...s,path:[...s.path,"items"]})},OD=(t,n,a,s)=>{const o=a,c=t._zod.def;o.type="object",o.properties={};const u=c.shape;for(const m in u)o.properties[m]=mt(u[m],n,{...s,path:[...s.path,"properties",m]});const d=new Set(Object.keys(u)),p=new Set([...d].filter(m=>{const g=c.shape[m]._zod;return n.io==="input"?g.optin===void 0:g.optout===void 0}));p.size>0&&(o.required=Array.from(p)),c.catchall?._zod.def.type==="never"?o.additionalProperties=!1:c.catchall?c.catchall&&(o.additionalProperties=mt(c.catchall,n,{...s,path:[...s.path,"additionalProperties"]})):n.io==="output"&&(o.additionalProperties=!1)},jD=(t,n,a,s)=>{const o=t._zod.def,c=o.inclusive===!1,u=o.options.map((d,p)=>mt(d,n,{...s,path:[...s.path,c?"oneOf":"anyOf",p]}));c?a.oneOf=u:a.anyOf=u},kD=(t,n,a,s)=>{const o=t._zod.def,c=mt(o.left,n,{...s,path:[...s.path,"allOf",0]}),u=mt(o.right,n,{...s,path:[...s.path,"allOf",1]}),d=m=>"allOf"in m&&Object.keys(m).length===1,p=[...d(c)?c.allOf:[c],...d(u)?u.allOf:[u]];a.allOf=p},ND=(t,n,a,s)=>{const o=t._zod.def,c=mt(o.innerType,n,s),u=n.seen.get(t);n.target==="openapi-3.0"?(u.ref=o.innerType,a.nullable=!0):a.anyOf=[c,{type:"null"}]},LD=(t,n,a,s)=>{const o=t._zod.def;mt(o.innerType,n,s);const c=n.seen.get(t);c.ref=o.innerType},UD=(t,n,a,s)=>{const o=t._zod.def;mt(o.innerType,n,s);const c=n.seen.get(t);c.ref=o.innerType,a.default=JSON.parse(JSON.stringify(o.defaultValue))},VD=(t,n,a,s)=>{const o=t._zod.def;mt(o.innerType,n,s);const c=n.seen.get(t);c.ref=o.innerType,n.io==="input"&&(a._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},BD=(t,n,a,s)=>{const o=t._zod.def;mt(o.innerType,n,s);const c=n.seen.get(t);c.ref=o.innerType;let u;try{u=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}a.default=u},HD=(t,n,a,s)=>{const o=t._zod.def,c=n.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;mt(c,n,s);const u=n.seen.get(t);u.ref=c},PD=(t,n,a,s)=>{const o=t._zod.def;mt(o.innerType,n,s);const c=n.seen.get(t);c.ref=o.innerType,a.readOnly=!0},qb=(t,n,a,s)=>{const o=t._zod.def;mt(o.innerType,n,s);const c=n.seen.get(t);c.ref=o.innerType},$D=q("ZodISODateTime",(t,n)=>{YR.init(t,n),Ze.init(t,n)});function ID(t){return Qz($D,t)}const ZD=q("ZodISODate",(t,n)=>{FR.init(t,n),Ze.init(t,n)});function qD(t){return Jz(ZD,t)}const GD=q("ZodISOTime",(t,n)=>{XR.init(t,n),Ze.init(t,n)});function YD(t){return Wz(GD,t)}const FD=q("ZodISODuration",(t,n)=>{KR.init(t,n),Ze.init(t,n)});function XD(t){return eD(FD,t)}const KD=(t,n)=>{Cb.init(t,n),t.name="ZodError",Object.defineProperties(t,{format:{value:a=>BM(t,a)},flatten:{value:a=>VM(t,a)},addIssue:{value:a=>{t.issues.push(a),t.message=JSON.stringify(t.issues,rd,2)}},addIssues:{value:a=>{t.issues.push(...a),t.message=JSON.stringify(t.issues,rd,2)}},isEmpty:{get(){return t.issues.length===0}}})},tn=q("ZodError",KD,{Parent:Error}),QD=Qd(tn),JD=Jd(tn),WD=Dl(tn),e3=Ol(tn),t3=$M(tn),n3=IM(tn),i3=ZM(tn),a3=qM(tn),s3=GM(tn),r3=YM(tn),o3=FM(tn),l3=XM(tn),Je=q("ZodType",(t,n)=>(Qe.init(t,n),Object.assign(t["~standard"],{jsonSchema:{input:bl(t,"input"),output:bl(t,"output")}}),t.toJSONSchema=SD(t,{}),t.def=n,t.type=n.type,Object.defineProperty(t,"_def",{value:n}),t.check=(...a)=>t.clone(vi(n,{checks:[...n.checks??[],...a.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),{parent:!0}),t.with=t.check,t.clone=(a,s)=>bi(t,a,s),t.brand=()=>t,t.register=((a,s)=>(a.add(t,s),t)),t.parse=(a,s)=>QD(t,a,s,{callee:t.parse}),t.safeParse=(a,s)=>WD(t,a,s),t.parseAsync=async(a,s)=>JD(t,a,s,{callee:t.parseAsync}),t.safeParseAsync=async(a,s)=>e3(t,a,s),t.spa=t.safeParseAsync,t.encode=(a,s)=>t3(t,a,s),t.decode=(a,s)=>n3(t,a,s),t.encodeAsync=async(a,s)=>i3(t,a,s),t.decodeAsync=async(a,s)=>a3(t,a,s),t.safeEncode=(a,s)=>s3(t,a,s),t.safeDecode=(a,s)=>r3(t,a,s),t.safeEncodeAsync=async(a,s)=>o3(t,a,s),t.safeDecodeAsync=async(a,s)=>l3(t,a,s),t.refine=(a,s)=>t.check(e4(a,s)),t.superRefine=a=>t.check(t4(a)),t.overwrite=a=>t.check(Ja(a)),t.optional=()=>sv(t),t.exactOptional=()=>P3(t),t.nullable=()=>rv(t),t.nullish=()=>sv(rv(t)),t.nonoptional=a=>Y3(t,a),t.array=()=>Xb(t),t.or=a=>N3([t,a]),t.and=a=>U3(t,a),t.transform=a=>ov(t,B3(a)),t.default=a=>Z3(t,a),t.prefault=a=>G3(t,a),t.catch=a=>X3(t,a),t.pipe=a=>ov(t,a),t.readonly=()=>J3(t),t.describe=a=>{const s=t.clone();return Js.add(s,{description:a}),s},Object.defineProperty(t,"description",{get(){return Js.get(t)?.description},configurable:!0}),t.meta=(...a)=>{if(a.length===0)return Js.get(t);const s=t.clone();return Js.add(s,a[0]),s},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=a=>a(t),t)),Gb=q("_ZodString",(t,n)=>{Wd.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(s,o,c)=>wD(t,s,o);const a=t._zod.bag;t.format=a.format??null,t.minLength=a.minimum??null,t.maxLength=a.maximum??null,t.regex=(...s)=>t.check(rD(...s)),t.includes=(...s)=>t.check(cD(...s)),t.startsWith=(...s)=>t.check(uD(...s)),t.endsWith=(...s)=>t.check(fD(...s)),t.min=(...s)=>t.check(vl(...s)),t.max=(...s)=>t.check(Hb(...s)),t.length=(...s)=>t.check(Pb(...s)),t.nonempty=(...s)=>t.check(vl(1,...s)),t.lowercase=s=>t.check(oD(s)),t.uppercase=s=>t.check(lD(s)),t.trim=()=>t.check(hD()),t.normalize=(...s)=>t.check(dD(...s)),t.toLowerCase=()=>t.check(pD()),t.toUpperCase=()=>t.check(mD()),t.slugify=()=>t.check(gD())}),c3=q("ZodString",(t,n)=>{Wd.init(t,n),Gb.init(t,n),t.email=a=>t.check(zz(u3,a)),t.url=a=>t.check(Nz(f3,a)),t.jwt=a=>t.check(Kz(A3,a)),t.emoji=a=>t.check(Lz(d3,a)),t.guid=a=>t.check(J0(nv,a)),t.uuid=a=>t.check(Dz(Xo,a)),t.uuidv4=a=>t.check(Oz(Xo,a)),t.uuidv6=a=>t.check(jz(Xo,a)),t.uuidv7=a=>t.check(kz(Xo,a)),t.nanoid=a=>t.check(Uz(h3,a)),t.guid=a=>t.check(J0(nv,a)),t.cuid=a=>t.check(Vz(p3,a)),t.cuid2=a=>t.check(Bz(m3,a)),t.ulid=a=>t.check(Hz(g3,a)),t.base64=a=>t.check(Yz(w3,a)),t.base64url=a=>t.check(Fz(T3,a)),t.xid=a=>t.check(Pz(y3,a)),t.ksuid=a=>t.check($z(v3,a)),t.ipv4=a=>t.check(Iz(b3,a)),t.ipv6=a=>t.check(Zz(x3,a)),t.cidrv4=a=>t.check(qz(S3,a)),t.cidrv6=a=>t.check(Gz(_3,a)),t.e164=a=>t.check(Xz(E3,a)),t.datetime=a=>t.check(ID(a)),t.date=a=>t.check(qD(a)),t.time=a=>t.check(YD(a)),t.duration=a=>t.check(XD(a))});function xl(t){return Rz(c3,t)}const Ze=q("ZodStringFormat",(t,n)=>{Pe.init(t,n),Gb.init(t,n)}),u3=q("ZodEmail",(t,n)=>{VR.init(t,n),Ze.init(t,n)}),nv=q("ZodGUID",(t,n)=>{LR.init(t,n),Ze.init(t,n)}),Xo=q("ZodUUID",(t,n)=>{UR.init(t,n),Ze.init(t,n)}),f3=q("ZodURL",(t,n)=>{BR.init(t,n),Ze.init(t,n)}),d3=q("ZodEmoji",(t,n)=>{HR.init(t,n),Ze.init(t,n)}),h3=q("ZodNanoID",(t,n)=>{PR.init(t,n),Ze.init(t,n)}),p3=q("ZodCUID",(t,n)=>{$R.init(t,n),Ze.init(t,n)}),m3=q("ZodCUID2",(t,n)=>{IR.init(t,n),Ze.init(t,n)}),g3=q("ZodULID",(t,n)=>{ZR.init(t,n),Ze.init(t,n)}),y3=q("ZodXID",(t,n)=>{qR.init(t,n),Ze.init(t,n)}),v3=q("ZodKSUID",(t,n)=>{GR.init(t,n),Ze.init(t,n)}),b3=q("ZodIPv4",(t,n)=>{QR.init(t,n),Ze.init(t,n)}),x3=q("ZodIPv6",(t,n)=>{JR.init(t,n),Ze.init(t,n)}),S3=q("ZodCIDRv4",(t,n)=>{WR.init(t,n),Ze.init(t,n)}),_3=q("ZodCIDRv6",(t,n)=>{ez.init(t,n),Ze.init(t,n)}),w3=q("ZodBase64",(t,n)=>{tz.init(t,n),Ze.init(t,n)}),T3=q("ZodBase64URL",(t,n)=>{iz.init(t,n),Ze.init(t,n)}),E3=q("ZodE164",(t,n)=>{az.init(t,n),Ze.init(t,n)}),A3=q("ZodJWT",(t,n)=>{rz.init(t,n),Ze.init(t,n)}),Yb=q("ZodNumber",(t,n)=>{Lb.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(s,o,c)=>TD(t,s,o),t.gt=(s,o)=>t.check(ev(s,o)),t.gte=(s,o)=>t.check(Df(s,o)),t.min=(s,o)=>t.check(Df(s,o)),t.lt=(s,o)=>t.check(W0(s,o)),t.lte=(s,o)=>t.check(zf(s,o)),t.max=(s,o)=>t.check(zf(s,o)),t.int=s=>t.check(iv(s)),t.safe=s=>t.check(iv(s)),t.positive=s=>t.check(ev(0,s)),t.nonnegative=s=>t.check(Df(0,s)),t.negative=s=>t.check(W0(0,s)),t.nonpositive=s=>t.check(zf(0,s)),t.multipleOf=(s,o)=>t.check(tv(s,o)),t.step=(s,o)=>t.check(tv(s,o)),t.finite=()=>t;const a=t._zod.bag;t.minValue=Math.max(a.minimum??Number.NEGATIVE_INFINITY,a.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(a.maximum??Number.POSITIVE_INFINITY,a.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(a.format??"").includes("int")||Number.isSafeInteger(a.multipleOf??.5),t.isFinite=!0,t.format=a.format??null});function Sl(t){return tD(Yb,t)}const C3=q("ZodNumberFormat",(t,n)=>{oz.init(t,n),Yb.init(t,n)});function iv(t){return nD(C3,t)}const M3=q("ZodBoolean",(t,n)=>{lz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>ED(t,a,s)});function Fb(t){return iD(M3,t)}const R3=q("ZodUnknown",(t,n)=>{cz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>CD()});function av(){return aD(R3)}const z3=q("ZodNever",(t,n)=>{uz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>AD(t,a,s)});function D3(t){return sD(z3,t)}const O3=q("ZodArray",(t,n)=>{fz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>DD(t,a,s,o),t.element=n.element,t.min=(a,s)=>t.check(vl(a,s)),t.nonempty=a=>t.check(vl(1,a)),t.max=(a,s)=>t.check(Hb(a,s)),t.length=(a,s)=>t.check(Pb(a,s)),t.unwrap=()=>t.element});function Xb(t,n){return yD(O3,t,n)}const j3=q("ZodObject",(t,n)=>{hz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>OD(t,a,s,o),ze(t,"shape",()=>n.shape),t.keyof=()=>Kb(Object.keys(t._zod.def.shape)),t.catchall=a=>t.clone({...t._zod.def,catchall:a}),t.passthrough=()=>t.clone({...t._zod.def,catchall:av()}),t.loose=()=>t.clone({...t._zod.def,catchall:av()}),t.strict=()=>t.clone({...t._zod.def,catchall:D3()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=a=>jM(t,a),t.safeExtend=a=>kM(t,a),t.merge=a=>NM(t,a),t.pick=a=>DM(t,a),t.omit=a=>OM(t,a),t.partial=(...a)=>LM(Qb,t,a[0]),t.required=(...a)=>UM(Jb,t,a[0])});function eh(t,n){const a={type:"object",shape:t??{},...re(n)};return new j3(a)}const k3=q("ZodUnion",(t,n)=>{pz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>jD(t,a,s,o),t.options=n.options});function N3(t,n){return new k3({type:"union",options:t,...re(n)})}const L3=q("ZodIntersection",(t,n)=>{mz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>kD(t,a,s,o)});function U3(t,n){return new L3({type:"intersection",left:t,right:n})}const ld=q("ZodEnum",(t,n)=>{gz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(s,o,c)=>MD(t,s,o),t.enum=n.entries,t.options=Object.values(n.entries);const a=new Set(Object.keys(n.entries));t.extract=(s,o)=>{const c={};for(const u of s)if(a.has(u))c[u]=n.entries[u];else throw new Error(`Key ${u} not found in enum`);return new ld({...n,checks:[],...re(o),entries:c})},t.exclude=(s,o)=>{const c={...n.entries};for(const u of s)if(a.has(u))delete c[u];else throw new Error(`Key ${u} not found in enum`);return new ld({...n,checks:[],...re(o),entries:c})}});function Kb(t,n){const a=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new ld({type:"enum",entries:a,...re(n)})}const V3=q("ZodTransform",(t,n)=>{yz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>zD(t,a),t._zod.parse=(a,s)=>{if(s.direction==="backward")throw new xb(t.constructor.name);a.addIssue=c=>{if(typeof c=="string")a.issues.push(fr(c,a.value,n));else{const u=c;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=a.value),u.inst??(u.inst=t),a.issues.push(fr(u))}};const o=n.transform(a.value,a);return o instanceof Promise?o.then(c=>(a.value=c,a)):(a.value=o,a)}});function B3(t){return new V3({type:"transform",transform:t})}const Qb=q("ZodOptional",(t,n)=>{Bb.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>qb(t,a,s,o),t.unwrap=()=>t._zod.def.innerType});function sv(t){return new Qb({type:"optional",innerType:t})}const H3=q("ZodExactOptional",(t,n)=>{vz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>qb(t,a,s,o),t.unwrap=()=>t._zod.def.innerType});function P3(t){return new H3({type:"optional",innerType:t})}const $3=q("ZodNullable",(t,n)=>{bz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>ND(t,a,s,o),t.unwrap=()=>t._zod.def.innerType});function rv(t){return new $3({type:"nullable",innerType:t})}const I3=q("ZodDefault",(t,n)=>{xz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>UD(t,a,s,o),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Z3(t,n){return new I3({type:"default",innerType:t,get defaultValue(){return typeof n=="function"?n():Tb(n)}})}const q3=q("ZodPrefault",(t,n)=>{Sz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>VD(t,a,s,o),t.unwrap=()=>t._zod.def.innerType});function G3(t,n){return new q3({type:"prefault",innerType:t,get defaultValue(){return typeof n=="function"?n():Tb(n)}})}const Jb=q("ZodNonOptional",(t,n)=>{_z.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>LD(t,a,s,o),t.unwrap=()=>t._zod.def.innerType});function Y3(t,n){return new Jb({type:"nonoptional",innerType:t,...re(n)})}const F3=q("ZodCatch",(t,n)=>{wz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>BD(t,a,s,o),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function X3(t,n){return new F3({type:"catch",innerType:t,catchValue:typeof n=="function"?n:()=>n})}const K3=q("ZodPipe",(t,n)=>{Tz.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>HD(t,a,s,o),t.in=n.in,t.out=n.out});function ov(t,n){return new K3({type:"pipe",in:t,out:n})}const Q3=q("ZodReadonly",(t,n)=>{Ez.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>PD(t,a,s,o),t.unwrap=()=>t._zod.def.innerType});function J3(t){return new Q3({type:"readonly",innerType:t})}const W3=q("ZodCustom",(t,n)=>{Az.init(t,n),Je.init(t,n),t._zod.processJSONSchema=(a,s,o)=>RD(t,a)});function e4(t,n={}){return vD(W3,t,n)}function t4(t){return bD(t)}const n4=eh({step:Sl().int().positive(),content:xl().min(1),isValid:Fb(),note:xl().nullable()}),i4=eh({step:Sl().int().positive(),errorType:Kb(["COMPUTATIONAL","PROCEDURAL","CONCEPTUAL","TRANSCRIPTION","NONE"]),explanation:xl().min(1)}).nullable(),a4=eh({score:Sl().min(0).max(100),isCorrect:Fb(),logicTrace:Xb(n4).min(1),divergencePoint:i4,remediation:xl().min(1),confidence:Sl().min(0).max(1).optional().default(.8)});function s4(t){try{const n=typeof t=="string"?JSON.parse(t):t;return{success:!0,data:a4.parse(n)}}catch(n){return{success:!1,error:n.message}}}async function cd(){return null}function r4(){return`session_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}async function Wb(t,n,a){const s=s4(t);if(!s.success){console.error("[Lymbic] Validation failed:",s.error);const d={raw_response:JSON.stringify(t),error:s.error,capture_metadata:n,created_at:new Date().toISOString()},p=await cd();if(p)await p.from("analysis_errors").insert(d);else{const m=JSON.parse(localStorage.getItem("lymbic_errors")||"[]");m.push(d),localStorage.setItem("lymbic_errors",JSON.stringify(m))}return{success:!1,error:"Response validation failed"}}const o={id:`trace_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,session_id:a||r4(),score:s.data.score,is_correct:s.data.isCorrect,logic_trace:s.data.logicTrace,divergence_point:s.data.divergencePoint,remediation:s.data.remediation,confidence:s.data.confidence,capture_quality:n?.qualityScore??1,created_at:new Date().toISOString()},c=await cd();if(c){const{data:d,error:p}=await c.from("logic_traces").insert(o).select().single();if(p)console.error("[Lymbic] Supabase insert failed:",p);else return{success:!0,id:d.id,result:s.data}}const u=JSON.parse(localStorage.getItem("lymbic_traces")||"[]");return u.push(o),localStorage.setItem("lymbic_traces",JSON.stringify(u)),{success:!0,id:o.id,result:s.data}}async function o4(t,n){const a={trace_id:t,original_error_type:n.originalErrorType,actual_error_type:n.actualErrorType,notes:n.notes||null,created_at:new Date().toISOString()},s=await cd();if(s){const{error:c}=await s.from("corrections").insert(a);if(!c)return{success:!0}}const o=JSON.parse(localStorage.getItem("lymbic_corrections")||"[]");return o.push(a),localStorage.setItem("lymbic_corrections",JSON.stringify(o)),{success:!0}}function ex(){return JSON.parse(localStorage.getItem("lymbic_traces")||"[]")}function l4(){return ex().sort((n,a)=>new Date(a.created_at)-new Date(n.created_at))}function c4(){localStorage.removeItem("lymbic_traces"),localStorage.removeItem("lymbic_errors"),localStorage.removeItem("lymbic_corrections")}const Of=Object.freeze(Object.defineProperty({__proto__:null,clearAllTraces:c4,getAllTraces:l4,getLocalTraces:ex,normalizeAndStore:Wb,submitCorrection:o4},Symbol.toStringTag,{value:"Module"}));class u4{constructor(){this.pages=new Map,this.nextId=1,this.historyBuffer=[],this.bufferSize=10,this.iouThreshold=.45}update(n){if(!n||n.length!==4)return[];this.historyBuffer.push({quad:n,timestamp:Date.now()}),this.historyBuffer.length>this.bufferSize&&this.historyBuffer.shift();let a=null,s=0;for(const[u,d]of this.pages){if(d.status==="complete"||d.status==="failed")continue;const p=this._quadIoU(n,d.lastQuad);p>this.iouThreshold&&p>s&&(a=u,s=p)}if(a){const u=this.pages.get(a);return u.lastQuad=n,u.lastSeen=Date.now(),u.frameCount++,u.quadHistory.push(n),u.quadHistory.length>this.bufferSize&&u.quadHistory.shift(),[{id:a,page:u,isNew:!1}]}const o=this.nextId++,c={id:o,status:"detected",firstSeen:Date.now(),lastSeen:Date.now(),lastQuad:n,quadHistory:[n],frameCount:1,capturedImage:null,semanticFingerprint:null,analysisResult:null,error:null};return this.pages.set(o,c),[{id:o,page:c,isNew:!0}]}getStability(n){const a=this.pages.get(n);if(!a||a.quadHistory.length<3)return{stable:!1,jitter:1/0,frameCount:a?.frameCount||0};const s=a.quadHistory;let o=0;for(let u=1;u<s.length;u++)for(let d=0;d<4;d++){const p=s[u][d].x-s[u-1][d].x,m=s[u][d].y-s[u-1][d].y;o+=Math.sqrt(p*p+m*m)}const c=o/((s.length-1)*4);return{stable:c<8&&a.frameCount>=4,jitter:c,frameCount:a.frameCount}}setCapture(n,a){const s=this.pages.get(n);s&&(s.capturedImage=a,s.status="captured")}markAnalyzing(n){const a=this.pages.get(n);a&&(a.status="analyzing")}markComplete(n,a){const s=this.pages.get(n);s&&(s.status="complete",s.analysisResult=a)}markFailed(n,a){const s=this.pages.get(n);s&&(s.status="failed",s.error=a)}getAllPages(){return[...this.pages.values()]}getAnalyzedPages(){return[...this.pages.values()].filter(n=>n.status==="complete"&&n.analysisResult)}getPage(n){return this.pages.get(n)||null}reset(){this.pages.clear(),this.nextId=1,this.historyBuffer=[]}_quadIoU(n,a){const s=this._quadToBBox(n),o=this._quadToBBox(a),c=Math.max(s.x1,o.x1),u=Math.max(s.y1,o.y1),d=Math.min(s.x2,o.x2),p=Math.min(s.y2,o.y2);if(d<=c||p<=u)return 0;const m=(d-c)*(p-u),g=(s.x2-s.x1)*(s.y2-s.y1),y=(o.x2-o.x1)*(o.y2-o.y1);return m/(g+y-m)}_quadToBBox(n){const a=n.map(o=>o.x),s=n.map(o=>o.y);return{x1:Math.min(...a),y1:Math.min(...s),x2:Math.max(...a),y2:Math.max(...s)}}}class f4{constructor(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0})}async analyze(n){const a=await this.loadImage(n);this.canvas.width=a.width,this.canvas.height=a.height,this.ctx.drawImage(a,0,0);const s=this.ctx.getImageData(0,0,a.width,a.height),o={blur:this.measureBlur(s),brightness:this.measureBrightness(s),contrast:this.measureContrast(s),noise:this.measureNoise(s),skew:this.measureSkew(s),textDensity:this.estimateTextDensity(s)},c=this.calculateOverallScore(o),u=this.identifyIssues(o),d=this.generateRecommendations(u),p=this.determineAutoFixability(u);return{metrics:o,overallScore:c,issues:u,recommendations:d,canAutoFix:p,shouldProceed:c>.4,confidence:this.estimateAIConfidence(o)}}measureBlur(n){const{data:a,width:s,height:o}=n,c=this._toGrayscale(a,s,o),u=[0,1,0,1,-4,1,0,1,0];let d=0;for(let p=1;p<o-1;p++)for(let m=1;m<s-1;m++){let g=0;for(let y=-1;y<=1;y++)for(let b=-1;b<=1;b++)g+=c[(p+y)*s+(m+b)]*u[(y+1)*3+(b+1)];d+=g*g}return d/=(s-2)*(o-2),Math.min(1,d/500)}measureBrightness(n){const{data:a}=n;let s=0;for(let c=0;c<a.length;c+=4)s+=.299*a[c]+.587*a[c+1]+.114*a[c+2];const o=s/(a.length/4);return 1-Math.abs(o-128)/128}measureContrast(n){const{data:a}=n,s=new Array(256).fill(0);for(let p=0;p<a.length;p+=4){const m=Math.round(.299*a[p]+.587*a[p+1]+.114*a[p+2]);s[m]++}const o=a.length/4;let c=0,u=0,d=0;for(let p=0;p<256;p++)d+=s[p],d>=o*.05&&c===0&&(c=p),d>=o*.95&&u===0&&(u=p);return Math.min(1,(u-c)/200)}measureNoise(n){const{data:a,width:s,height:o}=n,c=this._toGrayscale(a,s,o),u=8,d=[];for(let m=0;m<o-u;m+=u)for(let g=0;g<s-u;g+=u){let y=0,b=0;for(let T=0;T<u;T++)for(let E=0;E<u;E++){const M=c[(m+T)*s+(g+E)];y+=M,b+=M*M}const S=u*u;d.push((b-y*y/S)/S)}d.sort((m,g)=>m-g);const p=d[Math.floor(d.length*.1)]||0;return Math.max(0,1-p/20)}measureSkew(n){const{data:a,width:s,height:o}=n,c=this._toGrayscale(a,s,o),u=this._sobelEdges(c,s,o),d=new Map,p=100;for(let b=0;b<o;b+=2)for(let S=0;S<s;S+=2)if(!(u[b*s+S]<=p))for(let T=-45;T<=45;T++){const E=S*Math.cos(T*Math.PI/180)+b*Math.sin(T*Math.PI/180),M=`${T}_${Math.round(E/10)}`;d.set(M,(d.get(M)||0)+1)}const g=[...d.entries()].sort((b,S)=>S[1]-b[1]).slice(0,5).map(([b])=>parseInt(b.split("_")[0]))[0]||0;return 1-Math.min(Math.abs(g%90),90-Math.abs(g%90))/45}estimateTextDensity(n){const{data:a,width:s,height:o}=n,c=this._toGrayscale(a,s,o),u=this._adaptiveThreshold(c,s,o);let d=0;for(let m=0;m<o;m++)for(let g=1;g<s;g++)u[m*s+g]!==u[m*s+g-1]&&d++;const p=d/(s*o);return p<.01?.3:p>.15?.5:Math.min(1,p/.05)}calculateOverallScore(n){return n.blur*.25+n.brightness*.15+n.contrast*.2+n.noise*.15+n.skew*.1+n.textDensity*.15}identifyIssues(n){const a=[];return n.blur<.4&&a.push({type:"BLUR",severity:n.blur<.2?"critical":"moderate",message:"Image is blurry"}),n.brightness<.3&&a.push({type:"DARK",severity:n.brightness<.15?"critical":"moderate",message:"Image is too dark"}),n.brightness>.85&&a.push({type:"BRIGHT",severity:n.brightness>.95?"critical":"moderate",message:"Image is overexposed"}),n.contrast<.3&&a.push({type:"LOW_CONTRAST",severity:"moderate",message:"Low contrast between text and background"}),n.skew<.6&&a.push({type:"SKEWED",severity:n.skew<.3?"critical":"moderate",message:"Document is tilted"}),n.textDensity<.3&&a.push({type:"SPARSE",severity:"info",message:"Limited text content detected"}),a}generateRecommendations(n){const a={BLUR:"Hold the camera steadier or move closer",DARK:"Increase lighting or move to a brighter area",BRIGHT:"Reduce direct light or move away from windows",LOW_CONTRAST:"Ensure document is on a contrasting surface",SKEWED:"Align document edges with the frame"};return[...new Set(n.map(s=>a[s.type]).filter(Boolean))]}determineAutoFixability(n){const a={LOW_CONTRAST:!0,DARK:!0,SKEWED:!0,BLUR:!1,BRIGHT:!1};return n.every(s=>s.severity!=="critical"||a[s.type])}estimateAIConfidence(n){return .5+(n.blur*.4+n.contrast*.3+n.brightness*.15+n.noise*.15)*.5}_toGrayscale(n,a,s){const o=new Float32Array(a*s);for(let c=0,u=0;c<n.length;c+=4,u++)o[u]=.299*n[c]+.587*n[c+1]+.114*n[c+2];return o}_sobelEdges(n,a,s){const o=new Float32Array(a*s),c=[-1,0,1,-2,0,2,-1,0,1],u=[-1,-2,-1,0,0,0,1,2,1];for(let d=1;d<s-1;d++)for(let p=1;p<a-1;p++){let m=0,g=0;for(let y=-1;y<=1;y++)for(let b=-1;b<=1;b++){const S=n[(d+y)*a+(p+b)],T=(y+1)*3+(b+1);m+=S*c[T],g+=S*u[T]}o[d*a+p]=Math.sqrt(m*m+g*g)}return o}_adaptiveThreshold(n,a,s){const o=new Uint8Array(a*s),c=15,u=10;for(let d=0;d<s;d++)for(let p=0;p<a;p++){let m=0,g=0;for(let y=-c;y<=c;y++)for(let b=-c;b<=c;b++){const S=d+y,T=p+b;S>=0&&S<s&&T>=0&&T<a&&(m+=n[S*a+T],g++)}o[d*a+p]=n[d*a+p]>m/g-u?1:0}return o}loadImage(n){return new Promise((a,s)=>{if(n instanceof HTMLImageElement){a(n);return}const o=new Image;o.onload=()=>a(o),o.onerror=s,o.src=n})}}class d4{constructor(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}async enhance(n,a){const s=await this._loadImage(n);this.canvas.width=s.width,this.canvas.height=s.height,this.ctx.drawImage(s,0,0);let o=this.ctx.getImageData(0,0,s.width,s.height);const c=[];for(const u of a.issues)switch(u.type){case"DARK":o=this._adjustBrightness(o,1.3),c.push("brightness_boost");break;case"LOW_CONTRAST":o=this._enhanceContrast(o),c.push("contrast_enhancement");break;case"SKEWED":c.push("skew_noted");break}return a.metrics.blur<.7&&(o=this._sharpen(o),c.push("sharpening")),o=this._documentEnhance(o),c.push("document_optimization"),this.ctx.putImageData(o,0,0),{enhanced:this.canvas.toDataURL("image/jpeg",.92),appliedFixes:c,originalQuality:a.overallScore,estimatedImprovement:this._estimateImprovement(a,c)}}_adjustBrightness(n,a){const s=n.data;for(let o=0;o<s.length;o+=4)s[o]=Math.min(255,s[o]*a),s[o+1]=Math.min(255,s[o+1]*a),s[o+2]=Math.min(255,s[o+2]*a);return n}_enhanceContrast(n){const a=n.data,s=new Array(256).fill(0);for(let m=0;m<a.length;m+=4)s[Math.round(.299*a[m]+.587*a[m+1]+.114*a[m+2])]++;const o=a.length/4;let c=0,u=255,d=0;for(let m=0;m<256;m++)if(d+=s[m],d>=o*.02&&c===0&&(c=m),d>=o*.98){u=m;break}const p=u-c||1;for(let m=0;m<a.length;m+=4)a[m]=Math.min(255,Math.max(0,(a[m]-c)*255/p)),a[m+1]=Math.min(255,Math.max(0,(a[m+1]-c)*255/p)),a[m+2]=Math.min(255,Math.max(0,(a[m+2]-c)*255/p));return n}_sharpen(n){const{data:a,width:s,height:o}=n,c=new Uint8ClampedArray(a),u=[0,-1,0,-1,5,-1,0,-1,0];for(let d=1;d<o-1;d++)for(let p=1;p<s-1;p++)for(let m=0;m<3;m++){let g=0;for(let y=-1;y<=1;y++)for(let b=-1;b<=1;b++)g+=a[((d+y)*s+(p+b))*4+m]*u[(y+1)*3+(b+1)];c[(d*s+p)*4+m]=Math.min(255,Math.max(0,g))}return n.data.set(c),n}_documentEnhance(n){const a=n.data;for(let s=0;s<a.length;s+=4){const o=.299*a[s]+.587*a[s+1]+.114*a[s+2];let c;o<128?c=Math.pow(o/128,1.2)*128/(o||1):c=(255-Math.pow((255-o)/127,1.2)*127)/(o||1),c=c||1,a[s]=Math.min(255,a[s]*c),a[s+1]=Math.min(255,a[s+1]*c),a[s+2]=Math.min(255,a[s+2]*c)}return n}_estimateImprovement(n,a){let s=0;return a.includes("brightness_boost")&&(s+=(1-n.metrics.brightness)*.3),a.includes("contrast_enhancement")&&(s+=(1-n.metrics.contrast)*.4),a.includes("sharpening")&&(s+=(1-n.metrics.blur)*.2),Math.min(.3,s)}_loadImage(n){return new Promise((a,s)=>{if(n instanceof HTMLImageElement){a(n);return}const o=new Image;o.onload=()=>a(o),o.onerror=s,o.src=n})}}class h4{constructor(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}async generate(n){const a=await this._loadImage(n),s=this._perceptualHash(a),o=this._structuralHash(a),c=this._colorHash(a);return{perceptual:s,structural:o,color:c,combined:`${s}|${o}|${c}`,timestamp:Date.now()}}compare(n,a){return this._hammingDistance(n.perceptual,a.perceptual)*.5+this._stringDistance(n.structural,a.structural)*.35+this._hammingDistance(n.color,a.color)*.15}_perceptualHash(n,a=16){this.canvas.width=a,this.canvas.height=a,this.ctx.drawImage(n,0,0,a,a);const s=this._grayscale(this.ctx.getImageData(0,0,a,a).data,a,a),o=new Float32Array(a*a),c=m=>m===0?1/Math.sqrt(2):1;for(let m=0;m<a;m++)for(let g=0;g<a;g++){let y=0;for(let b=0;b<a;b++)for(let S=0;S<a;S++)y+=s[b*a+S]*Math.cos((2*S+1)*g*Math.PI/(2*a))*Math.cos((2*b+1)*m*Math.PI/(2*a));o[m*a+g]=.25*c(g)*c(m)*y}const u=[];for(let m=0;m<8;m++)for(let g=0;g<8;g++)u.push(o[m*a+g]);const d=this._median(u.slice(1));let p="";for(let m=1;m<u.length;m++)p+=u[m]>d?"1":"0";return this._binToHex(p)}_structuralHash(n){this.canvas.width=32,this.canvas.height=32,this.ctx.drawImage(n,0,0,32,32);const a=this.ctx.getImageData(0,0,32,32).data,s=this._binarize(a,32,32),o=8,c=[];for(let u=0;u<4;u++)for(let d=0;d<4;d++){let p=0;for(let g=0;g<o;g++)for(let y=0;y<o;y++)p+=s[(u*o+g)*32+(d*o+y)];const m=p/(o*o);c.push(m>.5?"H":m>.2?"M":m>.05?"L":"E")}return c.join("")}_colorHash(n){this.canvas.width=8,this.canvas.height=8,this.ctx.drawImage(n,0,0,8,8);const{data:a}=this.ctx.getImageData(0,0,8,8),s=new Array(12).fill(0);for(let o=0;o<a.length;o+=4){const{h:c,s:u,v:d}=this._rgbToHsv(a[o],a[o+1],a[o+2]);u>.2&&d>.2&&s[Math.floor(c/30)]++}return s.map(o=>o>3?"1":"0").join("")}_hammingDistance(n,a){const s=this._hexToBin(n),o=this._hexToBin(a),c=Math.max(s.length,o.length);let u=0;for(let d=0;d<c;d++)s[d]===o[d]&&u++;return u/c}_stringDistance(n,a){let s=0;for(let o=0;o<Math.min(n.length,a.length);o++)n[o]===a[o]&&s++;return s/Math.max(n.length,a.length)}_grayscale(n,a,s){const o=new Float32Array(a*s);for(let c=0,u=0;c<n.length;c+=4,u++)o[u]=.299*n[c]+.587*n[c+1]+.114*n[c+2];return o}_binarize(n,a,s){const o=this._grayscale(n,a,s),c=this._otsuThreshold(o);return o.map(u=>u>c?0:1)}_otsuThreshold(n){const a=new Array(256).fill(0);for(const m of n)a[Math.round(m)]++;const s=n.length;let o=0;for(let m=0;m<256;m++)o+=m*a[m];let c=0,u=0,d=0,p=0;for(let m=0;m<256;m++){if(u+=a[m],u===0)continue;const g=s-u;if(g===0)break;c+=m*a[m];const y=u*g*Math.pow(c/u-(o-c)/g,2);y>d&&(d=y,p=m)}return p}_rgbToHsv(n,a,s){n/=255,a/=255,s/=255;const o=Math.max(n,a,s),c=Math.min(n,a,s),u=o-c;let d=0;return u!==0&&(o===n?d=((a-s)/u+(a<s?6:0))*60:o===a?d=((s-n)/u+2)*60:d=((n-a)/u+4)*60),{h:d,s:o===0?0:u/o,v:o}}_median(n){const a=[...n].sort((o,c)=>o-c),s=Math.floor(a.length/2);return a.length%2?a[s]:(a[s-1]+a[s])/2}_binToHex(n){let a="";for(let s=0;s<n.length;s+=4)a+=parseInt(n.substr(s,4),2).toString(16);return a}_hexToBin(n){return n.split("").map(a=>parseInt(a,16).toString(2).padStart(4,"0")).join("")}_loadImage(n){return new Promise((a,s)=>{if(n instanceof HTMLImageElement){a(n);return}const o=new Image;o.onload=()=>a(o),o.onerror=s,o.src=n})}}class p4{constructor(){this.conceptGraph=new Map}synthesize(n){if(!n?.length)return null;const a={pageCount:n.length,unifiedResponses:this._mergeResponses(n),progressionAnalysis:this._progression(n),conceptMastery:this._conceptMastery(n),overallAssessment:this._overallAssessment(n),patterns:this._patterns(n),recommendations:[]};return a.recommendations=this._recommendations(a),a}_mergeResponses(n){const a=[],s=new Set;for(const o of n)for(const c of o.analysisResult?.responses||[]){const u=`${c.questionId}_${(c.questionText||"").slice(0,30)}`;if(s.has(u)){const d=a.find(p=>p.questionId===c.questionId);d&&(d.continuedFrom=d.continuedFrom||[],d.continuedFrom.push({pageId:o.id,additionalAnswer:c.studentAnswer}))}else s.add(u),a.push({...c,sourcePageId:o.id,pageNumber:n.indexOf(o)+1})}return a.sort((o,c)=>{const u=parseInt((o.questionId||"").replace(/\D/g,""))||0,d=parseInt((c.questionId||"").replace(/\D/g,""))||0;return u-d})}_progression(n){const a=n.filter(y=>y.analysisResult?.overallAssessment?.score!=null).map((y,b)=>({page:b+1,score:y.analysisResult.overallAssessment.score}));if(a.length<2)return{trend:"insufficient_data",scores:a};const s=Math.ceil(a.length/2),o=a.slice(0,s).reduce((y,b)=>y+b.score,0)/s,c=a.slice(s).reduce((y,b)=>y+b.score,0)/(a.length-s),u=c-o,d=u>10?"improving":u<-10?"declining":"stable",p=a.reduce((y,b)=>b.score>y.score?b:y,a[0]),m=a.reduce((y,b)=>b.score<y.score?b:y,a[0]),g={improving:"Student demonstrates growth. Later sections show stronger understanding.",declining:"Performance decreased on later pages  could indicate fatigue or difficulty.",stable:"Consistent performance throughout."};return{trend:d,scores:a,firstHalfAverage:o.toFixed(1),secondHalfAverage:c.toFixed(1),peakPerformance:{page:p.page,score:p.score},lowestPerformance:{page:m.page,score:m.score},interpretation:g[d]}}_conceptMastery(n){const a=new Map;for(const o of n)for(const c of o.analysisResult?.responses||[]){const u=c.score?.percentage??(c.isCorrect===!0?1:c.isCorrect==="partial"?.5:0);for(const d of c.conceptsAssessed||[]){a.has(d)||a.set(d,{total:0,count:0,responses:[]});const p=a.get(d);p.total+=u,p.count++,p.responses.push({questionId:c.questionId,score:u})}}const s=[];for(const[o,c]of a){const u=c.total/c.count,d=u>=.9?"mastered":u>=.7?"proficient":u>=.5?"developing":"needs_work";s.push({concept:o,averageScore:u,level:d,questionCount:c.count})}return s.sort((o,c)=>o.averageScore-c.averageScore)}_overallAssessment(n){const a=n.flatMap(d=>d.analysisResult?.responses||[]).filter(d=>d.score?.earned!=null&&d.score?.possible!=null);if(!a.length)return{score:null,grade:null,message:"Unable to calculate"};const s=a.reduce((d,p)=>d+p.score.earned,0),o=a.reduce((d,p)=>d+p.score.possible,0),c=s/o*100,u=c>=90?"A":c>=80?"B":c>=70?"C":c>=60?"D":"F";return{score:c.toFixed(1),earned:s,possible:o,grade:u,questionCount:a.length,correctCount:a.filter(d=>d.isCorrect===!0).length,partialCount:a.filter(d=>d.isCorrect==="partial").length,incorrectCount:a.filter(d=>d.isCorrect===!1).length}}_patterns(n){const a=[],s={};for(const u of n)for(const d of u.analysisResult?.responses||[])d.errorType&&(s[d.errorType]=(s[d.errorType]||0)+1);for(const[u,d]of Object.entries(s).filter(([,p])=>p>=2).sort((p,m)=>m[1]-p[1]))a.push({type:"recurring_error",description:`${u} errors appeared ${d} times`,severity:d>=4?"high":"medium",errorType:u,count:d});const o={};for(const u of n)for(const d of u.analysisResult?.responses||[])if(!d.studentAnswer?.trim()){const p=(d.questionId||"").replace(/\d/g,"")||"general";o[p]=(o[p]||0)+1}for(const[u,d]of Object.entries(o).filter(([,p])=>p>=2))a.push({type:"skipped_questions",description:`Multiple questions skipped in ${u}`,severity:"medium",section:u,count:d});const c={};for(const u of n)for(const d of u.analysisResult?.overallAssessment?.strengths||[])c[d.toLowerCase().trim()]=(c[d.toLowerCase().trim()]||0)+1;for(const[u,d]of Object.entries(c).filter(([,p])=>p>=2))a.push({type:"consistent_strength",description:u,severity:"positive",count:d});return a}_recommendations(n){const a=[];for(const c of n.conceptMastery.filter(u=>u.level==="needs_work").slice(0,3))a.push({priority:"high",category:"concept_review",message:`Focus on ${c.concept}  ${(c.averageScore*100).toFixed(0)}% mastery`,suggestedActions:[`Review ${c.concept} fundamentals`,"Practice more problems","Consider one-on-one help"]});n.progressionAnalysis.trend==="declining"&&a.push({priority:"medium",category:"study_habits",message:"Performance decreased on later pages",suggestedActions:["Take short breaks","Tackle difficult sections first","Practice time management"]});for(const c of n.patterns.filter(u=>u.type==="recurring_error"&&u.severity==="high"))a.push({priority:"high",category:"error_correction",message:`Recurring ${c.errorType} errors need attention`,suggestedActions:[`Review common causes of ${c.errorType} errors`,"Practice checking work","Create a checklist"]});const s=n.patterns.filter(c=>c.type==="consistent_strength");s.length&&a.push({priority:"positive",category:"reinforcement",message:`Strengths: ${s.map(c=>c.description).join(", ")}`,suggestedActions:["Continue applying these skills","Help peers in these areas"]});const o={high:0,medium:1,positive:2,low:3};return a.sort((c,u)=>o[c.priority]-o[u.priority])}}class m4{constructor(n={}){this.config={thresholds:{quadConfidence:.7,stability:.85,qualityEstimate:.5,edgeDensity:.1,aspectRatio:{min:.5,max:2},coverage:.15,focusScore:.4},stabilityDuration:500,weights:{quadConfidence:.25,stability:.25,qualityEstimate:.2,edgeDensity:.15,coverage:.15},...n},this.state={stableSince:null,frameHistory:[]}}assess(n){const{detected:a,quad:s,confidence:o,frameData:c,timestamp:u=Date.now()}=n;if(!a||!s||!this._isValidQuad(s))return this._failedAssessment("NO_DOCUMENT","No document detected in frame");const d={quadConfidence:o||0,stability:this._calcStability(s,u),qualityEstimate:c?this._estimateQuality(c):.7,edgeDensity:c?this._measureEdgeDensity(c,s):.5,aspectRatio:this._calcAspectRatio(s),coverage:this._calcCoverage(s,c),focusScore:c?this._estimateFocus(c,s):.6},p=this._checkBlocks(d);if(p.length>0)return this._blockedAssessment(p,d);const m=this._compositeScore(d),g=this._stabilityDurationMet(u),y=this._generateGuidance(d,g);return{ready:m>=.7&&g,score:m,factors:d,stabilityMet:g,stabilityProgress:this._stabilityProgress(u),guidance:y,blockingReasons:[],timestamp:u,quad:[...s]}}_isValidQuad(n){if(!Array.isArray(n)||n.length!==4)return!1;for(const o of n)if(typeof o.x!="number"||typeof o.y!="number"||!isFinite(o.x)||!isFinite(o.y))return!1;const a=n.map(o=>o.x),s=n.map(o=>o.y);return Math.max(...a)-Math.min(...a)<10||Math.max(...s)-Math.min(...s)<10?!1:!this._isSelfIntersecting(n)}_isSelfIntersecting(n){const[a,s,o,c]=n,u=(p,m,g)=>(g.y-p.y)*(m.x-p.x)>(m.y-p.y)*(g.x-p.x),d=(p,m,g,y)=>u(p,g,y)!==u(m,g,y)&&u(p,m,g)!==u(p,m,y);return d(a,s,o,c)||d(s,o,c,a)}_calcStability(n,a){if(this.state.frameHistory.push({quad:n,timestamp:a}),this.state.frameHistory.length>10&&this.state.frameHistory.shift(),this.state.frameHistory.length<3)return 0;let s=0,o=0;for(let u=1;u<this.state.frameHistory.length;u++){const d=this.state.frameHistory[u-1].quad,p=this.state.frameHistory[u].quad;let m=0;for(let g=0;g<4;g++)m+=Math.hypot(p[g].x-d[g].x,p[g].y-d[g].y);s+=m/4,o++}const c=Math.max(0,1-s/o/10);return c>=this.config.thresholds.stability?this.state.stableSince||(this.state.stableSince=a):this.state.stableSince=null,c}_estimateQuality(n){if(!n?.data)return .5;const{data:a}=n;let s=0,o=255,c=0,u=0;for(let d=0;d<a.length;d+=40){const p=(a[d]+a[d+1]+a[d+2])/3;s+=p,p<o&&(o=p),p>c&&(c=p),u++}return s/=u,(1-Math.abs(s-128)/128+Math.min(1,(c-o)/150))/2}_measureEdgeDensity(n,a){if(!n?.data)return .5;const{data:s,width:o}=n,c=a.map(S=>S.x),u=a.map(S=>S.y),d=Math.max(0,Math.floor(Math.min(...c))),p=Math.min(o-2,Math.ceil(Math.max(...c))),m=Math.max(0,Math.floor(Math.min(...u))),g=Math.min(s.length/(o*4)-2,Math.ceil(Math.max(...u)));let y=0,b=0;for(let S=m+1;S<g;S+=4)for(let T=d+1;T<p;T+=4){const E=(S*o+T)*4,M=(s[E]+s[E+1]+s[E+2])/3,D=(s[E+4]+s[E+5]+s[E+6])/3,j=((S+1)*o+T)*4,C=(s[j]+s[j+1]+s[j+2])/3;Math.sqrt((D-M)**2+(C-M)**2)>20&&y++,b++}return b>0?y/b:0}_calcAspectRatio(n){const a=(Math.hypot(n[1].x-n[0].x,n[1].y-n[0].y)+Math.hypot(n[2].x-n[3].x,n[2].y-n[3].y))/2,s=(Math.hypot(n[3].x-n[0].x,n[3].y-n[0].y)+Math.hypot(n[2].x-n[1].x,n[2].y-n[1].y))/2;return s>0?a/s:0}_calcCoverage(n,a){const s=this._polygonArea(n),o=a?a.width*a.height:Math.max(...n.map(c=>c.x))*Math.max(...n.map(c=>c.y))*1.5;return o>0?s/o:0}_estimateFocus(n,a){if(!n?.data)return .6;const{data:s,width:o,height:c}=n,u=a.reduce((g,y)=>g+y.x,0)/4,d=a.reduce((g,y)=>g+y.y,0)/4;let p=0,m=0;for(let g=-15;g<=15;g++)for(let y=-15;y<=15;y++){const b=Math.floor(u+y),S=Math.floor(d+g);if(b<1||b>=o-1||S<1||S>=c-1)continue;const T=(S*o+b)*4,E=(s[T]+s[T+1]+s[T+2])/3,M=(s[T-4]+s[T-3]+s[T-2])/3,D=(s[T+4]+s[T+5]+s[T+6])/3,j=(s[((S-1)*o+b)*4]+s[((S-1)*o+b)*4+1]+s[((S-1)*o+b)*4+2])/3,C=(s[((S+1)*o+b)*4]+s[((S+1)*o+b)*4+1]+s[((S+1)*o+b)*4+2])/3,B=Math.abs(M+D+j+C-4*E);p+=B*B,m++}return Math.min(1,(m>0?p/m:0)/2e3)}_checkBlocks(n){const a=[],{thresholds:s}=this.config;return n.quadConfidence<.3&&a.push({code:"LOW_CONFIDENCE",message:"Document detection is uncertain",severity:"critical"}),n.edgeDensity<s.edgeDensity&&a.push({code:"NO_CONTENT",message:"No document content detected  might be a blank surface",severity:"critical"}),(n.aspectRatio<s.aspectRatio.min||n.aspectRatio>s.aspectRatio.max)&&a.push({code:"INVALID_SHAPE",message:"Detected shape doesn't look like a document",severity:"warning"}),n.coverage<s.coverage&&a.push({code:"TOO_FAR",message:"Document is too small  move closer",severity:"warning"}),n.coverage>.95&&a.push({code:"TOO_CLOSE",message:"Document edges may be cut off  move back",severity:"warning"}),n.focusScore<s.focusScore&&a.push({code:"BLURRY",message:"Image appears blurry  hold steady",severity:"warning"}),a}_compositeScore(n){const{weights:a}=this.config;let s=0,o=0;for(const[c,u]of Object.entries(a))n[c]!==void 0&&(s+=n[c]*u,o+=u);return o>0?s/o:0}_stabilityDurationMet(n){return this.state.stableSince?n-this.state.stableSince>=this.config.stabilityDuration:!1}_stabilityProgress(n){return this.state.stableSince?Math.min(1,(n-this.state.stableSince)/this.config.stabilityDuration):0}_generateGuidance(n,a){const s=[],{thresholds:o}=this.config;return n.stability<o.stability?s.push({priority:1,message:"Hold steady",icon:"motion"}):a||s.push({priority:1,message:"Almost there",icon:"timer"}),n.quadConfidence<o.quadConfidence&&s.push({priority:2,message:"Center the document",icon:"target"}),n.edgeDensity<o.edgeDensity&&s.push({priority:3,message:"Point at a document with writing",icon:"document"}),n.focusScore<o.focusScore&&s.push({priority:4,message:"Tap to focus",icon:"focus"}),n.coverage<o.coverage&&s.push({priority:5,message:"Move closer",icon:"zoom-in"}),s.sort((c,u)=>c.priority-u.priority),{primary:s[0]||{message:"Ready to capture",icon:"check"},all:s,isReady:s.length===0}}_failedAssessment(n,a){return this.state.stableSince=null,this.state.frameHistory=[],{ready:!1,score:0,factors:null,stabilityMet:!1,stabilityProgress:0,guidance:{primary:{message:"Position document in frame",icon:"scan"},all:[],isReady:!1},blockingReasons:[{code:n,message:a,severity:"critical"}],timestamp:Date.now(),quad:null}}_blockedAssessment(n,a){const s={LOW_CONFIDENCE:"help",NO_CONTENT:"document-search",INVALID_SHAPE:"resize",TOO_FAR:"zoom-in",TOO_CLOSE:"zoom-out",BLURRY:"focus"};return{ready:!1,score:this._compositeScore(a),factors:a,stabilityMet:!1,stabilityProgress:this._stabilityProgress(Date.now()),guidance:{primary:{message:n[0].message,icon:s[n[0].code]||"alert"},all:n.map(o=>({priority:o.severity==="critical"?0:1,message:o.message,icon:s[o.code]||"alert"})),isReady:!1},blockingReasons:n,timestamp:Date.now(),quad:null}}_polygonArea(n){let a=0;for(let s=0;s<n.length;s++){const o=(s+1)%n.length;a+=n[s].x*n[o].y-n[o].x*n[s].y}return Math.abs(a)/2}reset(){this.state={stableSince:null,frameHistory:[]}}}class g4{constructor(){this.profiles={WORKSHEET:{focus:["numbered questions","fill-in-the-blank","multiple choice"],extractionPriority:["questionId","studentAnswer","workShown"],commonErrors:["skipped questions","partial answers","erasure marks"]},ESSAY:{focus:["paragraph structure","thesis statement","supporting evidence"],extractionPriority:["paragraphs","mainIdea","vocabulary"],commonErrors:["run-on sentences","spelling","organization"]},TEST:{focus:["answer bubbles","short answer","matching sections"],extractionPriority:["questionId","selectedOption","confidence"],commonErrors:["multiple selections","erasures","blank answers"]},MATH:{focus:["equations","work shown","final answers","graphs"],extractionPriority:["problem","steps","answer","method"],commonErrors:["calculation errors","unit omission","sign errors"]},DRAWING:{focus:["labeled parts","arrows","color usage","proportions"],extractionPriority:["labels","completeness","accuracy"],commonErrors:["missing labels","incorrect proportions"]}},this.learningHistory=new Map}async generate(n={}){const{imageAnalysis:a=null,detectedType:s=null,previousPages:o=[],rubric:c=null,knownAnswers:u=null,feedbackStyle:d="constructive"}=n,p=s||"WORKSHEET",m=this.profiles[p]||this.profiles.WORKSHEET,g=[];g.push(this._roleSection(p,d)),o.length>0&&g.push(this._contextSection(o)),g.push(this._qualitySection(a)),g.push(this._extractionSection(m,u)),c&&g.push(this._rubricSection(c)),g.push(this._outputSection(p)),g.push(this._reasoningSection());const y=this._learningSection(p);y&&g.push(y);const b=g.join(`

`);return{prompt:b,documentType:p,profile:m,estimatedTokens:Math.ceil(b.length/4)}}recordCorrection(n,a,s,o){this.learningHistory.has(n)||this.learningHistory.set(n,[]);const c=this.learningHistory.get(n);c.push({timestamp:Date.now(),original:a,corrected:s,description:o}),c.length>20&&this.learningHistory.set(n,c.slice(-20))}_roleSection(n,a){const s={constructive:"balanced, noting both strengths and areas for improvement",strict:"thorough and precise, focusing on accuracy",encouraging:"supportive and growth-focused, emphasizing effort and progress"};return`# Role
You are an expert educational assessment specialist with deep experience in K-12 education. Your feedback style is ${s[a]||s.constructive}.

You are analyzing a ${n.toLowerCase()} submitted by a student. Your goal is to:
1. Accurately extract all student responses
2. Evaluate correctness with nuance (partial credit where appropriate)
3. Provide specific, actionable feedback
4. Identify patterns that might indicate conceptual misunderstandings`}_contextSection(n){const a=n.filter(o=>o.analysisResult).map((o,c)=>`Page ${c+1}: ${o.analysisResult.summary||"No summary"}`).join(`
`),s=this._detectPatterns(n);return`# Multi-Page Context
Previous pages:
${a}
${s?`
Observed pattern: ${s}`:""}

Use this context to reference earlier answers and note improvement or consistency.`}_qualitySection(n){if(!n)return`# Image Quality
No quality data. Proceed with standard analysis and mark illegible text as "[ILLEGIBLE]".`;const a=n.issues?.map(s=>s.message).join(", ")||"None";return`# Image Quality Notice
Quality Score: ${(n.overallScore*100).toFixed(0)}%
Issues: ${a}
Expected Confidence: ${(n.confidence*100).toFixed(0)}%

If text is illegible, mark as "[ILLEGIBLE]"  do NOT guess. Lower per-question confidence accordingly.`}_extractionSection(n,a){let s=`# Extraction Instructions
Focus on: ${n.focus.join(", ")}
Extract: ${n.extractionPriority.map((o,c)=>`${c+1}. ${o}`).join(`
`)}
Watch for: ${n.commonErrors.join(", ")}`;return a&&(s+=`

## Answer Reference
${JSON.stringify(a,null,2)}
Compare student responses against these.`),s}_rubricSection(n){return`# Grading Rubric
${typeof n=="string"?n:JSON.stringify(n,null,2)}
Cite specific rubric points in your feedback.`}_outputSection(n){return`# Required Output Format
Respond with valid JSON only.

{
  "documentType": "${n}",
  "pageAnalysis": { "contentSummary": "string", "estimatedCompleteness": 0.0, "readabilityScore": 0.0 },
  "studentInfo": { "name": null, "date": null, "period": null },
  "responses": [{
    "questionId": "string",
    "questionText": "string",
    "studentAnswer": "string",
    "workShown": "string",
    "isCorrect": true,
    "score": { "earned": 0, "possible": 10, "percentage": 0.0 },
    "feedback": "string",
    "conceptsAssessed": [],
    "errorType": null
  }],
  "overallAssessment": {
    "score": 0,
    "grade": "A",
    "strengths": [],
    "areasForImprovement": [],
    "suggestedNextSteps": []
  },
  "confidence": { "overall": 0.0, "perQuestion": {} },
  "flags": []
}`}_reasoningSection(){return`# Reasoning Process
Before outputting JSON, work through:
1. SCAN: Identify all visible questions and responses
2. READ: Carefully transcribe each student answer
3. EVALUATE: Compare against correct answers or rubric
4. PARTIAL CREDIT: Consider if incorrect answers show understanding
5. PATTERN: Look for systematic errors indicating misconceptions
6. FEEDBACK: Craft specific, actionable suggestions`}_learningSection(n){const a=this.learningHistory.get(n);return a?.length?`# Learned Patterns
Based on past corrections:
${a.slice(-5).map(s=>`- ${s.description}`).join(`
`)}
Adjust accordingly.`:null}_detectPatterns(n){if(n.length<2)return null;const a=n.filter(u=>u.analysisResult).map(u=>u.analysisResult),s={};for(const u of a)for(const d of u.responses||[])d.errorType&&(s[d.errorType]=(s[d.errorType]||0)+1);const o=Object.entries(s).sort((u,d)=>d[1]-u[1])[0];if(o&&o[1]>=2)return`Recurring ${o[0]} errors detected`;const c=a.map(u=>u.overallAssessment?.score).filter(u=>u!=null);if(c.length>=2){const u=c[c.length-1]-c[0];if(u>15)return"Student showing improvement across pages";if(u<-15)return"Difficulty may be increasing  check for fatigue"}return null}}class y4{constructor(){this.accuracyHistory=[],this.weights={imageQuality:.25,responseConsistency:.2,historicalAccuracy:.25,contentComplexity:.15,aiConfidence:.15}}calibrate({rawAIConfidence:n,imageQuality:a,responses:s,documentType:o,previousResults:c=[]}){const u={imageQuality:a?.overallScore??.7,responseConsistency:this._consistency(s),historicalAccuracy:this._historicalAccuracy(o),contentComplexity:this._complexity(s),aiConfidence:this._adjustRaw(n)};let d=0;for(const[p,m]of Object.entries(this.weights))d+=(u[p]||.5)*m;return d=Math.max(.1,Math.min(.95,d)),{overall:d,perQuestion:this._perQuestion(s,u),factors:u,explanation:this._explain(u,d)}}recordOutcome(n,a,s){this.accuracyHistory.push({timestamp:Date.now(),wasCorrect:a,documentType:s,originalConfidence:n.confidence?.overall}),this.accuracyHistory.length>100&&(this.accuracyHistory=this.accuracyHistory.slice(-100))}getStats(){const n=this.accuracyHistory.length;if(!n)return null;const a=this.accuracyHistory.filter(s=>s.wasCorrect).length;return{totalAssessments:n,accuracyRate:a/n,averageConfidence:this.accuracyHistory.reduce((s,o)=>s+(o.originalConfidence||.7),0)/n}}_consistency(n){if(!n?.length)return .5;const a=n.map(c=>c.confidence?.individual??c.score?.percentage).filter(c=>c!=null);if(a.length<2)return .7;const s=a.reduce((c,u)=>c+u,0)/a.length,o=Math.sqrt(a.reduce((c,u)=>c+(u-s)**2,0)/a.length);return Math.max(.4,1-o)}_historicalAccuracy(n){const a=this.accuracyHistory.filter(s=>!n||s.documentType===n).slice(-20);return a.length?a.filter(s=>s.wasCorrect).length/a.length:.7}_complexity(n){if(!n?.length)return .5;let a=0,s=0;for(const o of n){const c=o.studentAnswer?.length||0;a+=c>200?.3:c>50?.6:.9,s++,o.workShown?.length>20&&(a+=.5,s++),o.isCorrect==="partial"&&(a+=.4,s++)}return s>0?a/s:.7}_adjustRaw(n){return n==null?.5:n>.9?.85+(n-.9)*.5:n>.7?n*.95:n}_perQuestion(n,a){const s={};for(const o of n||[]){let c=o.confidence?.individual??.7;o.studentAnswer==="[ILLEGIBLE]"?c=.1:o.isCorrect==="partial"&&(c*=.85),c*=a.imageQuality,s[o.questionId||"unknown"]=Math.max(.1,Math.min(.95,c))}return s}_explain(n,a){const s=[];return n.imageQuality<.5&&s.push("Low image quality reduces confidence"),n.responseConsistency<.5&&s.push("Inconsistent response confidence"),n.historicalAccuracy<.6&&s.push("Past corrections suggest this type is challenging"),n.contentComplexity<.5&&s.push("Complex content adds uncertainty"),s.length||s.push("All factors within normal ranges"),{summary:`Calibrated: ${(a*100).toFixed(0)}%`,factors:s}}}class v4{constructor(){this.checks=[this._validateCapture,this._validateGeometry,this._validateContent,this._validateTiming]}async run(n,a){const s={passed:!0,failures:[],warnings:[],checks:{},timestamp:Date.now()};for(const o of this.checks){const c=await o.call(this,n,a);s.checks[c.name]=c,c.status==="FAIL"?(s.passed=!1,s.failures.push(c)):c.status==="WARN"&&s.warnings.push(c)}return s}_validateCapture(n){const a={name:"CAPTURE_VALIDATION",status:"PASS",details:{}};if(!n)return a.status="FAIL",a.reason="No capture data provided",a;if(typeof n.image!="string")return a.status="FAIL",a.reason="Invalid image data type",a;if(!n.image.startsWith("data:image/"))return a.status="FAIL",a.reason="Image is not a valid data URL",a;const s=n.image.split(",")[1]?.length||0;return s*.75<1e3?(a.status="FAIL",a.reason="Image data too small  likely corrupt",a.details.estimatedBytes=Math.round(s*.75),a):(n.timestamp&&Date.now()-n.timestamp>5e3&&(a.status="WARN",a.reason="Capture is stale (>5s old)",a.details.ageMs=Date.now()-n.timestamp),a)}_validateGeometry(n,a){const s={name:"GEOMETRY_VALIDATION",status:"PASS",details:{}},o=n?.quad||a?.quad;if(!o)return s.status="FAIL",s.reason="No document geometry detected",s;if(!Array.isArray(o)||o.length!==4)return s.status="FAIL",s.reason="Invalid quad structure",s;for(let d=0;d<4;d++){const p=o[d];if(!p||typeof p.x!="number"||typeof p.y!="number"||isNaN(p.x)||isNaN(p.y))return s.status="FAIL",s.reason=`Invalid/NaN coordinate at point ${d}`,s}const c=this._quadArea(o);if(s.details.area=c,c<1e3)return s.status="FAIL",s.reason="Detected document area is too small",s;const u=this._minEdge(o);return s.details.minEdgeLength=u,u<20?(s.status="FAIL",s.reason="Document edges are too short",s):(this._isConvex(o)||(s.status="WARN",s.reason="Document outline is not convex"),s)}async _validateContent(n,a){const s={name:"CONTENT_VALIDATION",status:"PASS",details:{}};if(a?.factors?.edgeDensity!==void 0){if(s.details.edgeDensity=a.factors.edgeDensity,a.factors.edgeDensity<.05)return s.status="FAIL",s.reason="No visible content  appears blank",s;a.factors.edgeDensity<.1&&(s.status="WARN",s.reason="Very little content detected")}if(n?.image){const o=await this._quickContentCheck(n.image);if(s.details.contentScore=o,o<.1)return s.status="FAIL",s.reason="Image analysis found no document content",s}return s}_validateTiming(n,a){const s={name:"TIMING_VALIDATION",status:"PASS",details:{}};if(a?.timestamp){const o=Date.now()-a.timestamp;s.details.readinessAgeMs=o,o>1e3&&(s.status="WARN",s.reason="Readiness state may be outdated")}return a&&!a.stabilityMet&&(s.status="WARN",s.reason="Capture triggered before stability confirmed"),a?.score!==void 0&&a.score<.6&&(s.status="WARN",s.reason=`Low readiness score at capture: ${a.score.toFixed(2)}`),s}_quadArea(n){let a=0;for(let s=0;s<n.length;s++){const o=(s+1)%n.length;a+=n[s].x*n[o].y-n[o].x*n[s].y}return Math.abs(a)/2}_minEdge(n){let a=1/0;for(let s=0;s<n.length;s++){const o=(s+1)%n.length;a=Math.min(a,Math.hypot(n[o].x-n[s].x,n[o].y-n[s].y))}return a}_isConvex(n){let a=null;for(let s=0;s<n.length;s++){const o=n[s],c=n[(s+1)%n.length],u=n[(s+2)%n.length],p=(c.x-o.x)*(u.y-c.y)-(c.y-o.y)*(u.x-c.x)>=0;if(a===null)a=p;else if(a!==p)return!1}return!0}_quickContentCheck(n){return new Promise(a=>{const s=new Image;s.onload=()=>{const o=document.createElement("canvas"),c=64;o.width=c,o.height=c;const u=o.getContext("2d");u.drawImage(s,0,0,c,c);const d=u.getImageData(0,0,c,c).data;let p=0;for(let m=1;m<c-1;m++)for(let g=1;g<c-1;g++){const y=(m*c+g)*4,b=(d[y]+d[y+1]+d[y+2])/3,S=(d[(m*c+g+1)*4]+d[(m*c+g+1)*4+1]+d[(m*c+g+1)*4+2])/3;Math.abs(b-S)>30&&p++}a(p/((c-2)*(c-2)))},s.onerror=()=>a(.5),s.src=n})}}class b4{constructor(n={}){this.config={successRate:.85,partialSuccessRate:.1,networkErrorRate:.03,timeoutRate:.02,minLatency:500,maxLatency:2e3,qualityThresholds:{excellent:.8,good:.6,poor:.4,reject:.2},...n},this.callCount=0}async analyze(n,a={}){this.callCount++;const s=Date.now();await this._delay(this._rand(this.config.minLatency,this.config.maxLatency));const o=this._assessQuality(n);return{...this._determineOutcome(o),meta:{mockGenerated:!0,callNumber:this.callCount,latencyMs:Date.now()-s,qualityScore:o,timestamp:Date.now()}}}_assessQuality(n){let a=.5;if(!n)return 0;if(!n.image)return .1;const s=n.image.length;if(s>1e5?a+=.2:s>5e4?a+=.1:s<1e4&&(a-=.2),n.quad&&Array.isArray(n.quad)&&n.quad.length===4){a+=.15;const o=this._quadArea(n.quad);o>5e4?a+=.1:o<1e4&&(a-=.1)}else a-=.3;return n.readiness&&(n.readiness.ready&&(a+=.15),n.readiness.stabilityMet&&(a+=.1),n.readiness.factors?.edgeDensity>.1&&(a+=.1)),Math.max(0,Math.min(1,a))}_determineOutcome(n){const{qualityThresholds:a}=this.config;if(n<a.reject)return this._error("NO_DOCUMENT_FOUND","Could not detect a document");if(n<a.poor)return Math.random()<.5?this._error("LOW_QUALITY","Image quality too low"):this._partial(n);const s=Math.random();if(s<this.config.networkErrorRate)return this._error("NETWORK_ERROR","Failed to connect");if(s<this.config.networkErrorRate+this.config.timeoutRate)return this._error("TIMEOUT","Request timed out",!0);if(n>=a.good){const o=Math.random();if(o<this.config.successRate)return this._success(n);if(o<this.config.successRate+this.config.partialSuccessRate)return this._partial(n)}return Math.random()<.6?this._success(n):this._partial(n)}_success(n){const a=this._rand(3,8),s=[];for(let d=1;d<=a;d++){const p=Math.random()<.6+n*.2,m=!p&&Math.random()<.3;s.push({questionId:`Q${d}`,questionText:this._questions[d%this._questions.length],studentAnswer:this._answers[Math.floor(Math.random()*this._answers.length)],isCorrect:m?"partial":p,score:{earned:p?10:m?5:0,possible:10,percentage:p?1:m?.5:0},feedback:p?"Correct! Great work.":m?"Partially correct. Check your final step.":"Not quite. Review the concept.",confidence:{individual:.7+Math.random()*.25}})}const o=s.reduce((d,p)=>d+p.score.earned,0),c=s.reduce((d,p)=>d+p.score.possible,0),u=o/c*100;return{success:!0,analysis:{documentType:"WORKSHEET",pageAnalysis:{contentSummary:"Math worksheet with multiple question types",estimatedCompleteness:.85+Math.random()*.15,readabilityScore:n},studentInfo:{name:Math.random()>.3?"Sample Student":null,date:Math.random()>.5?"2024-01-15":null},responses:s,overallAssessment:{score:u,grade:u>=90?"A":u>=80?"B":u>=70?"C":u>=60?"D":"F",strengths:["Clear handwriting","Shows work"],areasForImprovement:["Double-check arithmetic"],suggestedNextSteps:["Practice similar problems"]},confidence:{overall:.75+n*.2}}}}_partial(n){const a=this._success(n),s=this._rand(1,Math.min(3,a.analysis.responses.length));for(let o=0;o<s;o++){const c=this._rand(0,a.analysis.responses.length-1);a.analysis.responses[c]={...a.analysis.responses[c],studentAnswer:"[ILLEGIBLE]",isCorrect:null,score:{earned:0,possible:10,percentage:0},feedback:"Could not read student response",confidence:{individual:.2}}}return a.analysis.confidence.overall*=.7,a.warnings=["Some responses could not be read clearly","Consider rescanning with better lighting"],a}_error(n,a,s=!1){return{success:!1,error:{code:n,message:a,retryable:s},analysis:null}}_questions=["Solve for x: 2x + 5 = 13","What is the capital of France?","Calculate the area (length 8, width 5)","Name three primary colors","What year did WWII end?","Simplify: 3/4 + 1/2","Define photosynthesis","What is 15% of 80?"];_answers=["x = 4","Paris","40 sq units","red, blue, yellow","1945","5/4","Plants convert sunlight to energy","12"];_quadArea(n){let a=0;for(let s=0;s<n.length;s++){const o=(s+1)%n.length;a+=n[s].x*n[o].y-n[o].x*n[s].y}return Math.abs(a)/2}_rand(n,a){return Math.floor(Math.random()*(a-n+1))+n}_delay(n){return new Promise(a=>setTimeout(a,n))}}const tx="AIzaSyC19Yxz4N4sEvbJGO6R1jcv1J7XbD7ZyXw",x4=`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${tx}`,lv=!1,S4=new g4,_4=new y4,w4=new v4,T4=new b4,E4={score:78,isCorrect:!1,logicTrace:[{step:1,content:"Correct equation selected (kinematic)",isValid:!0,note:null},{step:2,content:"Correct substitution of known values",isValid:!0,note:null},{step:3,content:"Arithmetic error: 9.8  2 computed as 18.6",isValid:!1,note:"Should be 19.6"},{step:4,content:"Conclusion carried forward from error",isValid:!1,note:null}],divergencePoint:{step:3,errorType:"COMPUTATIONAL",explanation:"Student multiplied 9.8  2 = 18.6 instead of 19.6. Correct method, arithmetic slip."},remediation:"Strong conceptual understanding. Practice mental arithmetic with decimal multiplication.",confidence:.91};async function dr(t,n){const s={contents:[{parts:[{inline_data:{mime_type:"image/jpeg",data:t.includes(",")?t.split(",")[1]:t}},{text:n}]}],generationConfig:{temperature:.1,responseMimeType:"application/json"}},o=await fetch(x4,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok){const d=await o.text();throw new Error(`Gemini API error ${o.status}: ${d}`)}const u=(await o.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!u)throw new Error("Empty response from Gemini");return A4(u)}function A4(t){const n=t.match(/\{[\s\S]*\}/);if(!n)throw new Error("No JSON found in response");return JSON.parse(n[0])}async function C4(t){return dr(t,`Analyze this document image and describe its structure in JSON:
{
  "documentType": "WORKSHEET|ESSAY|TEST|MATH|DRAWING",
  "sections": [{"type": "header|questions|answers|work", "location": "top|middle|bottom", "count": 0}],
  "estimatedQuestionCount": 0,
  "hasHandwriting": false,
  "overallReadability": 0.0
}`)}async function M4(t,n={}){const{prompt:a}=await S4.generate({detectedType:n.documentType,imageAnalysis:n.imageQuality,previousPages:n.previousPages||[],rubric:n.rubric,feedbackStyle:n.feedbackStyle||"constructive"});return dr(t,a)}async function R4(t,n){if(!n.length)return null;const a=`Re-examine these specific questions and provide your best interpretation:
${n.map(s=>`- Question ${s.questionId}: Current reading: "${s.studentAnswer}"`).join(`
`)}

Respond with JSON:
{
  "verifications": [
    {"questionId": "...", "revisedAnswer": "...", "confidence": 0.0, "notes": "..."}
  ]
}`;return dr(t,a)}async function nx(t,n={},a={}){const{mode:s="full",imageQuality:o=null,previousPages:c=[],rubric:u=null,feedbackStyle:d}=a;try{if(s==="quick")return await z4(t,n);const p=await C4(t),m=p.documentType||"WORKSHEET",g=await M4(t,{documentType:m,imageQuality:o,previousPages:c,rubric:u,feedbackStyle:d}),y=(g.responses||[]).filter(M=>(M.confidence?.individual??1)<.6);let b=g.responses||[],S=!1;if(y.length>0)try{const M=await R4(t,y);M?.verifications&&(S=!0,b=b.map(D=>{const j=M.verifications.find(C=>C.questionId===D.questionId);return j?{...D,studentAnswer:j.revisedAnswer||D.studentAnswer,confidence:{...D.confidence,verified:j.confidence},verificationNotes:j.notes}:D}))}catch(M){console.warn("[Lymbic] Verification pass failed, continuing:",M.message)}const T=_4.calibrate({rawAIConfidence:g.confidence?.overall,imageQuality:o,responses:b,documentType:m});return{score:g.overallAssessment?.score??g.score??0,isCorrect:(g.overallAssessment?.score??0)>=70,logicTrace:b.map((M,D)=>({step:D+1,content:`${M.questionId}: ${M.studentAnswer||"[no answer]"}`,isValid:M.isCorrect===!0,note:M.feedback||null})),divergencePoint:(()=>{const M=b.find(D=>D.isCorrect===!1);return M?{step:b.indexOf(M)+1,errorType:M.errorType||"UNKNOWN",explanation:M.feedback||"Error detected"}:null})(),remediation:g.overallAssessment?.suggestedNextSteps?.join(". ")||g.remediation||"Review your work and try again.",confidence:T.overall,_structured:{documentType:m,documentStructure:p,responses:b,overallAssessment:g.overallAssessment,calibratedConfidence:T,pageAnalysis:g.pageAnalysis,studentInfo:g.studentInfo,flags:g.flags||[]},_passes:{structure:!0,extraction:!0,verification:S},_recognition:g,timestamp:Date.now()}}catch(p){return console.error("[Lymbic] Analysis failed, falling back to mock:",p),{...E4,_mock:!0,_error:p.message,timestamp:Date.now()}}}async function z4(t,n){const s=await dr(t,`You are an expert at reading handwritten student math/science work.

Transcribe this worksheet image exactly as written. Include all steps, crossed-out work, and margin annotations.

Return ONLY valid JSON:
{
  "transcription": ["step 1 text", "step 2 text"],
  "problemType": "algebra | calculus | physics | chemistry | geometry | other",
  "confidence": 0.0
}`),o=`You are a logic-trace analyst for Lymbic.

Trace the exact cognitive pathway and identify WHERE logic diverged.

Student's transcribed work:
${JSON.stringify(s.transcription,null,2)}

Subject: ${n?.subject||"General"}

Error types: COMPUTATIONAL | PROCEDURAL | CONCEPTUAL | TRANSCRIPTION | NONE

Return ONLY valid JSON:
{
  "score": 0,
  "isCorrect": false,
  "logicTrace": [{"step": 1, "content": "...", "isValid": true, "note": null}],
  "divergencePoint": {"step": 1, "errorType": "COMPUTATIONAL", "explanation": "..."},
  "remediation": "...",
  "confidence": 0.0
}`;return{...await dr(t,o),_recognition:s,timestamp:Date.now()}}const D4=()=>`PL-${Date.now().toString(36)}-${Math.random().toString(36).substr(2,4)}`,Hi=(t,n,a={})=>({success:!1,error:{code:t,message:n,timestamp:Date.now(),...a},analysis:null}),O4=t=>{const n=[];return t?(!t.score&&t.score!==0&&!t.logicTrace&&n.push("Missing core fields"),t.confidence===1&&n.push("Suspiciously perfect confidence")):n.push("Result is null"),{valid:n.length===0,issues:n}};async function j4(t,n,a={}){const s=D4(),o=Date.now();if(console.log(`[Pipeline ${s}] Starting`),!t)return console.error(`[Pipeline ${s}] ABORT: No capture data`),Hi("NULL_CAPTURE","No capture data provided");if(!t.quad||!Array.isArray(t.quad)||t.quad.length!==4)return console.error(`[Pipeline ${s}] ABORT: Invalid geometry`),Hi("INVALID_GEOMETRY","No valid document geometry. Position a document in frame.");for(let g=0;g<4;g++){const y=t.quad[g];if(!y||typeof y.x!="number"||typeof y.y!="number"||isNaN(y.x)||isNaN(y.y))return console.error(`[Pipeline ${s}] ABORT: Corrupt geometry at point ${g}`),Hi("CORRUPT_GEOMETRY","Document detection data is corrupt. Try again.")}console.log(`[Pipeline ${s}] Pre-flight checks`);const c=await w4.run(t,n);if(!c.passed){const g=c.failures[0];return console.error(`[Pipeline ${s}] ABORT: Pre-flight failed`,g),Hi("PREFLIGHT_FAILED",g.reason||"Pre-flight checks failed",{preFlightResult:c})}if(c.warnings.length>0&&console.warn(`[Pipeline ${s}] Pre-flight warnings:`,c.warnings.map(g=>g.reason)),n?.factors?.edgeDensity!==void 0&&n.factors.edgeDensity<.05)return console.error(`[Pipeline ${s}] ABORT: No content detected`),Hi("NO_CONTENT","Captured image appears blank or has no readable content.");console.log(`[Pipeline ${s}] All gates passed. Executing analysis`);let u;try{if(!(lv&&!tx))try{const g=await nx(t.image,a,{imageQuality:n?.factors?.qualityEstimate});g._mock?u={success:!0,analysis:g}:u={success:!0,analysis:g}}catch(g){console.warn(`[Pipeline ${s}] Network analysis failed, falling back to offline estimate:`,g),u={success:!0,analysis:{...(await T4.analyze({...t,readiness:n})).analysis,_offlineEstimate:!0,warnings:["Network unavailable  result is an estimate based on image analysis"]},warnings:["Network unavailable  using offline estimate"]}}}catch(g){return console.error(`[Pipeline ${s}] Analysis execution fatally failed:`,g),Hi("ANALYSIS_ERROR",g.message)}const d=u.success?u.analysis||u:null,p=O4(d);if(!p.valid&&u.success)return console.error(`[Pipeline ${s}] ABORT: Invalid result`,p),Hi("INVALID_RESULT","Analysis produced invalid results. Try again.",{validationIssues:p.issues});const m=Date.now()-o;return console.log(`[Pipeline ${s}] Complete in ${m}ms`),{success:!0,pipelineId:s,duration:m,preFlightResult:c,analysis:d,result:d,warnings:[...c.warnings.map(g=>g.reason),...u.warnings||[]],meta:{usedMock:lv,timestamp:Date.now(),readinessScore:n?.score}}}function k4(t,n=320){const a=Math.min(n/t.videoWidth,n/t.videoHeight,1),s=Math.round(t.videoWidth*a),o=Math.round(t.videoHeight*a),c=document.createElement("canvas");c.width=s,c.height=o;const u=c.getContext("2d",{willReadFrequently:!0});return u.drawImage(t,0,0,s,o),{imageData:u.getImageData(0,0,s,o),width:s,height:o,scale:a}}function N4(t,n=30){const{imageData:a,width:s,height:o}=t,c=a.data,u=new Uint8Array(s*o),d=(g,y)=>{if(g<0||g>=s||y<0||y>=o)return 0;const b=(y*s+g)*4;return c[b]*.299+c[b+1]*.587+c[b+2]*.114},p=[-1,0,1,-2,0,2,-1,0,1],m=[-1,-2,-1,0,0,0,1,2,1];for(let g=1;g<o-1;g++)for(let y=1;y<s-1;y++){let b=0,S=0;for(let E=-1;E<=1;E++)for(let M=-1;M<=1;M++){const D=d(y+M,g+E),j=(E+1)*3+(M+1);b+=D*p[j],S+=D*m[j]}const T=Math.sqrt(b*b+S*S);u[g*s+y]=T>n?255:0}return{edges:u,width:s,height:o}}function L4(t,n=20){const{edges:a,width:s,height:o}=t,c=Math.ceil(Math.sqrt(s*s+o*o)),u=c*2,d=180,p=new Int32Array(u*d);for(let b=0;b<o;b+=2)for(let S=0;S<s;S+=2)if(a[b*s+S]!==0)for(let T=0;T<d;T++){const E=T*Math.PI/180,D=Math.round(S*Math.cos(E)+b*Math.sin(E))+c;D>=0&&D<u&&p[D*d+T]++}const m=Math.max(30,Math.min(s,o)*.1),g=[];for(let b=0;b<p.length;b++)if(p[b]>m){const S=Math.floor(b/d),T=b%d;g.push({rho:S-c,theta:T*Math.PI/180,votes:p[b]})}return U4(g,10,5).sort((b,S)=>S.votes-b.votes).slice(0,n)}function U4(t,n,a){const s=new Array(t.length).fill(!1),o=[],c=[...t].sort((u,d)=>d.votes-u.votes);for(let u=0;u<c.length;u++)if(!s[u]){o.push(c[u]),s[u]=!0;for(let d=u+1;d<c.length;d++){if(s[d])continue;const p=Math.abs(c[d].rho-c[u].rho),m=Math.abs(c[d].theta-c[u].theta)*(180/Math.PI);p<n&&m<a&&(s[d]=!0)}}return o}function V4(t,n,a){if(t.length<4)return null;const s=[],o=[];for(const m of t){const g=m.theta*180/Math.PI;g>65&&g<115?s.push(m):(g<25||g>155)&&o.push(m)}if(s.length<2||o.length<2)return null;const c=s.slice(0,2),u=o.slice(0,2),d=[];for(const m of c)for(const g of u){const y=B4(m,g);y&&y.x>=-5&&y.x<=n+5&&y.y>=-5&&y.y<=a+5&&d.push({x:Math.max(0,Math.min(n,y.x)),y:Math.max(0,Math.min(a,y.y))})}if(d.length!==4)return null;const p=H4(d);return P4(p,n,a)?p:null}function B4(t,n){const{rho:a,theta:s}=t,{rho:o,theta:c}=n,u=Math.cos(s)*Math.sin(c)-Math.cos(c)*Math.sin(s);return Math.abs(u)<.001?null:{x:(a*Math.sin(c)-o*Math.sin(s))/u,y:(o*Math.cos(s)-a*Math.cos(c))/u}}function H4(t){const n=t.reduce((s,o)=>s+o.x,0)/4,a=t.reduce((s,o)=>s+o.y,0)/4;return[...t].sort((s,o)=>{const c=Math.atan2(s.y-a,s.x-n),u=Math.atan2(o.y-a,o.x-n);return c-u})}function P4(t,n,a){const s=ix(t),o=n*a;if(s<o*.12||s>o*.95)return!1;for(let c=0;c<4;c++){const u=t[(c+3)%4],d=t[c],p=t[(c+1)%4],m=$4(u,d,p);if(m<55||m>125)return!1}return!0}function ix(t){let n=0;for(let a=0;a<4;a++){const s=(a+1)%4;n+=t[a].x*t[s].y,n-=t[s].x*t[a].y}return Math.abs(n)/2}function $4(t,n,a){const s={x:t.x-n.x,y:t.y-n.y},o={x:a.x-n.x,y:a.y-n.y},c=s.x*o.x+s.y*o.y,u=Math.sqrt(s.x*s.x+s.y*s.y),d=Math.sqrt(o.x*o.x+o.y*o.y);if(u===0||d===0)return 0;const p=Math.max(-1,Math.min(1,c/(u*d)));return Math.acos(p)*(180/Math.PI)}function I4(t){const n=Math.hypot(t[1].x-t[0].x,t[1].y-t[0].y),a=Math.hypot(t[2].x-t[3].x,t[2].y-t[3].y),s=Math.hypot(t[3].x-t[0].x,t[3].y-t[0].y),o=Math.hypot(t[2].x-t[1].x,t[2].y-t[1].y),c=Math.min(n,a)/Math.max(n,a),u=Math.min(s,o)/Math.max(s,o);return c<.65||u<.65}function Z4(t){if(navigator.vibrate)switch(t){case"success":navigator.vibrate([10,50,10]);break;case"warning":navigator.vibrate(100);break;case"error":navigator.vibrate([50,100,50,100,50]);break}}const q4=8,G4=.6,Y4=25;function F4(t,n){const a=t.filter(o=>o.quad);if(a.length<3)return!1;const s=a.slice(-3);for(let o=0;o<4;o++)for(let c=1;c<s.length;c++)if(Math.hypot(s[c].quad[o].x-s[c-1].quad[o].x,s[c].quad[o].y-s[c-1].quad[o].y)>n)return!1;return!0}function X4(t){const n=t.filter(a=>a.quad);return n.length===0?null:[0,1,2,3].map(a=>({x:n.reduce((s,o)=>s+o.quad[a].x,0)/n.length,y:n.reduce((s,o)=>s+o.quad[a].y,0)/n.length}))}function K4(t,n=200){const[a,s]=w.useState({detected:!1,quad:null,confidence:0,isStable:!1,scale:1,alignmentState:"searching"}),o=w.useRef([]),c=w.useRef(!1),u=w.useCallback(()=>{const d=t.current;if(!d||!d.videoWidth)return;const p=k4(d,320),m=N4(p,30),g=L4(m,20),y=V4(g,p.width,p.height);o.current.push({detected:!!y,quad:y,ts:Date.now()}),o.current.length>q4&&o.current.shift();const b=o.current,T=b.filter(C=>C.detected).length/Math.max(b.length,1),E=F4(b,Y4),M=T>=G4&&E,D=M?X4(b):null;let j="searching";if(D){const C=ix(D),B=p.width*p.height,P=C/B,Q=D.reduce((ae,ie)=>ae+ie.x,0)/4,X=D.reduce((ae,ie)=>ae+ie.y,0)/4,K=Math.hypot(Q-p.width/2,X-p.height/2);P<.2?j="too_far":P>.92?j="too_close":K>p.width*.18?j="off_center":I4(D)?j="tilted":j="ready"}j==="ready"&&E&&!c.current?(Z4("success"),c.current=!0):j!=="ready"&&(c.current=!1),s({detected:M,quad:D,confidence:T,isStable:E,scale:p.scale,alignmentState:j})},[t]);return w.useEffect(()=>{const d=setInterval(u,n);return()=>clearInterval(d)},[u,n]),a}function Q4(t,n={}){const{autoCapture:a=!1,autoCaptureDelay:s=1200,autoAnalyze:o=!0,enhanceImages:c=!0,analysisMode:u="full"}=n,d=w.useRef(new u4),p=w.useRef(new f4),m=w.useRef(new d4),g=w.useRef(new h4),y=w.useRef(new p4),b=w.useRef(new m4),S=w.useRef(null),T=w.useRef(null),[E,M]=w.useState({mode:"SCANNING",activePage:null,allPages:[],lastCapture:null,qualityAnalysis:null,synthesis:null,recommendations:[],analysisResult:null,analysisError:null,readiness:null}),[D,j]=w.useState(200);w.useEffect(()=>{E.readiness?.stabilityMet?Date.now()-(E.readiness.stableSince||Date.now())>2e3&&D===200&&j(500):D!==200&&j(200)},[E.readiness?.stabilityMet,E.readiness?.stableSince,D]);const C=K4(t,D);w.useEffect(()=>{if(!t.current)return;const ge=setInterval(()=>{const Ae=t.current;if(!Ae||Ae.videoWidth===0)return;const fe=document.createElement("canvas"),V=.25;fe.width=Ae.videoWidth*V,fe.height=Ae.videoHeight*V;const G=fe.getContext("2d");G.drawImage(Ae,0,0,fe.width,fe.height),S.current=G.getImageData(0,0,fe.width,fe.height)},200);return()=>clearInterval(ge)},[t]),w.useEffect(()=>{const ce=b.current.assess({detected:C.detected,quad:C.quad,confidence:C.confidence,frameData:S.current});if(M(fe=>({...fe,readiness:ce})),!C.detected||!C.quad){T.current=null;return}const ge=d.current,Ae=ge.update(C.quad);if(Ae.length>0){const fe=Ae[0],V=ge.getStability(fe.id);V.stable?T.current||(T.current=Date.now()):T.current=null,M(G=>({...G,activePage:{...fe.page,stability:V,isNew:fe.isNew},allPages:ge.getAllPages()}))}},[C]);const B=w.useCallback(async()=>{const ce=t.current;if(!ce)return null;const ge=document.createElement("canvas");ge.width=ce.videoWidth,ge.height=ce.videoHeight,ge.getContext("2d").drawImage(ce,0,0);const Ae=ge.toDataURL("image/jpeg",.8),fe=await p.current.analyze(Ae);return M(V=>({...V,qualityAnalysis:fe})),fe},[t]),P=w.useCallback(async()=>{const ce=t.current;if(!ce)return null;M(F=>({...F,mode:"QUALITY_CHECK"}));const ge=await B();if(!ge.shouldProceed)return M(F=>({...F,mode:"QUALITY_ISSUE",qualityAnalysis:ge})),{success:!1,reason:"quality",quality:ge};M(F=>({...F,mode:"CAPTURING"}));const Ae=document.createElement("canvas");Ae.width=ce.videoWidth,Ae.height=ce.videoHeight,Ae.getContext("2d").drawImage(ce,0,0);let fe=Ae.toDataURL("image/jpeg",.92);c&&ge.canAutoFix&&ge.issues.length>0&&(M(oe=>({...oe,mode:"ENHANCING"})),fe=(await m.current.enhance(fe,ge)).enhanced);const V=await g.current.generate(fe);for(const F of d.current.getAllPages())if(F.semanticFingerprint){const oe=g.current.compare(V,F.semanticFingerprint);if(oe>.85)return M(pe=>({...pe,mode:"DUPLICATE_DETECTED"})),{success:!1,reason:"duplicate",existingPageId:F.id,similarity:oe}}const G=d.current;if(E.activePage){G.setCapture(E.activePage.id,fe);const F=G.getPage(E.activePage.id);F&&(F.semanticFingerprint=V)}if(navigator.vibrate&&navigator.vibrate([15,30,15]),M(F=>({...F,mode:o?"ANALYZING":"SCANNING",lastCapture:{pageId:E.activePage?.id||Date.now(),timestamp:Date.now(),image:fe,quad:C.quad?[...C.quad]:null,quality:ge,fingerprint:V}})),o){E.activePage&&G.markAnalyzing(E.activePage.id);try{const F={image:fe,quad:C.quad?[...C.quad]:null,timestamp:Date.now(),readinessScore:E.readiness?.score};let oe;if(E.readiness&&C.quad){const R=await j4(F,E.readiness,{mode:u,imageQuality:ge});if(oe=R.success?R.result||R.analysis:null,!R.success)throw new Error(R.error?.message||"Pipeline failed")}else oe=await nx(fe,{},{mode:u,imageQuality:ge,previousPages:G.getAnalyzedPages().map(R=>({analysisResult:R.analysisResult,summary:R.analysisResult?.overallAssessment?.summary}))});E.activePage&&G.markComplete(E.activePage.id,oe);const pe=y.current.synthesize(G.getAnalyzedPages());return M(R=>({...R,mode:"COMPLETE",analysisResult:oe,synthesis:pe,recommendations:pe?.recommendations||[],allPages:G.getAllPages()})),{success:!0,pageId:E.activePage?.id,image:fe,result:oe}}catch(F){return console.error("[SmartScanner] Analysis failed:",F),E.activePage&&G.markFailed(E.activePage.id,F.message),M(oe=>({...oe,mode:"SCANNING",analysisError:F.message})),{success:!1,reason:"analysis_failed",error:F.message}}}return{success:!0,pageId:E.activePage?.id,image:fe}},[t,B,c,o,u,E.activePage,E.readiness,C.quad]);w.useEffect(()=>{if(!a||!T.current||E.mode!=="SCANNING"||!E.activePage||E.activePage.capturedImage)return;Date.now()-T.current>=s&&P()},[E.activePage,E.mode,a,s,P]);const Q=w.useCallback(()=>P(),[P]),X=w.useCallback(async()=>{const ce=t.current;if(!ce)return null;const ge=document.createElement("canvas");return ge.width=ce.videoWidth,ge.height=ce.videoHeight,ge.getContext("2d").drawImage(ce,0,0),ge.toDataURL("image/jpeg",.92)},[t]),K=w.useCallback(()=>{d.current.reset(),b.current.reset(),T.current=null,M({mode:"SCANNING",activePage:null,allPages:[],lastCapture:null,qualityAnalysis:null,synthesis:null,recommendations:[],analysisResult:null,analysisError:null,readiness:null})},[]),ae=w.useCallback(()=>{T.current=null,M(ce=>({...ce,mode:"SCANNING",activePage:null,qualityAnalysis:null}))},[]),ie=w.useCallback(()=>y.current.synthesize(d.current.getAnalyzedPages()),[]),Ue=E.readiness?.ready===!0&&!E.activePage?.capturedImage&&E.mode==="SCANNING";return{detection:C,mode:E.mode,activePage:E.activePage,allPages:E.allPages,lastCapture:E.lastCapture,qualityAnalysis:E.qualityAnalysis,synthesis:E.synthesis,recommendations:E.recommendations,analysisResult:E.analysisResult,analysisError:E.analysisError,isReadyToCapture:Ue,analyzedCount:d.current.getAnalyzedPages().length,readiness:E.readiness,stabilityProgress:E.readiness?.stabilityProgress||0,readinessScore:E.readiness?.score||0,guidance:E.readiness?.guidance||{primary:{message:"Initializing",icon:"loading"},all:[],isReady:!1},capture:Q,forceCapture:X,reset:K,nextPage:ae,getSynthesis:ie,checkQuality:B}}const cv={searching:"Looking for document",too_far:"Move closer to the page",too_close:"Move back a little",off_center:"Center the document",tilted:"Hold camera straight",ready:"Perfect  hold steady"};function J4({detection:t,videoWidth:n,videoHeight:a}){const{detected:s,quad:o,confidence:c,isStable:u,scale:d,alignmentState:p}=t,m=o?o.map(b=>({x:b.x/d,y:b.y/d})):null,g=p==="ready"&&u,y=g?"#22c55e":s?"#a855f7":"#6b7280";return x.jsxs(x.Fragment,{children:[x.jsx(Rt,{children:s&&m&&x.jsxs(te.svg,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:5},viewBox:`0 0 ${n||1920} ${a||1080}`,preserveAspectRatio:"xMidYMid slice",children:[x.jsx("polygon",{points:m.map(b=>`${b.x},${b.y}`).join(" "),fill:"none",stroke:y,strokeWidth:g?4:3,strokeLinejoin:"round",style:{transition:"stroke 0.3s ease"}}),m.map((b,S)=>x.jsx("circle",{cx:b.x,cy:b.y,r:g?10:7,fill:y,style:{transition:"fill 0.3s ease, r 0.3s ease"}},S))]},"quad")}),x.jsx("div",{style:{position:"absolute",bottom:110,left:0,right:0,display:"flex",justifyContent:"center",zIndex:8,pointerEvents:"none"},children:x.jsx(Rt,{mode:"wait",children:x.jsxs(te.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2},style:{padding:"8px 18px",borderRadius:999,fontSize:"0.82rem",fontWeight:600,display:"flex",alignItems:"center",gap:6,background:g?"rgba(34, 197, 94, 0.85)":"rgba(0, 0, 0, 0.6)",color:"white",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",boxShadow:g?"0 0 16px rgba(34, 197, 94, 0.4)":"none",transition:"background 0.3s ease, box-shadow 0.3s ease"},children:[x.jsx(Q5,{size:14}),cv[p]||cv.searching]},p+(u?"-s":""))})}),x.jsx("div",{style:{position:"absolute",top:60,right:16,zIndex:8,width:40,height:40,pointerEvents:"none"},children:x.jsxs("svg",{viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)"},children:[x.jsx("circle",{cx:"20",cy:"20",r:"16",fill:"none",stroke:"rgba(255,255,255,0.15)",strokeWidth:"3"}),x.jsx("circle",{cx:"20",cy:"20",r:"16",fill:"none",stroke:g?"#22c55e":"#a855f7",strokeWidth:"3",strokeDasharray:`${c*100.5} 100.5`,strokeLinecap:"round",style:{transition:"stroke-dasharray 0.3s ease, stroke 0.3s ease"}})]})})]})}function W4(){const t=Fa(),{data:n,setScanResult:a}=Fi(),{setEmotion:s}=gr(),o=w.useRef(null),c=w.useRef(null),u=w.useRef(null),[d,p]=w.useState("requesting"),[m,g]=w.useState(null),[y,b]=w.useState(!1),[S,T]=w.useState("environment"),[E,M]=w.useState(null),[D,j]=w.useState(""),C=w.useRef(`session_${Date.now()} `),[B,P]=w.useState(!1),[Q,X]=w.useState(0),[K,ae]=w.useState(!1),ie=Q4(o,{autoCapture:!1,analysisMode:"full"}),Ue=ie.detection;w.useEffect(()=>{s("focus")},[s]);const ce=w.useCallback(()=>{u.current&&(u.current.getTracks().forEach(H=>H.stop()),u.current=null)},[]),ge=w.useCallback(async(H="environment")=>{try{u.current&&(u.current.getTracks().forEach(J=>J.stop()),u.current=null),b(!1);const Y=await navigator.mediaDevices.getUserMedia({video:{facingMode:H,width:{ideal:1920},height:{ideal:1080}}});u.current=Y,o.current&&(o.current.srcObject=Y)}catch(Y){console.error("Camera access error:",Y),p("denied"),s("error")}},[s]);w.useEffect(()=>()=>ce(),[ce]),w.useEffect(()=>{if(d==="complete"){const H=setTimeout(()=>{ce(),t("/results")},2500);return()=>clearTimeout(H)}},[d,t,ce]);const Ae=()=>{ge(S),p("preview"),s("focus")},fe=()=>{const H=S==="environment"?"user":"environment";T(H),ge(H)},V=()=>{b(!0)},G=async()=>{const H=await ie.forceCapture();if(H){if(c.current){const Y=new Image;Y.onload=()=>{const J=c.current;J&&(J.width=Y.width,J.height=Y.height,J.getContext("2d").drawImage(Y,0,0))},Y.src=H}g(H),p("scanning"),C.captureData={image:H,metadata:{qualityScore:ie.qualityAnalysis?.overallScore??1}}}},F=async()=>{p("analyzing"),C.captureData;try{j("Analyzing quality");const H=await ie.capture();if(H?.success){j("Tracing logic pathway");const Y=await Wb(H.result,{qualityScore:ie.qualityAnalysis?.overallScore??1},C.current);B?(X(J=>J+1),ae(!0),s("success"),setTimeout(()=>ae(!1),2e3),p("preview"),g(null),j(""),ie.nextPage(),navigator.vibrate&&navigator.vibrate([50,50,50])):(a(Y.success?Y.result:H.result),p("complete"),s("success"))}else H?.reason==="quality"?(M({reason:"Low image quality",suggestion:ie.qualityAnalysis?.recommendations?.[0]||"Try better lighting"}),p("quality_fail"),s("error")):H?.reason==="duplicate"?(j("Duplicate detected  try a different page"),setTimeout(()=>{p("preview"),g(null)},1500)):(a(null),p("complete"))}catch(H){console.error("[Lymbic] Pipeline error:",H),B?(j("Error saving scan"),setTimeout(()=>{p("preview"),g(null)},1500)):(a(null),p("complete"))}},oe=()=>{ce(),t("/results")},pe=()=>{p("requesting"),b(!1),g(null),M(null),s("neutral")},R=()=>{p("preview"),M(null),s("focus")};return x.jsxs(te.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},style:{padding:0,justifyContent:"flex-start",background:"#000",position:"relative",overflow:"hidden"},children:[x.jsx(Rt,{children:d==="requesting"&&x.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.95},style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.9)",zIndex:50,padding:"24px"},children:x.jsxs(te.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"glass-card-elevated",style:{maxWidth:360,textAlign:"center",display:"flex",flexDirection:"column",gap:"20px",padding:"32px"},children:[x.jsx("div",{style:{width:56,height:56,borderRadius:16,background:"linear-gradient(135deg, var(--lymbic-purple), var(--lymbic-purple-deep))",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"},children:x.jsx(cr,{size:28,color:"white"})}),x.jsxs("div",{children:[x.jsx("p",{style:{fontWeight:600,fontSize:"1.1rem",marginBottom:"8px"},children:'"Lymbic" Would Like to Access the Camera'}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem",lineHeight:1.5},children:"We'll use the camera to scan worksheets. Names are blurred instantly  your students' privacy is our priority."})]}),x.jsxs("div",{style:{display:"flex",gap:"12px"},children:[x.jsx(Pt,{variant:"secondary",style:{flex:1,padding:"12px"},onClick:()=>t("/grade"),children:"Not Now"}),x.jsx(Pt,{variant:"primary",style:{flex:1,padding:"12px"},onClick:Ae,children:"Allow Camera"})]})]})})}),x.jsx(Rt,{children:d==="denied"&&x.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.9)",zIndex:50,padding:"24px"},children:x.jsxs(te.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"glass-card-elevated",style:{maxWidth:360,textAlign:"center",display:"flex",flexDirection:"column",gap:"20px",padding:"32px"},children:[x.jsx("div",{style:{width:56,height:56,borderRadius:16,background:"rgba(239, 68, 68, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",border:"1px solid rgba(239, 68, 68, 0.3)"},children:x.jsx(tM,{size:28,color:"var(--grade-f)"})}),x.jsxs("div",{children:[x.jsx("p",{style:{fontWeight:600,fontSize:"1.1rem",marginBottom:"8px"},children:"Camera Access Denied"}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem",lineHeight:1.5},children:"Lymbic needs the camera to scan and anonymize worksheets. Please enable camera access in your browser settings and try again."})]}),x.jsxs("div",{style:{display:"flex",gap:"12px"},children:[x.jsx(Pt,{variant:"secondary",style:{flex:1,padding:"12px"},onClick:()=>t("/grade"),children:"Go Back"}),x.jsxs(Pt,{variant:"primary",style:{flex:1,padding:"12px",gap:"6px"},onClick:pe,children:[x.jsx(V0,{size:16})," Retry"]})]})]})})}),x.jsx(Rt,{children:d==="quality_fail"&&x.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.85)",zIndex:50,padding:"24px"},children:x.jsxs(te.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"glass-card-elevated",style:{maxWidth:360,textAlign:"center",display:"flex",flexDirection:"column",gap:"20px",padding:"32px"},children:[x.jsx("div",{style:{width:56,height:56,borderRadius:16,background:"rgba(251,191,36,0.15)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",border:"1px solid rgba(251,191,36,0.3)"},children:x.jsx($5,{size:28,color:"#fbbf24"})}),x.jsxs("div",{children:[x.jsx("p",{style:{fontWeight:600,fontSize:"1.1rem",marginBottom:"8px"},children:"Image Quality Too Low"}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem",lineHeight:1.5},children:E?.suggestion||"Please adjust the lighting and try again."})]}),x.jsxs("div",{style:{display:"flex",gap:"12px"},children:[x.jsx(Pt,{variant:"secondary",style:{flex:1,padding:"12px"},onClick:()=>t("/grade"),children:"Cancel"}),x.jsxs(Pt,{variant:"primary",style:{flex:1,padding:"12px",gap:"6px"},onClick:R,children:[x.jsx(V0,{size:16})," Try Again"]})]})]})})}),x.jsx(Rt,{children:d==="analyzing"&&x.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.92)",zIndex:50,padding:"24px"},children:x.jsxs(te.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[x.jsx(te.div,{animate:{rotate:360},transition:{duration:1.2,repeat:1/0,ease:"linear"},style:{width:56,height:56,borderRadius:"50%",border:"3px solid rgba(139,92,246,0.2)",borderTop:"3px solid var(--lymbic-purple)",display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx(Z5,{size:24,color:"var(--lymbic-purple)"})}),x.jsxs("div",{children:[x.jsx("p",{style:{fontWeight:600,fontSize:"1.1rem",marginBottom:"6px"},children:"Lymbic is thinking"}),x.jsx(te.p,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:D||"Initializing analysis"},D)]})]})})}),x.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:20,background:"linear-gradient(180deg, rgba(0,0,0,0.6) 0%, transparent 100%)"},children:[x.jsx(Pt,{variant:"ghost",onClick:()=>t("/"),style:{padding:8,background:"rgba(255,255,255,0.2)",borderRadius:"50%",backdropFilter:"blur(10px)",border:"none",color:"white"},children:x.jsx(fM,{size:24})}),d!=="requesting"&&x.jsxs("div",{onClick:()=>P(!B),style:{display:"flex",alignItems:"center",gap:8,background:"rgba(0,0,0,0.4)",padding:"6px 12px",borderRadius:20,backdropFilter:"blur(10px)",cursor:"pointer",border:"1px solid rgba(255,255,255,0.1)"},children:[x.jsx("span",{style:{color:"white",fontSize:"0.8rem",fontWeight:500},children:"Batch Mode"}),x.jsx("div",{style:{width:36,height:20,borderRadius:10,background:B?"#22c55e":"rgba(255,255,255,0.3)",position:"relative",transition:"background 0.2s"},children:x.jsx(te.div,{animate:{x:B?18:2},style:{width:16,height:16,borderRadius:"50%",background:"white",position:"absolute",top:2,boxShadow:"0 1px 3px rgba(0,0,0,0.3)"}})})]}),x.jsx(Pt,{variant:"ghost",onClick:fe,style:{padding:8,background:"rgba(255,255,255,0.2)",borderRadius:"50%",backdropFilter:"blur(10px)",border:"none",color:"white"},children:x.jsx(H5,{size:24})})]}),x.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:"100%",height:"100%"},children:[x.jsx("canvas",{ref:c,style:{display:"none"}}),x.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[(d==="preview"||d==="scanning"&&!m)&&x.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,onLoadedMetadata:V,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}}),m&&(d==="scanning"||d==="complete")&&x.jsx("img",{src:m,alt:"Captured worksheet",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",filter:d==="complete"?"brightness(1.05)":"none",transition:"filter 1s ease"}}),d==="preview"&&!y&&x.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#000"},children:x.jsxs("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",gap:"12px",alignItems:"center"},children:[x.jsx("div",{style:{width:48,height:48,borderRadius:"50%",border:"3px solid rgba(124, 58, 237, 0.3)",borderTopColor:"var(--lymbic-purple)",animation:"spin 1s linear infinite"}}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"Initializing camera..."})]})}),y&&d==="preview"&&x.jsx(J4,{detection:Ue,videoWidth:o.current?.videoWidth||1920,videoHeight:o.current?.videoHeight||1080}),d==="scanning"&&x.jsx(_M,{onComplete:F}),d==="complete"&&x.jsxs(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{position:"absolute",bottom:100,left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"rgba(16, 185, 129, 0.15)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"12px",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[x.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#10B981"}}),x.jsx("span",{style:{color:"#10B981",fontSize:"0.85rem",fontWeight:600},children:"Digitized & Anonymized"})]})]})]}),x.jsx("div",{style:{position:"absolute",bottom:80,left:0,right:0,textAlign:"center",zIndex:10},children:x.jsxs(Rt,{mode:"wait",children:[d==="preview"&&ie.guidance&&!ie.guidance.isReady&&x.jsx(te.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{color:"rgba(255,255,255,0.8)",fontSize:"0.85rem",fontWeight:500},children:ie.guidance.primary.message},"guidance"),d==="preview"&&ie.isReadyToCapture&&x.jsx(te.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{color:"#22c55e",fontSize:"0.85rem",fontWeight:600},children:" Ready to capture"},"ready"),d==="scanning"&&x.jsx(te.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{color:"var(--lymbic-purple-light)",fontSize:"0.85rem",fontWeight:500},children:"Analyzing logic and anonymizing..."},"scanning"),d==="complete"&&x.jsx(te.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{color:"var(--logic-green)",fontSize:"0.85rem",fontWeight:600},children:" Scan complete  Redirecting to results..."},"complete")]})}),d==="preview"&&y&&x.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},style:{position:"absolute",bottom:0,left:0,right:0,padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",background:"linear-gradient(0deg, rgba(0,0,0,0.8) 0%, transparent 100%)"},children:x.jsxs("div",{style:{position:"relative",width:84,height:84},children:[x.jsxs("svg",{width:"84",height:"84",style:{position:"absolute",top:0,left:0,transform:"rotate(-90deg)"},children:[x.jsx("circle",{cx:"42",cy:"42",r:"38",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"3"}),x.jsx("circle",{cx:"42",cy:"42",r:"38",fill:"none",stroke:ie.isReadyToCapture?"#22c55e":"rgba(139,92,246,0.6)",strokeWidth:"3",strokeDasharray:`${2*Math.PI*38} `,strokeDashoffset:`${2*Math.PI*38*(1-ie.stabilityProgress)} `,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.2s ease, stroke 0.3s ease"}})]}),x.jsx(te.button,{whileHover:{scale:1.05},whileTap:ie.isReadyToCapture?{scale:.9}:{},onClick:G,disabled:!ie.isReadyToCapture,"aria-label":ie.isReadyToCapture?"Capture document":"Align document to capture",style:{position:"absolute",top:6,left:6,width:72,height:72,borderRadius:"50%",background:ie.isReadyToCapture?"#22c55e":"white",border:`4px solid ${ie.isReadyToCapture?"rgba(34,197,94,0.4)":"rgba(255,255,255,0.3)"} `,display:"flex",alignItems:"center",justifyContent:"center",cursor:ie.isReadyToCapture?"pointer":"not-allowed",opacity:ie.isReadyToCapture?1:.6,boxShadow:ie.isReadyToCapture?"0 0 24px rgba(34,197,94,0.4)":"0 0 24px rgba(255,255,255,0.2)",transition:"background 0.3s ease, border 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease"},children:x.jsx("div",{style:{width:56,height:56,borderRadius:"50%",background:"linear-gradient(135deg, var(--lymbic-purple), var(--lymbic-purple-deep))",display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx(cr,{size:28,color:"white"})})})]})}),x.jsx(Rt,{children:B&&Q>0&&d!=="scanning"&&x.jsx("div",{style:{position:"absolute",bottom:120,right:30,zIndex:30},children:x.jsxs(Pt,{variant:"primary",onClick:oe,style:{borderRadius:30,padding:"12px 24px",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.4)",gap:8},children:[x.jsxs("span",{children:["Finish Batch (",Q,")"]}),x.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"50%",padding:4,display:"flex"},children:x.jsx(yb,{size:16})})]})})}),x.jsx(Rt,{children:K&&x.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},style:{position:"absolute",top:100,left:"50%",transform:"translateX(-50%)",background:"rgba(34, 197, 94, 0.9)",color:"white",padding:"8px 16px",borderRadius:20,zIndex:40,display:"flex",alignItems:"center",gap:8,backdropFilter:"blur(4px)",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:[x.jsx("div",{style:{background:"white",borderRadius:"50%",padding:2},children:x.jsx(D5,{size:12,color:"#22c55e"})}),x.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600},children:"Scan Saved"})]})})]})}function Ko({children:t,className:n="",style:a={},onClick:s,layoutId:o,testId:c}){const{motion:u,expression:d,canUseGlassmorphism:p,canUseParticles:m,shouldReduceMotion:g}=gr(),y=w.useRef(null),[b,S]=w.useState(!1),T=sd(0),E=sd(0),M=({clientX:C,clientY:B,currentTarget:P})=>{if(g)return;const{left:Q,top:X}=P.getBoundingClientRect();T.set(C-Q),E.set(B-X)},D=v5`radial-gradient(
    600px circle at ${T}px ${E}px,
    var(--surface-glass-border),
    transparent 40%
  )`,j={background:p?"var(--surface-glass)":"var(--surface-card)",backdropFilter:p?`blur(${d.blurAmount}px)`:"none",border:"1px solid var(--surface-glass-border)",borderRadius:"var(--radius-lg)",position:"relative",overflow:"hidden",...a};return x.jsxs(te.div,{ref:y,className:`adaptive-card ${n}`,style:j,initial:g?{opacity:1,y:0}:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:u.cardHover,whileTap:u.cardPress,layoutId:o,onMouseMove:M,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onClick:s,"data-testid":c,children:[!g&&x.jsx(te.div,{className:"glow-overlay",style:{position:"absolute",inset:0,background:D,opacity:b?d.glowIntensity:0,transition:"opacity 0.3s ease",pointerEvents:"none",zIndex:1}}),x.jsx("div",{style:{position:"relative",zIndex:2},children:t}),m&&b&&d.particleDensity>0&&x.jsx(eO,{density:d.particleDensity,hue:d.primaryHue})]})}function eO({density:t,hue:n}){const a=Math.min(t,20),s=Array.from({length:a});return x.jsx("div",{style:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none",zIndex:0},children:s.map((o,c)=>x.jsx(te.div,{initial:{x:Math.random()*100+"%",y:Math.random()*100+"%",opacity:0,scale:0},animate:{y:[null,Math.random()*-100],opacity:[0,.5,0],scale:[0,1.5,0]},transition:{duration:2+Math.random()*2,repeat:1/0,delay:Math.random()*2,ease:"easeOut"},style:{position:"absolute",width:4,height:4,borderRadius:"50%",background:`hsl(${n}, 80%, 70%)`,boxShadow:`0 0 10px hsl(${n}, 80%, 70%)`}},c))})}function tO(t,n){const a=t.score??0,s=a>=93?"A":a>=90?"A-":a>=87?"B+":a>=83?"B":a>=80?"B-":a>=77?"C+":a>=73?"C":a>=70?"C-":a>=60?"D":"F",o=a>=90?"var(--grade-a)":a>=80?"var(--grade-b)":a>=70?"var(--grade-c)":a>=60?"var(--grade-d)":"var(--grade-f)";let c=[],u=null;Array.isArray(t.logic_trace)&&(c=t.logic_trace.map(p=>typeof p=="string"?p:p.content||`Step ${p.step}`),u=t.logic_trace.findIndex(p=>p.isValid===!1),u===-1&&(u=null));let d=null;return t.divergence_point&&(d=(typeof t.divergence_point=="string"?JSON.parse(t.divergence_point):t.divergence_point).errorType?.replace(/_/g," ")||null,(d==="NONE"||d==="None")&&(d=null)),{id:t.id||`scan_${n}`,traceId:t.id,displayIndex:n+1,grade:s,gradeColor:o,score:a,errorType:d,feedback:t.remediation||"No feedback available.",logicTrace:{steps:c,divergence:u},confidence:t.confidence??.8,isCorrect:t.is_correct??a>=70,timestamp:t.created_at,sessionId:t.session_id,captureQuality:t.capture_quality,isReal:!0}}function nO(t){const n=t.score??0,a=n>=93?"A":n>=90?"A-":n>=87?"B+":n>=83?"B":n>=80?"B-":n>=77?"C+":n>=73?"C":n>=70?"C-":n>=60?"D":"F",s=n>=90?"var(--grade-a)":n>=80?"var(--grade-b)":n>=70?"var(--grade-c)":n>=60?"var(--grade-d)":"var(--grade-f)";return{id:"current",traceId:t.id,displayIndex:0,grade:a,gradeColor:s,score:n,errorType:t.divergencePoint?.errorType?.replace(/_/g," ")||null,feedback:t.remediation||"No feedback available.",logicTrace:{steps:(t.logicTrace||[]).map(o=>o.content||`Step ${o.step}`),divergence:(t.logicTrace||[]).findIndex(o=>!o.isValid)},confidence:t.confidence,isReal:!0,isCurrent:!0,timestamp:new Date().toISOString()}}function iO(){const t=Fa(),{data:n,scanResult:a}=Fi(),{setEmotion:s,motion:o}=gr(),[c,u]=w.useState(null),[d,p]=w.useState({}),[m,g]=w.useState([]),[y,b]=w.useState(!0);w.useEffect(()=>{(async()=>{const{getAllTraces:B}=await Rf(async()=>{const{getAllTraces:Q}=await Promise.resolve().then(()=>Of);return{getAllTraces:Q}},[]),P=B();g(P),b(!1)})()},[]);const S=(()=>{const C=[],B=new Set;if(a){const P=nO(a);C.push(P),a.id&&B.add(a.id)}for(let P=0;P<m.length;P++){const Q=m[P];B.has(Q.id)||(B.add(Q.id),C.push(tO(Q,C.length)))}return C})(),T=S.length>0?Math.round(S.reduce((C,B)=>C+B.score,0)/S.length):0,E=S.filter(C=>C.errorType).length;w.useEffect(()=>{y||(S.length===0?s("neutral"):T>=85?s("success"):T<70?s("encouragement"):s("learning"))},[y,S.length,T,s]);const M=async C=>{const{submitCorrection:B}=await Rf(async()=>{const{submitCorrection:P}=await Promise.resolve().then(()=>Of);return{submitCorrection:P}},void 0);await B(C.traceId,{originalErrorType:C.errorType,actualErrorType:"MANUAL_REVIEW",notes:"Teacher flagged as incorrect"}),p(P=>({...P,[C.id]:!0})),s("learning",{duration:600})},D=async()=>{const{clearAllTraces:C}=await Rf(async()=>{const{clearAllTraces:B}=await Promise.resolve().then(()=>Of);return{clearAllTraces:B}},void 0);C(),g([]),s("neutral")},j=C=>{if(!C)return"";const B=Date.now()-new Date(C).getTime();return B<6e4?"Just now":B<36e5?`${Math.floor(B/6e4)}m ago`:B<864e5?`${Math.floor(B/36e5)}h ago`:`${Math.floor(B/864e5)}d ago`};return x.jsxs(te.div,{className:"screen",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.5},style:{justifyContent:"flex-start",padding:"0",minHeight:"100vh"},children:[x.jsx("div",{style:{width:"100%",padding:"20px 20px 24px",background:"linear-gradient(180deg, var(--surface-base) 0%, transparent 100%)",position:"sticky",top:0,zIndex:20,backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},children:x.jsxs("div",{style:{maxWidth:560,margin:"0 auto"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[x.jsx(Pt,{variant:"ghost",onClick:()=>t("/grade"),style:{width:36,height:36,padding:0,borderRadius:"50%"},children:x.jsx(E5,{size:18,color:"var(--text-secondary)"})}),x.jsxs("div",{style:{flex:1},children:[x.jsxs("h1",{className:"text-heading",style:{color:"var(--text-primary)"},children:[n.subject||"Analysis"," Results"]}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:S.length===0?"No scans yet":`${S.length} scan${S.length!==1?"s":""}`})]}),S.length>0&&x.jsx(Pt,{variant:"ghost",onClick:D,title:"Clear scan history",style:{width:36,height:36,padding:0,borderRadius:"50%",color:"var(--grade-f)"},children:x.jsx(sM,{size:16})})]}),S.length>0&&x.jsxs("div",{style:{display:"flex",gap:"10px"},children:[x.jsxs(Ko,{style:{flex:1,padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px"},children:[x.jsx(L0,{size:18,color:"var(--lymbic-purple-light)"}),x.jsxs("div",{children:[x.jsxs("p",{style:{fontSize:"1.2rem",fontWeight:700},children:[T,"%"]}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.7rem"},children:"Avg Score"})]})]}),x.jsxs(Ko,{style:{flex:1,padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px"},children:[x.jsx(bb,{size:18,color:"var(--logic-green)"}),x.jsxs("div",{children:[x.jsx("p",{style:{fontSize:"1.2rem",fontWeight:700},children:S.length}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.7rem"},children:"Scans"})]})]}),x.jsxs(Ko,{style:{flex:1,padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px"},children:[x.jsx(Cf,{size:18,color:"var(--grade-c)"}),x.jsxs("div",{children:[x.jsx("p",{style:{fontSize:"1.2rem",fontWeight:700},children:E}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.7rem"},children:"Errors"})]})]})]})]})}),!y&&S.length===0&&x.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{maxWidth:400,margin:"60px auto",padding:"0 20px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[x.jsx("div",{style:{width:80,height:80,borderRadius:24,background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx(cr,{size:36,color:"var(--lymbic-purple)"})}),x.jsxs("div",{children:[x.jsx("h2",{style:{fontSize:"1.2rem",fontWeight:700,marginBottom:"8px"},children:"No Scans Yet"}),x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem",lineHeight:1.5},children:"Scan a student worksheet to see real analysis results here  logic traces, error detection, and personalized feedback."})]}),x.jsxs(Pt,{variant:"primary",onClick:()=>t("/scan"),style:{padding:"14px 32px",fontSize:"1rem",gap:"8px"},children:[x.jsx(cr,{size:20})," Scan Your First Page"]})]}),y&&x.jsx("div",{style:{textAlign:"center",padding:"60px 20px",color:"var(--text-muted)"},children:"Loading scan history..."}),x.jsx("div",{style:{maxWidth:560,width:"100%",margin:"0 auto",padding:"0 20px 32px",display:"flex",flexDirection:"column",gap:"8px"},children:S.map((C,B)=>x.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.06,duration:.4},children:x.jsxs(Ko,{onClick:()=>u(c===C.id?null:C.id),style:{width:"100%",padding:"0",border:C.isCurrent||c===C.id?"1px solid var(--lymbic-purple)":void 0},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px 18px",width:"100%"},children:[x.jsxs("div",{style:{width:44,height:44,borderRadius:12,background:`${C.gradeColor}15`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,position:"relative"},children:[x.jsx("span",{style:{color:C.gradeColor,fontWeight:800,fontSize:"1rem"},children:C.grade}),C.isCurrent&&x.jsx("div",{style:{position:"absolute",top:-4,right:-4,width:12,height:12,borderRadius:"50%",background:"var(--lymbic-purple)",border:"2px solid var(--surface-base)"}})]}),x.jsxs("div",{style:{flex:1,textAlign:"left"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[x.jsx("p",{style:{fontWeight:600,fontSize:"0.95rem"},children:C.isCurrent?"Current Scan":`Scan #${C.displayIndex}`}),C.isCurrent&&x.jsx("span",{style:{fontSize:"0.6rem",fontWeight:700,padding:"2px 6px",background:"var(--lymbic-purple)",color:"white",borderRadius:6,textTransform:"uppercase"},children:"NEW"})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[x.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.8rem"},children:C.errorType||"No errors detected"}),C.timestamp&&x.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"0.7rem",opacity:.6},children:[" ",j(C.timestamp)]})]})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[x.jsxs("span",{style:{color:C.gradeColor,fontWeight:700,fontSize:"1rem"},children:[C.score,"%"]}),c===C.id?x.jsx(N5,{size:16,color:"var(--text-muted)"}):x.jsx(j5,{size:16,color:"var(--text-muted)"})]})]}),x.jsx(Rt,{children:c===C.id&&x.jsx(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},style:{overflow:"hidden"},children:x.jsxs("div",{style:{padding:"16px 18px",background:"var(--surface-card)",borderTop:"1px solid var(--surface-glass-border)",display:"flex",flexDirection:"column",gap:"16px"},children:[C.confidence!=null&&x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderRadius:"8px",background:C.confidence>=.8?"rgba(52, 211, 153, 0.06)":"rgba(251, 191, 36, 0.06)",border:`1px solid ${C.confidence>=.8?"rgba(52, 211, 153, 0.15)":"rgba(251, 191, 36, 0.15)"}`},children:[x.jsx(L0,{size:12,color:C.confidence>=.8?"var(--logic-green)":"#fbbf24"}),x.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Confidence: ",Math.round(C.confidence*100),"%"]})]}),C.logicTrace.steps.length>0&&x.jsxs("div",{children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"10px"},children:[x.jsx(vb,{size:14,color:"var(--lymbic-purple-light)"}),x.jsx("span",{className:"text-caption",style:{color:"var(--text-muted)",fontSize:"0.65rem"},children:"LOGIC TRACE"})]}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:C.logicTrace.steps.map((P,Q)=>{const X=C.logicTrace.divergence!==null&&Q>=C.logicTrace.divergence;return x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 10px",borderRadius:"6px",background:X?"rgba(239, 68, 68, 0.08)":"rgba(52, 211, 153, 0.06)",border:`1px solid ${X?"rgba(239, 68, 68, 0.2)":"rgba(52, 211, 153, 0.15)"}`},children:[X?x.jsx(Cf,{size:12,color:"var(--grade-f)"}):x.jsx(U0,{size:12,color:"var(--logic-green)"}),x.jsxs("span",{style:{fontSize:"0.78rem",color:X?"var(--grade-f)":"var(--text-secondary)"},children:["Step ",Q+1,": ",P]})]},Q)})})]}),x.jsxs("div",{children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"10px"},children:[x.jsx(G5,{size:14,color:"var(--logic-green)"}),x.jsx("span",{className:"text-caption",style:{color:"var(--text-muted)",fontSize:"0.65rem"},children:"TEACHER FEEDBACK"})]}),x.jsx("div",{className:"chat-bubble chat-bubble-ai",style:{maxWidth:"100%",fontSize:"0.85rem",lineHeight:1.5},children:C.feedback})]}),C.traceId&&!d[C.id]&&x.jsxs(Pt,{variant:"ghost",onClick:P=>{P.stopPropagation(),M(C)},style:{padding:"8px 14px",fontSize:"0.75rem",background:"rgba(239, 68, 68, 0.06)",border:"1px solid rgba(239, 68, 68, 0.15)",color:"var(--grade-f)",gap:"6px",alignSelf:"flex-start"},children:[x.jsx(Cf,{size:12})," Flag as Incorrect"]}),d[C.id]&&x.jsxs("p",{style:{color:"var(--logic-green)",fontSize:"0.75rem",fontWeight:600,display:"flex",alignItems:"center",gap:"6px"},children:[x.jsx(U0,{size:12})," Flagged for review"]})]})})})]})},C.id))})]})}function aO(){const t=gi();return x.jsxs("div",{className:"app-shell",children:[x.jsx("div",{className:"bg-gradient-radial"}),x.jsx("div",{className:"bg-gradient-bottom"}),x.jsx(Rt,{mode:"wait",children:x.jsxs(j_,{location:t,children:[x.jsx(La,{path:"/",element:x.jsx(pM,{})}),x.jsx(La,{path:"/onboarding",element:x.jsx(xM,{})}),x.jsx(La,{path:"/grade",element:x.jsx(SM,{})}),x.jsx(La,{path:"/scan",element:x.jsx(W4,{})}),x.jsx(La,{path:"/results",element:x.jsx(iO,{})})]},t.pathname)})]})}L2.createRoot(document.getElementById("root")).render(x.jsx(w.StrictMode,{children:x.jsx(iw,{children:x.jsx(_w,{children:x.jsx(ww,{children:x.jsx(aO,{})})})})}));
